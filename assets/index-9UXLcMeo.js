(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Vm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cc={exports:{}},Br={},dc={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of;function tx(){if(of)return xe;of=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function j(R,B,ue){this.props=R,this.context=B,this.refs=w,this.updater=ue||b}j.prototype.isReactComponent={},j.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=j.prototype;function _(R,B,ue){this.props=R,this.context=B,this.refs=w,this.updater=ue||b}var T=_.prototype=new S;T.constructor=_,k(T,j.prototype),T.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function $(R,B,ue){var he,pe={},me=null,Ce=null;if(B!=null)for(he in B.ref!==void 0&&(Ce=B.ref),B.key!==void 0&&(me=""+B.key),B)P.call(B,he)&&!z.hasOwnProperty(he)&&(pe[he]=B[he]);var ke=arguments.length-2;if(ke===1)pe.children=ue;else if(1<ke){for(var Te=Array(ke),pt=0;pt<ke;pt++)Te[pt]=arguments[pt+2];pe.children=Te}if(R&&R.defaultProps)for(he in ke=R.defaultProps,ke)pe[he]===void 0&&(pe[he]=ke[he]);return{$$typeof:n,type:R,key:me,ref:Ce,props:pe,_owner:A.current}}function Y(R,B){return{$$typeof:n,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function Z(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function re(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ue){return B[ue]})}var le=/\/+/g;function se(R,B){return typeof R=="object"&&R!==null&&R.key!=null?re(""+R.key):B.toString(36)}function fe(R,B,ue,he,pe){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=R,pe=pe(Ce),R=he===""?"."+se(Ce,0):he,E(pe)?(ue="",R!=null&&(ue=R.replace(le,"$&/")+"/"),fe(pe,B,ue,"",function(pt){return pt})):pe!=null&&(Z(pe)&&(pe=Y(pe,ue+(!pe.key||Ce&&Ce.key===pe.key?"":(""+pe.key).replace(le,"$&/")+"/")+R)),B.push(pe)),1;if(Ce=0,he=he===""?".":he+":",E(R))for(var ke=0;ke<R.length;ke++){me=R[ke];var Te=he+se(me,ke);Ce+=fe(me,B,ue,Te,pe)}else if(Te=v(R),typeof Te=="function")for(R=Te.call(R),ke=0;!(me=R.next()).done;)me=me.value,Te=he+se(me,ke++),Ce+=fe(me,B,ue,Te,pe);else if(me==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ee(R,B,ue){if(R==null)return R;var he=[],pe=0;return fe(R,he,"","",function(me){return B.call(ue,me,pe++)}),he}function ie(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(ue){(R._status===0||R._status===-1)&&(R._status=1,R._result=ue)},function(ue){(R._status===0||R._status===-1)&&(R._status=2,R._result=ue)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var de={current:null},G={transition:null},Q={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:G,ReactCurrentOwner:A};function K(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:ee,forEach:function(R,B,ue){ee(R,function(){B.apply(this,arguments)},ue)},count:function(R){var B=0;return ee(R,function(){B++}),B},toArray:function(R){return ee(R,function(B){return B})||[]},only:function(R){if(!Z(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},xe.Component=j,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=_,xe.StrictMode=r,xe.Suspense=h,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,xe.act=K,xe.cloneElement=function(R,B,ue){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var he=k({},R.props),pe=R.key,me=R.ref,Ce=R._owner;if(B!=null){if(B.ref!==void 0&&(me=B.ref,Ce=A.current),B.key!==void 0&&(pe=""+B.key),R.type&&R.type.defaultProps)var ke=R.type.defaultProps;for(Te in B)P.call(B,Te)&&!z.hasOwnProperty(Te)&&(he[Te]=B[Te]===void 0&&ke!==void 0?ke[Te]:B[Te])}var Te=arguments.length-2;if(Te===1)he.children=ue;else if(1<Te){ke=Array(Te);for(var pt=0;pt<Te;pt++)ke[pt]=arguments[pt+2];he.children=ke}return{$$typeof:n,type:R.type,key:pe,ref:me,props:he,_owner:Ce}},xe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},xe.createElement=$,xe.createFactory=function(R){var B=$.bind(null,R);return B.type=R,B},xe.createRef=function(){return{current:null}},xe.forwardRef=function(R){return{$$typeof:u,render:R}},xe.isValidElement=Z,xe.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ie}},xe.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},xe.startTransition=function(R){var B=G.transition;G.transition={};try{R()}finally{G.transition=B}},xe.unstable_act=K,xe.useCallback=function(R,B){return de.current.useCallback(R,B)},xe.useContext=function(R){return de.current.useContext(R)},xe.useDebugValue=function(){},xe.useDeferredValue=function(R){return de.current.useDeferredValue(R)},xe.useEffect=function(R,B){return de.current.useEffect(R,B)},xe.useId=function(){return de.current.useId()},xe.useImperativeHandle=function(R,B,ue){return de.current.useImperativeHandle(R,B,ue)},xe.useInsertionEffect=function(R,B){return de.current.useInsertionEffect(R,B)},xe.useLayoutEffect=function(R,B){return de.current.useLayoutEffect(R,B)},xe.useMemo=function(R,B){return de.current.useMemo(R,B)},xe.useReducer=function(R,B,ue){return de.current.useReducer(R,B,ue)},xe.useRef=function(R){return de.current.useRef(R)},xe.useState=function(R){return de.current.useState(R)},xe.useSyncExternalStore=function(R,B,ue){return de.current.useSyncExternalStore(R,B,ue)},xe.useTransition=function(){return de.current.useTransition()},xe.version="18.3.1",xe}var af;function Wc(){return af||(af=1,dc.exports=tx()),dc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf;function nx(){if(lf)return Br;lf=1;var n=Wc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,m){var g,y={},v=null,b=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:b,props:y,_owner:o.current}}return Br.Fragment=t,Br.jsx=d,Br.jsxs=d,Br}var cf;function sx(){return cf||(cf=1,cc.exports=nx()),cc.exports}var a=sx(),C=Wc();const sa=Vm(C);var Mo={},uc={exports:{}},ft={},hc={exports:{}},fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function rx(){return df||(df=1,(function(n){function e(G,Q){var K=G.length;G.push(Q);e:for(;0<K;){var R=K-1>>>1,B=G[R];if(0<o(B,Q))G[R]=Q,G[K]=B,K=R;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Q=G[0],K=G.pop();if(K!==Q){G[0]=K;e:for(var R=0,B=G.length,ue=B>>>1;R<ue;){var he=2*(R+1)-1,pe=G[he],me=he+1,Ce=G[me];if(0>o(pe,K))me<B&&0>o(Ce,pe)?(G[R]=Ce,G[me]=K,R=me):(G[R]=pe,G[he]=K,R=he);else if(me<B&&0>o(Ce,K))G[R]=Ce,G[me]=K,R=me;else break e}}return Q}function o(G,Q){var K=G.sortIndex-Q.sortIndex;return K!==0?K:G.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();n.unstable_now=function(){return d.now()-u}}var h=[],m=[],g=1,y=null,v=3,b=!1,k=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var Q=t(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=G)r(m),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=t(m)}}function E(G){if(w=!1,T(G),!k)if(t(h)!==null)k=!0,ie(P);else{var Q=t(m);Q!==null&&de(E,Q.startTime-G)}}function P(G,Q){k=!1,w&&(w=!1,S($),$=-1),b=!0;var K=v;try{for(T(Q),y=t(h);y!==null&&(!(y.expirationTime>Q)||G&&!re());){var R=y.callback;if(typeof R=="function"){y.callback=null,v=y.priorityLevel;var B=R(y.expirationTime<=Q);Q=n.unstable_now(),typeof B=="function"?y.callback=B:y===t(h)&&r(h),T(Q)}else r(h);y=t(h)}if(y!==null)var ue=!0;else{var he=t(m);he!==null&&de(E,he.startTime-Q),ue=!1}return ue}finally{y=null,v=K,b=!1}}var A=!1,z=null,$=-1,Y=5,Z=-1;function re(){return!(n.unstable_now()-Z<Y)}function le(){if(z!==null){var G=n.unstable_now();Z=G;var Q=!0;try{Q=z(!0,G)}finally{Q?se():(A=!1,z=null)}}else A=!1}var se;if(typeof _=="function")se=function(){_(le)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ee=fe.port2;fe.port1.onmessage=le,se=function(){ee.postMessage(null)}}else se=function(){j(le,0)};function ie(G){z=G,A||(A=!0,se())}function de(G,Q){$=j(function(){G(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){k||b||(k=!0,ie(P))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var K=v;v=Q;try{return G()}finally{v=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=v;v=G;try{return Q()}finally{v=K}},n.unstable_scheduleCallback=function(G,Q,K){var R=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?R+K:R):K=R,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,G={id:g++,callback:Q,priorityLevel:G,startTime:K,expirationTime:B,sortIndex:-1},K>R?(G.sortIndex=K,e(m,G),t(h)===null&&G===t(m)&&(w?(S($),$=-1):w=!0,de(E,K-R))):(G.sortIndex=B,e(h,G),k||b||(k=!0,ie(P))),G},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(G){var Q=v;return function(){var K=v;v=Q;try{return G.apply(this,arguments)}finally{v=K}}}})(fc)),fc}var uf;function ix(){return uf||(uf=1,hc.exports=rx()),hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function ox(){if(hf)return ft;hf=1;var n=Wc(),e=ix();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(s,i){d(s,i),d(s+"Capture",i)}function d(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return h.call(y,s)?!0:h.call(g,s)?!1:m.test(s)?y[s]=!0:(g[s]=!0,!1)}function b(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,i,c,f){if(i===null||typeof i>"u"||b(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function w(s,i,c,f,p,x,N){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=N}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];j[i]=new w(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(S,_);j[i]=new w(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(S,_);j[i]=new w(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(S,_);j[i]=new w(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,i,c,f){var p=j.hasOwnProperty(i)?j[i]:null;(p!==null?p.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,p,f)&&(c=null),f||p===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,f=p.attributeNamespace,c===null?s.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),G=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,R;function B(s){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+s}var ue=!1;function he(s,i){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(I){var f=I}Reflect.construct(s,[],i)}else{try{i.call()}catch(I){f=I}s.call(i.prototype)}else{try{throw Error()}catch(I){f=I}s()}}catch(I){if(I&&f&&typeof I.stack=="string"){for(var p=I.stack.split(`
`),x=f.stack.split(`
`),N=p.length-1,M=x.length-1;1<=N&&0<=M&&p[N]!==x[M];)M--;for(;1<=N&&0<=M;N--,M--)if(p[N]!==x[M]){if(N!==1||M!==1)do if(N--,M--,0>M||p[N]!==x[M]){var L=`
`+p[N].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=N&&0<=M);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?B(s):""}function pe(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case A:return"Portal";case Y:return"Profiler";case $:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case Z:return(s._context.displayName||"Context")+".Provider";case le:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ee:return i=s.displayName||null,i!==null?i:me(s.type)||"Memo";case ie:i=s._payload,s=s._init;try{return me(s(i))}catch{}}return null}function Ce(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Te(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pt(s){var i=Te(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(N){f=""+N,x.call(this,N)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function xi(s){s._valueTracker||(s._valueTracker=pt(s))}function ud(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=Te(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function yi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function pa(s,i){var c=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function hd(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=ke(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function fd(s,i){i=i.checked,i!=null&&T(s,"checked",i,!1)}function xa(s,i){fd(s,i);var c=ke(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ya(s,i.type,c):i.hasOwnProperty("defaultValue")&&ya(s,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function md(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ya(s,i,c){(i!=="number"||yi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var tr=Array.isArray;function ys(s,i,c,f){if(s=s.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=i.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&f&&(s[c].defaultSelected=!0)}else{for(c=""+ke(c),i=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,f&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function va(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function gd(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(tr(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:ke(c)}}function pd(s,i){var c=ke(i.value),f=ke(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function xd(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function yd(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?yd(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vi,vd=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,p){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=vi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function nr(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i0=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(s){i0.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),sr[i]=sr[s]})});function bd(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||sr.hasOwnProperty(s)&&sr[s]?(""+i).trim():i+"px"}function wd(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,p=bd(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,p):s[c]=p}}var o0=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(s,i){if(i){if(o0[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ja(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function Na(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _a=null,vs=null,bs=null;function jd(s){if(s=_r(s)){if(typeof _a!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Wi(i),_a(s.stateNode,s.type,i))}}function kd(s){vs?bs?bs.push(s):bs=[s]:vs=s}function Nd(){if(vs){var s=vs,i=bs;if(bs=vs=null,jd(s),i)for(s=0;s<i.length;s++)jd(i[s])}}function _d(s,i){return s(i)}function Sd(){}var Sa=!1;function Cd(s,i,c){if(Sa)return s(i,c);Sa=!0;try{return _d(s,i,c)}finally{Sa=!1,(vs!==null||bs!==null)&&(Sd(),Nd())}}function rr(s,i){var c=s.stateNode;if(c===null)return null;var f=Wi(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Ca=!1;if(u)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Ca=!1}function a0(s,i,c,f,p,x,N,M,L){var I=Array.prototype.slice.call(arguments,3);try{i.apply(c,I)}catch(V){this.onError(V)}}var or=!1,bi=null,wi=!1,Ma=null,l0={onError:function(s){or=!0,bi=s}};function c0(s,i,c,f,p,x,N,M,L){or=!1,bi=null,a0.apply(l0,arguments)}function d0(s,i,c,f,p,x,N,M,L){if(c0.apply(this,arguments),or){if(or){var I=bi;or=!1,bi=null}else throw Error(t(198));wi||(wi=!0,Ma=I)}}function Gn(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function Md(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Pd(s){if(Gn(s)!==s)throw Error(t(188))}function u0(s){var i=s.alternate;if(!i){if(i=Gn(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,f=i;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return Pd(p),s;if(x===f)return Pd(p),i;x=x.sibling}throw Error(t(188))}if(c.return!==f.return)c=p,f=x;else{for(var N=!1,M=p.child;M;){if(M===c){N=!0,c=p,f=x;break}if(M===f){N=!0,f=p,c=x;break}M=M.sibling}if(!N){for(M=x.child;M;){if(M===c){N=!0,c=x,f=p;break}if(M===f){N=!0,f=x,c=p;break}M=M.sibling}if(!N)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function Ld(s){return s=u0(s),s!==null?Ed(s):null}function Ed(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Ed(s);if(i!==null)return i;s=s.sibling}return null}var Td=e.unstable_scheduleCallback,Dd=e.unstable_cancelCallback,h0=e.unstable_shouldYield,f0=e.unstable_requestPaint,ze=e.unstable_now,m0=e.unstable_getCurrentPriorityLevel,Pa=e.unstable_ImmediatePriority,Rd=e.unstable_UserBlockingPriority,ji=e.unstable_NormalPriority,g0=e.unstable_LowPriority,Ad=e.unstable_IdlePriority,ki=null,Vt=null;function p0(s){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ki,s,void 0,(s.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:v0,x0=Math.log,y0=Math.LN2;function v0(s){return s>>>=0,s===0?32:31-(x0(s)/y0|0)|0}var Ni=64,_i=4194304;function ar(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Si(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,p=s.suspendedLanes,x=s.pingedLanes,N=c&268435455;if(N!==0){var M=N&~p;M!==0?f=ar(M):(x&=N,x!==0&&(f=ar(x)))}else N=c&~p,N!==0?f=ar(N):x!==0&&(f=ar(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&p)===0&&(p=f&-f,x=i&-i,p>=x||p===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-Rt(i),p=1<<c,f|=s[c],i&=~p;return f}function b0(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes;0<x;){var N=31-Rt(x),M=1<<N,L=p[N];L===-1?((M&c)===0||(M&f)!==0)&&(p[N]=b0(M,i)):L<=i&&(s.expiredLanes|=M),x&=~M}}function La(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Od(){var s=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),s}function Ea(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function lr(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Rt(i),s[i]=c}function j0(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-Rt(c),x=1<<p;i[p]=0,f[p]=-1,s[p]=-1,c&=~x}}function Ta(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-Rt(c),p=1<<f;p&i|s[f]&i&&(s[f]|=i),c&=~p}}var Ne=0;function Fd(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Id,Da,zd,Bd,$d,Ra=!1,Ci=[],wn=null,jn=null,kn=null,cr=new Map,dr=new Map,Nn=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(s,i){switch(s){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":cr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(i.pointerId)}}function ur(s,i,c,f,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[p]},i!==null&&(i=_r(i),i!==null&&Da(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function N0(s,i,c,f,p){switch(i){case"focusin":return wn=ur(wn,s,i,c,f,p),!0;case"dragenter":return jn=ur(jn,s,i,c,f,p),!0;case"mouseover":return kn=ur(kn,s,i,c,f,p),!0;case"pointerover":var x=p.pointerId;return cr.set(x,ur(cr.get(x)||null,s,i,c,f,p)),!0;case"gotpointercapture":return x=p.pointerId,dr.set(x,ur(dr.get(x)||null,s,i,c,f,p)),!0}return!1}function Vd(s){var i=Yn(s.target);if(i!==null){var c=Gn(i);if(c!==null){if(i=c.tag,i===13){if(i=Md(c),i!==null){s.blockedOn=i,$d(s.priority,function(){zd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mi(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=Oa(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);ka=f,c.target.dispatchEvent(f),ka=null}else return i=_r(c),i!==null&&Da(i),s.blockedOn=c,!1;i.shift()}return!0}function Hd(s,i,c){Mi(s)&&c.delete(i)}function _0(){Ra=!1,wn!==null&&Mi(wn)&&(wn=null),jn!==null&&Mi(jn)&&(jn=null),kn!==null&&Mi(kn)&&(kn=null),cr.forEach(Hd),dr.forEach(Hd)}function hr(s,i){s.blockedOn===i&&(s.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_0)))}function fr(s){function i(p){return hr(p,s)}if(0<Ci.length){hr(Ci[0],s);for(var c=1;c<Ci.length;c++){var f=Ci[c];f.blockedOn===s&&(f.blockedOn=null)}}for(wn!==null&&hr(wn,s),jn!==null&&hr(jn,s),kn!==null&&hr(kn,s),cr.forEach(i),dr.forEach(i),c=0;c<Nn.length;c++)f=Nn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Nn.length&&(c=Nn[0],c.blockedOn===null);)Vd(c),c.blockedOn===null&&Nn.shift()}var ws=E.ReactCurrentBatchConfig,Pi=!0;function S0(s,i,c,f){var p=Ne,x=ws.transition;ws.transition=null;try{Ne=1,Aa(s,i,c,f)}finally{Ne=p,ws.transition=x}}function C0(s,i,c,f){var p=Ne,x=ws.transition;ws.transition=null;try{Ne=4,Aa(s,i,c,f)}finally{Ne=p,ws.transition=x}}function Aa(s,i,c,f){if(Pi){var p=Oa(s,i,c,f);if(p===null)Za(s,i,f,Li,c),Wd(s,f);else if(N0(p,s,i,c,f))f.stopPropagation();else if(Wd(s,f),i&4&&-1<k0.indexOf(s)){for(;p!==null;){var x=_r(p);if(x!==null&&Id(x),x=Oa(s,i,c,f),x===null&&Za(s,i,f,Li,c),x===p)break;p=x}p!==null&&f.stopPropagation()}else Za(s,i,f,null,c)}}var Li=null;function Oa(s,i,c,f){if(Li=null,s=Na(f),s=Yn(s),s!==null)if(i=Gn(s),i===null)s=null;else if(c=i.tag,c===13){if(s=Md(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Li=s,null}function Ud(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m0()){case Pa:return 1;case Rd:return 4;case ji:case g0:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var _n=null,Fa=null,Ei=null;function Gd(){if(Ei)return Ei;var s,i=Fa,c=i.length,f,p="value"in _n?_n.value:_n.textContent,x=p.length;for(s=0;s<c&&i[s]===p[s];s++);var N=c-s;for(f=1;f<=N&&i[c-f]===p[x-f];f++);return Ei=p.slice(s,1<f?1-f:void 0)}function Ti(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Di(){return!0}function Yd(){return!1}function xt(s){function i(c,f,p,x,N){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Di:Yd,this.isPropagationStopped=Yd,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),i}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=xt(js),mr=K({},js,{view:0,detail:0}),M0=xt(mr),za,Ba,gr,Ri=K({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gr&&(gr&&s.type==="mousemove"?(za=s.screenX-gr.screenX,Ba=s.screenY-gr.screenY):Ba=za=0,gr=s),za)},movementY:function(s){return"movementY"in s?s.movementY:Ba}}),Kd=xt(Ri),P0=K({},Ri,{dataTransfer:0}),L0=xt(P0),E0=K({},mr,{relatedTarget:0}),$a=xt(E0),T0=K({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=xt(T0),R0=K({},js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),A0=xt(R0),O0=K({},js,{data:0}),Xd=xt(O0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=z0[s])?!!i[s]:!1}function Wa(){return B0}var $0=K({},mr,{key:function(s){if(s.key){var i=F0[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ti(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?I0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(s){return s.type==="keypress"?Ti(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ti(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),W0=xt($0),V0=K({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=xt(V0),H0=K({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),U0=xt(H0),G0=K({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y0=xt(G0),K0=K({},Ri,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=xt(K0),Q0=[9,13,27,32],Va=u&&"CompositionEvent"in window,pr=null;u&&"documentMode"in document&&(pr=document.documentMode);var q0=u&&"TextEvent"in window&&!pr,qd=u&&(!Va||pr&&8<pr&&11>=pr),Jd=" ",Zd=!1;function eu(s,i){switch(s){case"keyup":return Q0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ks=!1;function J0(s,i){switch(s){case"compositionend":return tu(i);case"keypress":return i.which!==32?null:(Zd=!0,Jd);case"textInput":return s=i.data,s===Jd&&Zd?null:s;default:return null}}function Z0(s,i){if(ks)return s==="compositionend"||!Va&&eu(s,i)?(s=Gd(),Ei=Fa=_n=null,ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qd&&i.locale!=="ko"?null:i.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!ep[s.type]:i==="textarea"}function su(s,i,c,f){kd(f),i=zi(i,"onChange"),0<i.length&&(c=new Ia("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var xr=null,yr=null;function tp(s){wu(s,0)}function Ai(s){var i=Ms(s);if(ud(i))return s}function np(s,i){if(s==="change")return i}var ru=!1;if(u){var Ha;if(u){var Ua="oninput"in document;if(!Ua){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),Ua=typeof iu.oninput=="function"}Ha=Ua}else Ha=!1;ru=Ha&&(!document.documentMode||9<document.documentMode)}function ou(){xr&&(xr.detachEvent("onpropertychange",au),yr=xr=null)}function au(s){if(s.propertyName==="value"&&Ai(yr)){var i=[];su(i,yr,s,Na(s)),Cd(tp,i)}}function sp(s,i,c){s==="focusin"?(ou(),xr=i,yr=c,xr.attachEvent("onpropertychange",au)):s==="focusout"&&ou()}function rp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ai(yr)}function ip(s,i){if(s==="click")return Ai(i)}function op(s,i){if(s==="input"||s==="change")return Ai(i)}function ap(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var At=typeof Object.is=="function"?Object.is:ap;function vr(s,i){if(At(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!h.call(i,p)||!At(s[p],i[p]))return!1}return!0}function lu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cu(s,i){var c=lu(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lu(c)}}function du(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?du(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function uu(){for(var s=window,i=yi();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=yi(s.document)}return i}function Ga(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function lp(s){var i=uu(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&du(c.ownerDocument.documentElement,c)){if(f!==null&&Ga(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,x=Math.min(f.start,p);f=f.end===void 0?x:Math.min(f.end,p),!s.extend&&x>f&&(p=f,f=x,x=p),p=cu(c,x);var N=cu(c,f);p&&N&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(N.node,N.offset)):(i.setEnd(N.node,N.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var cp=u&&"documentMode"in document&&11>=document.documentMode,Ns=null,Ya=null,br=null,Ka=!1;function hu(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ka||Ns==null||Ns!==yi(f)||(f=Ns,"selectionStart"in f&&Ga(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),br&&vr(br,f)||(br=f,f=zi(Ya,"onSelect"),0<f.length&&(i=new Ia("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Ns)))}function Oi(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var _s={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionend:Oi("Transition","TransitionEnd")},Xa={},fu={};u&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Fi(s){if(Xa[s])return Xa[s];if(!_s[s])return s;var i=_s[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in fu)return Xa[s]=i[c];return s}var mu=Fi("animationend"),gu=Fi("animationiteration"),pu=Fi("animationstart"),xu=Fi("transitionend"),yu=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(s,i){yu.set(s,i),l(i,[s])}for(var Qa=0;Qa<vu.length;Qa++){var qa=vu[Qa],dp=qa.toLowerCase(),up=qa[0].toUpperCase()+qa.slice(1);Sn(dp,"on"+up)}Sn(mu,"onAnimationEnd"),Sn(gu,"onAnimationIteration"),Sn(pu,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(xu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function bu(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,d0(f,i,void 0,s),s.currentTarget=null}function wu(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],p=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var N=f.length-1;0<=N;N--){var M=f[N],L=M.instance,I=M.currentTarget;if(M=M.listener,L!==x&&p.isPropagationStopped())break e;bu(p,M,I),x=L}else for(N=0;N<f.length;N++){if(M=f[N],L=M.instance,I=M.currentTarget,M=M.listener,L!==x&&p.isPropagationStopped())break e;bu(p,M,I),x=L}}}if(wi)throw s=Ma,wi=!1,Ma=null,s}function Pe(s,i){var c=i[il];c===void 0&&(c=i[il]=new Set);var f=s+"__bubble";c.has(f)||(ju(i,s,2,!1),c.add(f))}function Ja(s,i,c){var f=0;i&&(f|=4),ju(c,s,f,i)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function jr(s){if(!s[Ii]){s[Ii]=!0,r.forEach(function(c){c!=="selectionchange"&&(hp.has(c)||Ja(c,!1,s),Ja(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ii]||(i[Ii]=!0,Ja("selectionchange",!1,i))}}function ju(s,i,c,f){switch(Ud(i)){case 1:var p=S0;break;case 4:p=C0;break;default:p=Aa}c=p.bind(null,i,c,s),p=void 0,!Ca||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),f?p!==void 0?s.addEventListener(i,c,{capture:!0,passive:p}):s.addEventListener(i,c,!0):p!==void 0?s.addEventListener(i,c,{passive:p}):s.addEventListener(i,c,!1)}function Za(s,i,c,f,p){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var M=f.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(N===4)for(N=f.return;N!==null;){var L=N.tag;if((L===3||L===4)&&(L=N.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;N=N.return}for(;M!==null;){if(N=Yn(M),N===null)return;if(L=N.tag,L===5||L===6){f=x=N;continue e}M=M.parentNode}}f=f.return}Cd(function(){var I=x,V=Na(c),H=[];e:{var W=yu.get(s);if(W!==void 0){var X=Ia,J=s;switch(s){case"keypress":if(Ti(c)===0)break e;case"keydown":case"keyup":X=W0;break;case"focusin":J="focus",X=$a;break;case"focusout":J="blur",X=$a;break;case"beforeblur":case"afterblur":X=$a;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=U0;break;case mu:case gu:case pu:X=D0;break;case xu:X=Y0;break;case"scroll":X=M0;break;case"wheel":X=X0;break;case"copy":case"cut":case"paste":X=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Qd}var te=(i&4)!==0,Be=!te&&s==="scroll",O=te?W!==null?W+"Capture":null:W;te=[];for(var D=I,F;D!==null;){F=D;var U=F.stateNode;if(F.tag===5&&U!==null&&(F=U,O!==null&&(U=rr(D,O),U!=null&&te.push(kr(D,U,F)))),Be)break;D=D.return}0<te.length&&(W=new X(W,J,null,c,V),H.push({event:W,listeners:te}))}}if((i&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",W&&c!==ka&&(J=c.relatedTarget||c.fromElement)&&(Yn(J)||J[tn]))break e;if((X||W)&&(W=V.window===V?V:(W=V.ownerDocument)?W.defaultView||W.parentWindow:window,X?(J=c.relatedTarget||c.toElement,X=I,J=J?Yn(J):null,J!==null&&(Be=Gn(J),J!==Be||J.tag!==5&&J.tag!==6)&&(J=null)):(X=null,J=I),X!==J)){if(te=Kd,U="onMouseLeave",O="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(te=Qd,U="onPointerLeave",O="onPointerEnter",D="pointer"),Be=X==null?W:Ms(X),F=J==null?W:Ms(J),W=new te(U,D+"leave",X,c,V),W.target=Be,W.relatedTarget=F,U=null,Yn(V)===I&&(te=new te(O,D+"enter",J,c,V),te.target=F,te.relatedTarget=Be,U=te),Be=U,X&&J)t:{for(te=X,O=J,D=0,F=te;F;F=Ss(F))D++;for(F=0,U=O;U;U=Ss(U))F++;for(;0<D-F;)te=Ss(te),D--;for(;0<F-D;)O=Ss(O),F--;for(;D--;){if(te===O||O!==null&&te===O.alternate)break t;te=Ss(te),O=Ss(O)}te=null}else te=null;X!==null&&ku(H,W,X,te,!1),J!==null&&Be!==null&&ku(H,Be,J,te,!0)}}e:{if(W=I?Ms(I):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var ne=np;else if(nu(W))if(ru)ne=op;else{ne=rp;var oe=sp}else(X=W.nodeName)&&X.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ne=ip);if(ne&&(ne=ne(s,I))){su(H,ne,c,V);break e}oe&&oe(s,W,I),s==="focusout"&&(oe=W._wrapperState)&&oe.controlled&&W.type==="number"&&ya(W,"number",W.value)}switch(oe=I?Ms(I):window,s){case"focusin":(nu(oe)||oe.contentEditable==="true")&&(Ns=oe,Ya=I,br=null);break;case"focusout":br=Ya=Ns=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,hu(H,c,V);break;case"selectionchange":if(cp)break;case"keydown":case"keyup":hu(H,c,V)}var ae;if(Va)e:{switch(s){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else ks?eu(s,c)&&(ce="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ce="onCompositionStart");ce&&(qd&&c.locale!=="ko"&&(ks||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&ks&&(ae=Gd()):(_n=V,Fa="value"in _n?_n.value:_n.textContent,ks=!0)),oe=zi(I,ce),0<oe.length&&(ce=new Xd(ce,s,null,c,V),H.push({event:ce,listeners:oe}),ae?ce.data=ae:(ae=tu(c),ae!==null&&(ce.data=ae)))),(ae=q0?J0(s,c):Z0(s,c))&&(I=zi(I,"onBeforeInput"),0<I.length&&(V=new Xd("onBeforeInput","beforeinput",null,c,V),H.push({event:V,listeners:I}),V.data=ae))}wu(H,i)})}function kr(s,i,c){return{instance:s,listener:i,currentTarget:c}}function zi(s,i){for(var c=i+"Capture",f=[];s!==null;){var p=s,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=rr(s,c),x!=null&&f.unshift(kr(s,x,p)),x=rr(s,i),x!=null&&f.push(kr(s,x,p))),s=s.return}return f}function Ss(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ku(s,i,c,f,p){for(var x=i._reactName,N=[];c!==null&&c!==f;){var M=c,L=M.alternate,I=M.stateNode;if(L!==null&&L===f)break;M.tag===5&&I!==null&&(M=I,p?(L=rr(c,x),L!=null&&N.unshift(kr(c,L,M))):p||(L=rr(c,x),L!=null&&N.push(kr(c,L,M)))),c=c.return}N.length!==0&&s.push({event:i,listeners:N})}var fp=/\r\n?/g,mp=/\u0000|\uFFFD/g;function Nu(s){return(typeof s=="string"?s:""+s).replace(fp,`
`).replace(mp,"")}function Bi(s,i,c){if(i=Nu(i),Nu(s)!==i&&c)throw Error(t(425))}function $i(){}var el=null,tl=null;function nl(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,gp=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(s){return _u.resolve(null).then(s).catch(xp)}:sl;function xp(s){setTimeout(function(){throw s})}function rl(s,i){var c=i,f=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(f===0){s.removeChild(p),fr(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=p}while(c);fr(i)}function Cn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Su(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Cs,Nr="__reactProps$"+Cs,tn="__reactContainer$"+Cs,il="__reactEvents$"+Cs,yp="__reactListeners$"+Cs,vp="__reactHandles$"+Cs;function Yn(s){var i=s[Ht];if(i)return i;for(var c=s.parentNode;c;){if(i=c[tn]||c[Ht]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Su(s);s!==null;){if(c=s[Ht])return c;s=Su(s)}return i}s=c,c=s.parentNode}return null}function _r(s){return s=s[Ht]||s[tn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ms(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Wi(s){return s[Nr]||null}var ol=[],Ps=-1;function Mn(s){return{current:s}}function Le(s){0>Ps||(s.current=ol[Ps],ol[Ps]=null,Ps--)}function Me(s,i){Ps++,ol[Ps]=s.current,s.current=i}var Pn={},Je=Mn(Pn),lt=Mn(!1),Kn=Pn;function Ls(s,i){var c=s.type.contextTypes;if(!c)return Pn;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in c)p[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function ct(s){return s=s.childContextTypes,s!=null}function Vi(){Le(lt),Le(Je)}function Cu(s,i,c){if(Je.current!==Pn)throw Error(t(168));Me(Je,i),Me(lt,c)}function Mu(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var p in f)if(!(p in i))throw Error(t(108,Ce(s)||"Unknown",p));return K({},c,f)}function Hi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Pn,Kn=Je.current,Me(Je,s),Me(lt,lt.current),!0}function Pu(s,i,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=Mu(s,i,Kn),f.__reactInternalMemoizedMergedChildContext=s,Le(lt),Le(Je),Me(Je,s)):Le(lt),Me(lt,c)}var nn=null,Ui=!1,al=!1;function Lu(s){nn===null?nn=[s]:nn.push(s)}function bp(s){Ui=!0,Lu(s)}function Ln(){if(!al&&nn!==null){al=!0;var s=0,i=Ne;try{var c=nn;for(Ne=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}nn=null,Ui=!1}catch(p){throw nn!==null&&(nn=nn.slice(s+1)),Td(Pa,Ln),p}finally{Ne=i,al=!1}}return null}var Es=[],Ts=0,Gi=null,Yi=0,kt=[],Nt=0,Xn=null,sn=1,rn="";function Qn(s,i){Es[Ts++]=Yi,Es[Ts++]=Gi,Gi=s,Yi=i}function Eu(s,i,c){kt[Nt++]=sn,kt[Nt++]=rn,kt[Nt++]=Xn,Xn=s;var f=sn;s=rn;var p=32-Rt(f)-1;f&=~(1<<p),c+=1;var x=32-Rt(i)+p;if(30<x){var N=p-p%5;x=(f&(1<<N)-1).toString(32),f>>=N,p-=N,sn=1<<32-Rt(i)+p|c<<p|f,rn=x+s}else sn=1<<x|c<<p|f,rn=s}function ll(s){s.return!==null&&(Qn(s,1),Eu(s,1,0))}function cl(s){for(;s===Gi;)Gi=Es[--Ts],Es[Ts]=null,Yi=Es[--Ts],Es[Ts]=null;for(;s===Xn;)Xn=kt[--Nt],kt[Nt]=null,rn=kt[--Nt],kt[Nt]=null,sn=kt[--Nt],kt[Nt]=null}var yt=null,vt=null,De=!1,Ot=null;function Tu(s,i){var c=Mt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Du(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,yt=s,vt=Cn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,yt=s,vt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Xn!==null?{id:sn,overflow:rn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Mt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,yt=s,vt=null,!0):!1;default:return!1}}function dl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ul(s){if(De){var i=vt;if(i){var c=i;if(!Du(s,i)){if(dl(s))throw Error(t(418));i=Cn(c.nextSibling);var f=yt;i&&Du(s,i)?Tu(f,c):(s.flags=s.flags&-4097|2,De=!1,yt=s)}}else{if(dl(s))throw Error(t(418));s.flags=s.flags&-4097|2,De=!1,yt=s}}}function Ru(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yt=s}function Ki(s){if(s!==yt)return!1;if(!De)return Ru(s),De=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!nl(s.type,s.memoizedProps)),i&&(i=vt)){if(dl(s))throw Au(),Error(t(418));for(;i;)Tu(s,i),i=Cn(i.nextSibling)}if(Ru(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){vt=Cn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}vt=null}}else vt=yt?Cn(s.stateNode.nextSibling):null;return!0}function Au(){for(var s=vt;s;)s=Cn(s.nextSibling)}function Ds(){vt=yt=null,De=!1}function hl(s){Ot===null?Ot=[s]:Ot.push(s)}var wp=E.ReactCurrentBatchConfig;function Sr(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var p=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(N){var M=p.refs;N===null?delete M[x]:M[x]=N},i._stringRef=x,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Xi(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Ou(s){var i=s._init;return i(s._payload)}function Fu(s){function i(O,D){if(s){var F=O.deletions;F===null?(O.deletions=[D],O.flags|=16):F.push(D)}}function c(O,D){if(!s)return null;for(;D!==null;)i(O,D),D=D.sibling;return null}function f(O,D){for(O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function p(O,D){return O=In(O,D),O.index=0,O.sibling=null,O}function x(O,D,F){return O.index=F,s?(F=O.alternate,F!==null?(F=F.index,F<D?(O.flags|=2,D):F):(O.flags|=2,D)):(O.flags|=1048576,D)}function N(O){return s&&O.alternate===null&&(O.flags|=2),O}function M(O,D,F,U){return D===null||D.tag!==6?(D=sc(F,O.mode,U),D.return=O,D):(D=p(D,F),D.return=O,D)}function L(O,D,F,U){var ne=F.type;return ne===z?V(O,D,F.props.children,U,F.key):D!==null&&(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ie&&Ou(ne)===D.type)?(U=p(D,F.props),U.ref=Sr(O,D,F),U.return=O,U):(U=bo(F.type,F.key,F.props,null,O.mode,U),U.ref=Sr(O,D,F),U.return=O,U)}function I(O,D,F,U){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=rc(F,O.mode,U),D.return=O,D):(D=p(D,F.children||[]),D.return=O,D)}function V(O,D,F,U,ne){return D===null||D.tag!==7?(D=rs(F,O.mode,U,ne),D.return=O,D):(D=p(D,F),D.return=O,D)}function H(O,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return D=sc(""+D,O.mode,F),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return F=bo(D.type,D.key,D.props,null,O.mode,F),F.ref=Sr(O,null,D),F.return=O,F;case A:return D=rc(D,O.mode,F),D.return=O,D;case ie:var U=D._init;return H(O,U(D._payload),F)}if(tr(D)||Q(D))return D=rs(D,O.mode,F,null),D.return=O,D;Xi(O,D)}return null}function W(O,D,F,U){var ne=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ne!==null?null:M(O,D,""+F,U);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return F.key===ne?L(O,D,F,U):null;case A:return F.key===ne?I(O,D,F,U):null;case ie:return ne=F._init,W(O,D,ne(F._payload),U)}if(tr(F)||Q(F))return ne!==null?null:V(O,D,F,U,null);Xi(O,F)}return null}function X(O,D,F,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number")return O=O.get(F)||null,M(D,O,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return O=O.get(U.key===null?F:U.key)||null,L(D,O,U,ne);case A:return O=O.get(U.key===null?F:U.key)||null,I(D,O,U,ne);case ie:var oe=U._init;return X(O,D,F,oe(U._payload),ne)}if(tr(U)||Q(U))return O=O.get(F)||null,V(D,O,U,ne,null);Xi(D,U)}return null}function J(O,D,F,U){for(var ne=null,oe=null,ae=D,ce=D=0,Xe=null;ae!==null&&ce<F.length;ce++){ae.index>ce?(Xe=ae,ae=null):Xe=ae.sibling;var be=W(O,ae,F[ce],U);if(be===null){ae===null&&(ae=Xe);break}s&&ae&&be.alternate===null&&i(O,ae),D=x(be,D,ce),oe===null?ne=be:oe.sibling=be,oe=be,ae=Xe}if(ce===F.length)return c(O,ae),De&&Qn(O,ce),ne;if(ae===null){for(;ce<F.length;ce++)ae=H(O,F[ce],U),ae!==null&&(D=x(ae,D,ce),oe===null?ne=ae:oe.sibling=ae,oe=ae);return De&&Qn(O,ce),ne}for(ae=f(O,ae);ce<F.length;ce++)Xe=X(ae,O,ce,F[ce],U),Xe!==null&&(s&&Xe.alternate!==null&&ae.delete(Xe.key===null?ce:Xe.key),D=x(Xe,D,ce),oe===null?ne=Xe:oe.sibling=Xe,oe=Xe);return s&&ae.forEach(function(zn){return i(O,zn)}),De&&Qn(O,ce),ne}function te(O,D,F,U){var ne=Q(F);if(typeof ne!="function")throw Error(t(150));if(F=ne.call(F),F==null)throw Error(t(151));for(var oe=ne=null,ae=D,ce=D=0,Xe=null,be=F.next();ae!==null&&!be.done;ce++,be=F.next()){ae.index>ce?(Xe=ae,ae=null):Xe=ae.sibling;var zn=W(O,ae,be.value,U);if(zn===null){ae===null&&(ae=Xe);break}s&&ae&&zn.alternate===null&&i(O,ae),D=x(zn,D,ce),oe===null?ne=zn:oe.sibling=zn,oe=zn,ae=Xe}if(be.done)return c(O,ae),De&&Qn(O,ce),ne;if(ae===null){for(;!be.done;ce++,be=F.next())be=H(O,be.value,U),be!==null&&(D=x(be,D,ce),oe===null?ne=be:oe.sibling=be,oe=be);return De&&Qn(O,ce),ne}for(ae=f(O,ae);!be.done;ce++,be=F.next())be=X(ae,O,ce,be.value,U),be!==null&&(s&&be.alternate!==null&&ae.delete(be.key===null?ce:be.key),D=x(be,D,ce),oe===null?ne=be:oe.sibling=be,oe=be);return s&&ae.forEach(function(ex){return i(O,ex)}),De&&Qn(O,ce),ne}function Be(O,D,F,U){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case P:e:{for(var ne=F.key,oe=D;oe!==null;){if(oe.key===ne){if(ne=F.type,ne===z){if(oe.tag===7){c(O,oe.sibling),D=p(oe,F.props.children),D.return=O,O=D;break e}}else if(oe.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ie&&Ou(ne)===oe.type){c(O,oe.sibling),D=p(oe,F.props),D.ref=Sr(O,oe,F),D.return=O,O=D;break e}c(O,oe);break}else i(O,oe);oe=oe.sibling}F.type===z?(D=rs(F.props.children,O.mode,U,F.key),D.return=O,O=D):(U=bo(F.type,F.key,F.props,null,O.mode,U),U.ref=Sr(O,D,F),U.return=O,O=U)}return N(O);case A:e:{for(oe=F.key;D!==null;){if(D.key===oe)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){c(O,D.sibling),D=p(D,F.children||[]),D.return=O,O=D;break e}else{c(O,D);break}else i(O,D);D=D.sibling}D=rc(F,O.mode,U),D.return=O,O=D}return N(O);case ie:return oe=F._init,Be(O,D,oe(F._payload),U)}if(tr(F))return J(O,D,F,U);if(Q(F))return te(O,D,F,U);Xi(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,D!==null&&D.tag===6?(c(O,D.sibling),D=p(D,F),D.return=O,O=D):(c(O,D),D=sc(F,O.mode,U),D.return=O,O=D),N(O)):c(O,D)}return Be}var Rs=Fu(!0),Iu=Fu(!1),Qi=Mn(null),qi=null,As=null,fl=null;function ml(){fl=As=qi=null}function gl(s){var i=Qi.current;Le(Qi),s._currentValue=i}function pl(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function Os(s,i){qi=s,fl=As=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(dt=!0),s.firstContext=null)}function _t(s){var i=s._currentValue;if(fl!==s)if(s={context:s,memoizedValue:i,next:null},As===null){if(qi===null)throw Error(t(308));As=s,qi.dependencies={lanes:0,firstContext:s}}else As=As.next=s;return i}var qn=null;function xl(s){qn===null?qn=[s]:qn.push(s)}function zu(s,i,c,f){var p=i.interleaved;return p===null?(c.next=c,xl(i)):(c.next=p.next,p.next=c),i.interleaved=c,on(s,f)}function on(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var En=!1;function yl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bu(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function an(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Tn(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ve&2)!==0){var p=f.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),f.pending=i,on(s,c)}return p=f.interleaved,p===null?(i.next=i,xl(f)):(i.next=p.next,p.next=i),f.interleaved=i,on(s,c)}function Ji(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ta(s,c)}}function $u(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var N={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?p=x=N:x=x.next=N,c=c.next}while(c!==null);x===null?p=x=i:x=x.next=i}else p=x=i;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function Zi(s,i,c,f){var p=s.updateQueue;En=!1;var x=p.firstBaseUpdate,N=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var L=M,I=L.next;L.next=null,N===null?x=I:N.next=I,N=L;var V=s.alternate;V!==null&&(V=V.updateQueue,M=V.lastBaseUpdate,M!==N&&(M===null?V.firstBaseUpdate=I:M.next=I,V.lastBaseUpdate=L))}if(x!==null){var H=p.baseState;N=0,V=I=L=null,M=x;do{var W=M.lane,X=M.eventTime;if((f&W)===W){V!==null&&(V=V.next={eventTime:X,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var J=s,te=M;switch(W=i,X=c,te.tag){case 1:if(J=te.payload,typeof J=="function"){H=J.call(X,H,W);break e}H=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=te.payload,W=typeof J=="function"?J.call(X,H,W):J,W==null)break e;H=K({},H,W);break e;case 2:En=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,W=p.effects,W===null?p.effects=[M]:W.push(M))}else X={eventTime:X,lane:W,tag:M.tag,payload:M.payload,callback:M.callback,next:null},V===null?(I=V=X,L=H):V=V.next=X,N|=W;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;W=M,M=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);if(V===null&&(L=H),p.baseState=L,p.firstBaseUpdate=I,p.lastBaseUpdate=V,i=p.shared.interleaved,i!==null){p=i;do N|=p.lane,p=p.next;while(p!==i)}else x===null&&(p.shared.lanes=0);es|=N,s.lanes=N,s.memoizedState=H}}function Wu(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],p=f.callback;if(p!==null){if(f.callback=null,f=c,typeof p!="function")throw Error(t(191,p));p.call(f)}}}var Cr={},Ut=Mn(Cr),Mr=Mn(Cr),Pr=Mn(Cr);function Jn(s){if(s===Cr)throw Error(t(174));return s}function vl(s,i){switch(Me(Pr,i),Me(Mr,s),Me(Ut,Cr),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ba(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=ba(i,s)}Le(Ut),Me(Ut,i)}function Fs(){Le(Ut),Le(Mr),Le(Pr)}function Vu(s){Jn(Pr.current);var i=Jn(Ut.current),c=ba(i,s.type);i!==c&&(Me(Mr,s),Me(Ut,c))}function bl(s){Mr.current===s&&(Le(Ut),Le(Mr))}var Ae=Mn(0);function eo(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wl=[];function jl(){for(var s=0;s<wl.length;s++)wl[s]._workInProgressVersionPrimary=null;wl.length=0}var to=E.ReactCurrentDispatcher,kl=E.ReactCurrentBatchConfig,Zn=0,Oe=null,He=null,Ye=null,no=!1,Lr=!1,Er=0,jp=0;function Ze(){throw Error(t(321))}function Nl(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!At(s[c],i[c]))return!1;return!0}function _l(s,i,c,f,p,x){if(Zn=x,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,to.current=s===null||s.memoizedState===null?Sp:Cp,s=c(f,p),Lr){x=0;do{if(Lr=!1,Er=0,25<=x)throw Error(t(301));x+=1,Ye=He=null,i.updateQueue=null,to.current=Mp,s=c(f,p)}while(Lr)}if(to.current=io,i=He!==null&&He.next!==null,Zn=0,Ye=He=Oe=null,no=!1,i)throw Error(t(300));return s}function Sl(){var s=Er!==0;return Er=0,s}function Gt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Oe.memoizedState=Ye=s:Ye=Ye.next=s,Ye}function St(){if(He===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=He.next;var i=Ye===null?Oe.memoizedState:Ye.next;if(i!==null)Ye=i,He=s;else{if(s===null)throw Error(t(310));He=s,s={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Oe.memoizedState=Ye=s:Ye=Ye.next=s}return Ye}function Tr(s,i){return typeof i=="function"?i(s):i}function Cl(s){var i=St(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=He,p=f.baseQueue,x=c.pending;if(x!==null){if(p!==null){var N=p.next;p.next=x.next,x.next=N}f.baseQueue=p=x,c.pending=null}if(p!==null){x=p.next,f=f.baseState;var M=N=null,L=null,I=x;do{var V=I.lane;if((Zn&V)===V)L!==null&&(L=L.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),f=I.hasEagerState?I.eagerState:s(f,I.action);else{var H={lane:V,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};L===null?(M=L=H,N=f):L=L.next=H,Oe.lanes|=V,es|=V}I=I.next}while(I!==null&&I!==x);L===null?N=f:L.next=M,At(f,i.memoizedState)||(dt=!0),i.memoizedState=f,i.baseState=N,i.baseQueue=L,c.lastRenderedState=f}if(s=c.interleaved,s!==null){p=s;do x=p.lane,Oe.lanes|=x,es|=x,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Ml(s){var i=St(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,p=c.pending,x=i.memoizedState;if(p!==null){c.pending=null;var N=p=p.next;do x=s(x,N.action),N=N.next;while(N!==p);At(x,i.memoizedState)||(dt=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function Hu(){}function Uu(s,i){var c=Oe,f=St(),p=i(),x=!At(f.memoizedState,p);if(x&&(f.memoizedState=p,dt=!0),f=f.queue,Pl(Ku.bind(null,c,f,s),[s]),f.getSnapshot!==i||x||Ye!==null&&Ye.memoizedState.tag&1){if(c.flags|=2048,Dr(9,Yu.bind(null,c,f,p,i),void 0,null),Ke===null)throw Error(t(349));(Zn&30)!==0||Gu(c,i,p)}return p}function Gu(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Yu(s,i,c,f){i.value=c,i.getSnapshot=f,Xu(i)&&Qu(s)}function Ku(s,i,c){return c(function(){Xu(i)&&Qu(s)})}function Xu(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!At(s,c)}catch{return!0}}function Qu(s){var i=on(s,1);i!==null&&Bt(i,s,1,-1)}function qu(s){var i=Gt();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:s},i.queue=s,s=s.dispatch=_p.bind(null,Oe,s),[i.memoizedState,s]}function Dr(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=Oe.updateQueue,i===null?(i={lastEffect:null,stores:null},Oe.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Ju(){return St().memoizedState}function so(s,i,c,f){var p=Gt();Oe.flags|=s,p.memoizedState=Dr(1|i,c,void 0,f===void 0?null:f)}function ro(s,i,c,f){var p=St();f=f===void 0?null:f;var x=void 0;if(He!==null){var N=He.memoizedState;if(x=N.destroy,f!==null&&Nl(f,N.deps)){p.memoizedState=Dr(i,c,x,f);return}}Oe.flags|=s,p.memoizedState=Dr(1|i,c,x,f)}function Zu(s,i){return so(8390656,8,s,i)}function Pl(s,i){return ro(2048,8,s,i)}function eh(s,i){return ro(4,2,s,i)}function th(s,i){return ro(4,4,s,i)}function nh(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function sh(s,i,c){return c=c!=null?c.concat([s]):null,ro(4,4,nh.bind(null,i,s),c)}function Ll(){}function rh(s,i){var c=St();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Nl(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function ih(s,i){var c=St();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Nl(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function oh(s,i,c){return(Zn&21)===0?(s.baseState&&(s.baseState=!1,dt=!0),s.memoizedState=c):(At(c,i)||(c=Od(),Oe.lanes|=c,es|=c,s.baseState=!0),i)}function kp(s,i){var c=Ne;Ne=c!==0&&4>c?c:4,s(!0);var f=kl.transition;kl.transition={};try{s(!1),i()}finally{Ne=c,kl.transition=f}}function ah(){return St().memoizedState}function Np(s,i,c){var f=On(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},lh(s))ch(i,c);else if(c=zu(s,i,c,f),c!==null){var p=at();Bt(c,s,f,p),dh(c,i,f)}}function _p(s,i,c){var f=On(s),p={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(lh(s))ch(i,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var N=i.lastRenderedState,M=x(N,c);if(p.hasEagerState=!0,p.eagerState=M,At(M,N)){var L=i.interleaved;L===null?(p.next=p,xl(i)):(p.next=L.next,L.next=p),i.interleaved=p;return}}catch{}finally{}c=zu(s,i,p,f),c!==null&&(p=at(),Bt(c,s,f,p),dh(c,i,f))}}function lh(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function ch(s,i){Lr=no=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function dh(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ta(s,c)}}var io={readContext:_t,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Sp={readContext:_t,useCallback:function(s,i){return Gt().memoizedState=[s,i===void 0?null:i],s},useContext:_t,useEffect:Zu,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,so(4194308,4,nh.bind(null,i,s),c)},useLayoutEffect:function(s,i){return so(4194308,4,s,i)},useInsertionEffect:function(s,i){return so(4,2,s,i)},useMemo:function(s,i){var c=Gt();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=Gt();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=Np.bind(null,Oe,s),[f.memoizedState,s]},useRef:function(s){var i=Gt();return s={current:s},i.memoizedState=s},useState:qu,useDebugValue:Ll,useDeferredValue:function(s){return Gt().memoizedState=s},useTransition:function(){var s=qu(!1),i=s[0];return s=kp.bind(null,s[1]),Gt().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=Oe,p=Gt();if(De){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),Ke===null)throw Error(t(349));(Zn&30)!==0||Gu(f,i,c)}p.memoizedState=c;var x={value:c,getSnapshot:i};return p.queue=x,Zu(Ku.bind(null,f,x,s),[s]),f.flags|=2048,Dr(9,Yu.bind(null,f,x,c,i),void 0,null),c},useId:function(){var s=Gt(),i=Ke.identifierPrefix;if(De){var c=rn,f=sn;c=(f&~(1<<32-Rt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Er++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=jp++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Cp={readContext:_t,useCallback:rh,useContext:_t,useEffect:Pl,useImperativeHandle:sh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:Cl,useRef:Ju,useState:function(){return Cl(Tr)},useDebugValue:Ll,useDeferredValue:function(s){var i=St();return oh(i,He.memoizedState,s)},useTransition:function(){var s=Cl(Tr)[0],i=St().memoizedState;return[s,i]},useMutableSource:Hu,useSyncExternalStore:Uu,useId:ah,unstable_isNewReconciler:!1},Mp={readContext:_t,useCallback:rh,useContext:_t,useEffect:Pl,useImperativeHandle:sh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:Ml,useRef:Ju,useState:function(){return Ml(Tr)},useDebugValue:Ll,useDeferredValue:function(s){var i=St();return He===null?i.memoizedState=s:oh(i,He.memoizedState,s)},useTransition:function(){var s=Ml(Tr)[0],i=St().memoizedState;return[s,i]},useMutableSource:Hu,useSyncExternalStore:Uu,useId:ah,unstable_isNewReconciler:!1};function Ft(s,i){if(s&&s.defaultProps){i=K({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function El(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:K({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var oo={isMounted:function(s){return(s=s._reactInternals)?Gn(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=at(),p=On(s),x=an(f,p);x.payload=i,c!=null&&(x.callback=c),i=Tn(s,x,p),i!==null&&(Bt(i,s,p,f),Ji(i,s,p))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=at(),p=On(s),x=an(f,p);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Tn(s,x,p),i!==null&&(Bt(i,s,p,f),Ji(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=at(),f=On(s),p=an(c,f);p.tag=2,i!=null&&(p.callback=i),i=Tn(s,p,f),i!==null&&(Bt(i,s,f,c),Ji(i,s,f))}};function uh(s,i,c,f,p,x,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,N):i.prototype&&i.prototype.isPureReactComponent?!vr(c,f)||!vr(p,x):!0}function hh(s,i,c){var f=!1,p=Pn,x=i.contextType;return typeof x=="object"&&x!==null?x=_t(x):(p=ct(i)?Kn:Je.current,f=i.contextTypes,x=(f=f!=null)?Ls(s,p):Pn),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=oo,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=x),i}function fh(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&oo.enqueueReplaceState(i,i.state,null)}function Tl(s,i,c,f){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},yl(s);var x=i.contextType;typeof x=="object"&&x!==null?p.context=_t(x):(x=ct(i)?Kn:Je.current,p.context=Ls(s,x)),p.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(El(s,i,x,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&oo.enqueueReplaceState(p,p.state,null),Zi(s,c,p,f),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Is(s,i){try{var c="",f=i;do c+=pe(f),f=f.return;while(f);var p=c}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:p,digest:null}}function Dl(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function Rl(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Pp=typeof WeakMap=="function"?WeakMap:Map;function mh(s,i,c){c=an(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){mo||(mo=!0,Xl=f),Rl(s,i)},c}function gh(s,i,c){c=an(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=i.value;c.payload=function(){return f(p)},c.callback=function(){Rl(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Rl(s,i),typeof f!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var N=i.stack;this.componentDidCatch(i.value,{componentStack:N!==null?N:""})}),c}function ph(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new Pp;var p=new Set;f.set(i,p)}else p=f.get(i),p===void 0&&(p=new Set,f.set(i,p));p.has(c)||(p.add(c),s=Vp.bind(null,s,i,c),i.then(s,s))}function xh(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function yh(s,i,c,f,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=an(-1,1),i.tag=2,Tn(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var Lp=E.ReactCurrentOwner,dt=!1;function ot(s,i,c,f){i.child=s===null?Iu(i,null,c,f):Rs(i,s.child,c,f)}function vh(s,i,c,f,p){c=c.render;var x=i.ref;return Os(i,p),f=_l(s,i,c,f,x,p),c=Sl(),s!==null&&!dt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ln(s,i,p)):(De&&c&&ll(i),i.flags|=1,ot(s,i,f,p),i.child)}function bh(s,i,c,f,p){if(s===null){var x=c.type;return typeof x=="function"&&!nc(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,wh(s,i,x,f,p)):(s=bo(c.type,null,f,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&p)===0){var N=x.memoizedProps;if(c=c.compare,c=c!==null?c:vr,c(N,f)&&s.ref===i.ref)return ln(s,i,p)}return i.flags|=1,s=In(x,f),s.ref=i.ref,s.return=i,i.child=s}function wh(s,i,c,f,p){if(s!==null){var x=s.memoizedProps;if(vr(x,f)&&s.ref===i.ref)if(dt=!1,i.pendingProps=f=x,(s.lanes&p)!==0)(s.flags&131072)!==0&&(dt=!0);else return i.lanes=s.lanes,ln(s,i,p)}return Al(s,i,c,f,p)}function jh(s,i,c){var f=i.pendingProps,p=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Bs,bt),bt|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Me(Bs,bt),bt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,Me(Bs,bt),bt|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,Me(Bs,bt),bt|=f;return ot(s,i,p,c),i.child}function kh(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Al(s,i,c,f,p){var x=ct(c)?Kn:Je.current;return x=Ls(i,x),Os(i,p),c=_l(s,i,c,f,x,p),f=Sl(),s!==null&&!dt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,ln(s,i,p)):(De&&f&&ll(i),i.flags|=1,ot(s,i,c,p),i.child)}function Nh(s,i,c,f,p){if(ct(c)){var x=!0;Hi(i)}else x=!1;if(Os(i,p),i.stateNode===null)lo(s,i),hh(i,c,f),Tl(i,c,f,p),f=!0;else if(s===null){var N=i.stateNode,M=i.memoizedProps;N.props=M;var L=N.context,I=c.contextType;typeof I=="object"&&I!==null?I=_t(I):(I=ct(c)?Kn:Je.current,I=Ls(i,I));var V=c.getDerivedStateFromProps,H=typeof V=="function"||typeof N.getSnapshotBeforeUpdate=="function";H||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==f||L!==I)&&fh(i,N,f,I),En=!1;var W=i.memoizedState;N.state=W,Zi(i,f,N,p),L=i.memoizedState,M!==f||W!==L||lt.current||En?(typeof V=="function"&&(El(i,c,V,f),L=i.memoizedState),(M=En||uh(i,c,M,f,W,L,I))?(H||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=L),N.props=f,N.state=L,N.context=I,f=M):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{N=i.stateNode,Bu(s,i),M=i.memoizedProps,I=i.type===i.elementType?M:Ft(i.type,M),N.props=I,H=i.pendingProps,W=N.context,L=c.contextType,typeof L=="object"&&L!==null?L=_t(L):(L=ct(c)?Kn:Je.current,L=Ls(i,L));var X=c.getDerivedStateFromProps;(V=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==H||W!==L)&&fh(i,N,f,L),En=!1,W=i.memoizedState,N.state=W,Zi(i,f,N,p);var J=i.memoizedState;M!==H||W!==J||lt.current||En?(typeof X=="function"&&(El(i,c,X,f),J=i.memoizedState),(I=En||uh(i,c,I,f,W,J,L)||!1)?(V||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,J,L),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,J,L)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=J),N.props=f,N.state=J,N.context=L,f=I):(typeof N.componentDidUpdate!="function"||M===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),f=!1)}return Ol(s,i,c,f,x,p)}function Ol(s,i,c,f,p,x){kh(s,i);var N=(i.flags&128)!==0;if(!f&&!N)return p&&Pu(i,c,!1),ln(s,i,x);f=i.stateNode,Lp.current=i;var M=N&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&N?(i.child=Rs(i,s.child,null,x),i.child=Rs(i,null,M,x)):ot(s,i,M,x),i.memoizedState=f.state,p&&Pu(i,c,!0),i.child}function _h(s){var i=s.stateNode;i.pendingContext?Cu(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Cu(s,i.context,!1),vl(s,i.containerInfo)}function Sh(s,i,c,f,p){return Ds(),hl(p),i.flags|=256,ot(s,i,c,f),i.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Il(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ch(s,i,c){var f=i.pendingProps,p=Ae.current,x=!1,N=(i.flags&128)!==0,M;if((M=N)||(M=s!==null&&s.memoizedState===null?!1:(p&2)!==0),M?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Me(Ae,p&1),s===null)return ul(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(N=f.children,s=f.fallback,x?(f=i.mode,x=i.child,N={mode:"hidden",children:N},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=N):x=wo(N,f,0,null),s=rs(s,f,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=Il(c),i.memoizedState=Fl,s):zl(i,N));if(p=s.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return Ep(s,i,N,f,M,p,c);if(x){x=f.fallback,N=i.mode,p=s.child,M=p.sibling;var L={mode:"hidden",children:f.children};return(N&1)===0&&i.child!==p?(f=i.child,f.childLanes=0,f.pendingProps=L,i.deletions=null):(f=In(p,L),f.subtreeFlags=p.subtreeFlags&14680064),M!==null?x=In(M,x):(x=rs(x,N,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,N=s.child.memoizedState,N=N===null?Il(c):{baseLanes:N.baseLanes|c,cachePool:null,transitions:N.transitions},x.memoizedState=N,x.childLanes=s.childLanes&~c,i.memoizedState=Fl,f}return x=s.child,s=x.sibling,f=In(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function zl(s,i){return i=wo({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function ao(s,i,c,f){return f!==null&&hl(f),Rs(i,s.child,null,c),s=zl(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ep(s,i,c,f,p,x,N){if(c)return i.flags&256?(i.flags&=-257,f=Dl(Error(t(422))),ao(s,i,N,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,p=i.mode,f=wo({mode:"visible",children:f.children},p,0,null),x=rs(x,p,N,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Rs(i,s.child,null,N),i.child.memoizedState=Il(N),i.memoizedState=Fl,x);if((i.mode&1)===0)return ao(s,i,N,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var M=f.dgst;return f=M,x=Error(t(419)),f=Dl(x,f,void 0),ao(s,i,N,f)}if(M=(N&s.childLanes)!==0,dt||M){if(f=Ke,f!==null){switch(N&-N){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|N))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,on(s,p),Bt(f,s,p,-1))}return tc(),f=Dl(Error(t(421))),ao(s,i,N,f)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=Hp.bind(null,s),p._reactRetry=i,null):(s=x.treeContext,vt=Cn(p.nextSibling),yt=i,De=!0,Ot=null,s!==null&&(kt[Nt++]=sn,kt[Nt++]=rn,kt[Nt++]=Xn,sn=s.id,rn=s.overflow,Xn=i),i=zl(i,f.children),i.flags|=4096,i)}function Mh(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),pl(s.return,i,c)}function Bl(s,i,c,f,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=p)}function Ph(s,i,c){var f=i.pendingProps,p=f.revealOrder,x=f.tail;if(ot(s,i,f.children,c),f=Ae.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mh(s,c,i);else if(s.tag===19)Mh(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Me(Ae,f),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)s=c.alternate,s!==null&&eo(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),Bl(i,!1,p,c,x);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&eo(s)===null){i.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Bl(i,!0,c,null,x);break;case"together":Bl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lo(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ln(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),es|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=In(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=In(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Tp(s,i,c){switch(i.tag){case 3:_h(i),Ds();break;case 5:Vu(i);break;case 1:ct(i.type)&&Hi(i);break;case 4:vl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,p=i.memoizedProps.value;Me(Qi,f._currentValue),f._currentValue=p;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Me(Ae,Ae.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Ch(s,i,c):(Me(Ae,Ae.current&1),s=ln(s,i,c),s!==null?s.sibling:null);Me(Ae,Ae.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return Ph(s,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Me(Ae,Ae.current),f)break;return null;case 22:case 23:return i.lanes=0,jh(s,i,c)}return ln(s,i,c)}var Lh,$l,Eh,Th;Lh=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},$l=function(){},Eh=function(s,i,c,f){var p=s.memoizedProps;if(p!==f){s=i.stateNode,Jn(Ut.current);var x=null;switch(c){case"input":p=pa(s,p),f=pa(s,f),x=[];break;case"select":p=K({},p,{value:void 0}),f=K({},f,{value:void 0}),x=[];break;case"textarea":p=va(s,p),f=va(s,f),x=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=$i)}wa(c,f);var N;c=null;for(I in p)if(!f.hasOwnProperty(I)&&p.hasOwnProperty(I)&&p[I]!=null)if(I==="style"){var M=p[I];for(N in M)M.hasOwnProperty(N)&&(c||(c={}),c[N]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?x||(x=[]):(x=x||[]).push(I,null));for(I in f){var L=f[I];if(M=p?.[I],f.hasOwnProperty(I)&&L!==M&&(L!=null||M!=null))if(I==="style")if(M){for(N in M)!M.hasOwnProperty(N)||L&&L.hasOwnProperty(N)||(c||(c={}),c[N]="");for(N in L)L.hasOwnProperty(N)&&M[N]!==L[N]&&(c||(c={}),c[N]=L[N])}else c||(x||(x=[]),x.push(I,c)),c=L;else I==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,M=M?M.__html:void 0,L!=null&&M!==L&&(x=x||[]).push(I,L)):I==="children"?typeof L!="string"&&typeof L!="number"||(x=x||[]).push(I,""+L):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(L!=null&&I==="onScroll"&&Pe("scroll",s),x||M===L||(x=[])):(x=x||[]).push(I,L))}c&&(x=x||[]).push("style",c);var I=x;(i.updateQueue=I)&&(i.flags|=4)}},Th=function(s,i,c,f){c!==f&&(i.flags|=4)};function Rr(s,i){if(!De)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function et(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function Dp(s,i,c){var f=i.pendingProps;switch(cl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return ct(i.type)&&Vi(),et(i),null;case 3:return f=i.stateNode,Fs(),Le(lt),Le(Je),jl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ki(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ot!==null&&(Jl(Ot),Ot=null))),$l(s,i),et(i),null;case 5:bl(i);var p=Jn(Pr.current);if(c=i.type,s!==null&&i.stateNode!=null)Eh(s,i,c,f,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return et(i),null}if(s=Jn(Ut.current),Ki(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[Ht]=i,f[Nr]=x,s=(i.mode&1)!==0,c){case"dialog":Pe("cancel",f),Pe("close",f);break;case"iframe":case"object":case"embed":Pe("load",f);break;case"video":case"audio":for(p=0;p<wr.length;p++)Pe(wr[p],f);break;case"source":Pe("error",f);break;case"img":case"image":case"link":Pe("error",f),Pe("load",f);break;case"details":Pe("toggle",f);break;case"input":hd(f,x),Pe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Pe("invalid",f);break;case"textarea":gd(f,x),Pe("invalid",f)}wa(c,x),p=null;for(var N in x)if(x.hasOwnProperty(N)){var M=x[N];N==="children"?typeof M=="string"?f.textContent!==M&&(x.suppressHydrationWarning!==!0&&Bi(f.textContent,M,s),p=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(x.suppressHydrationWarning!==!0&&Bi(f.textContent,M,s),p=["children",""+M]):o.hasOwnProperty(N)&&M!=null&&N==="onScroll"&&Pe("scroll",f)}switch(c){case"input":xi(f),md(f,x,!0);break;case"textarea":xi(f),xd(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=$i)}f=p,i.updateQueue=f,f!==null&&(i.flags|=4)}else{N=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=yd(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=N.createElement(c,{is:f.is}):(s=N.createElement(c),c==="select"&&(N=s,f.multiple?N.multiple=!0:f.size&&(N.size=f.size))):s=N.createElementNS(s,c),s[Ht]=i,s[Nr]=f,Lh(s,i,!1,!1),i.stateNode=s;e:{switch(N=ja(c,f),c){case"dialog":Pe("cancel",s),Pe("close",s),p=f;break;case"iframe":case"object":case"embed":Pe("load",s),p=f;break;case"video":case"audio":for(p=0;p<wr.length;p++)Pe(wr[p],s);p=f;break;case"source":Pe("error",s),p=f;break;case"img":case"image":case"link":Pe("error",s),Pe("load",s),p=f;break;case"details":Pe("toggle",s),p=f;break;case"input":hd(s,f),p=pa(s,f),Pe("invalid",s);break;case"option":p=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},p=K({},f,{value:void 0}),Pe("invalid",s);break;case"textarea":gd(s,f),p=va(s,f),Pe("invalid",s);break;default:p=f}wa(c,p),M=p;for(x in M)if(M.hasOwnProperty(x)){var L=M[x];x==="style"?wd(s,L):x==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&vd(s,L)):x==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&nr(s,L):typeof L=="number"&&nr(s,""+L):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?L!=null&&x==="onScroll"&&Pe("scroll",s):L!=null&&T(s,x,L,N))}switch(c){case"input":xi(s),md(s,f,!1);break;case"textarea":xi(s),xd(s);break;case"option":f.value!=null&&s.setAttribute("value",""+ke(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?ys(s,!!f.multiple,x,!1):f.defaultValue!=null&&ys(s,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=$i)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return et(i),null;case 6:if(s&&i.stateNode!=null)Th(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(c=Jn(Pr.current),Jn(Ut.current),Ki(i)){if(f=i.stateNode,c=i.memoizedProps,f[Ht]=i,(x=f.nodeValue!==c)&&(s=yt,s!==null))switch(s.tag){case 3:Bi(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bi(f.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ht]=i,i.stateNode=f}return et(i),null;case 13:if(Le(Ae),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(De&&vt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Au(),Ds(),i.flags|=98560,x=!1;else if(x=Ki(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Ht]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),x=!1}else Ot!==null&&(Jl(Ot),Ot=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ae.current&1)!==0?Ue===0&&(Ue=3):tc())),i.updateQueue!==null&&(i.flags|=4),et(i),null);case 4:return Fs(),$l(s,i),s===null&&jr(i.stateNode.containerInfo),et(i),null;case 10:return gl(i.type._context),et(i),null;case 17:return ct(i.type)&&Vi(),et(i),null;case 19:if(Le(Ae),x=i.memoizedState,x===null)return et(i),null;if(f=(i.flags&128)!==0,N=x.rendering,N===null)if(f)Rr(x,!1);else{if(Ue!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(N=eo(s),N!==null){for(i.flags|=128,Rr(x,!1),f=N.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,s=f,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,s=N.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Me(Ae,Ae.current&1|2),i.child}s=s.sibling}x.tail!==null&&ze()>$s&&(i.flags|=128,f=!0,Rr(x,!1),i.lanes=4194304)}else{if(!f)if(s=eo(N),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Rr(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!De)return et(i),null}else 2*ze()-x.renderingStartTime>$s&&c!==1073741824&&(i.flags|=128,f=!0,Rr(x,!1),i.lanes=4194304);x.isBackwards?(N.sibling=i.child,i.child=N):(c=x.last,c!==null?c.sibling=N:i.child=N,x.last=N)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=ze(),i.sibling=null,c=Ae.current,Me(Ae,f?c&1|2:c&1),i):(et(i),null);case 22:case 23:return ec(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(bt&1073741824)!==0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Rp(s,i){switch(cl(i),i.tag){case 1:return ct(i.type)&&Vi(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Fs(),Le(lt),Le(Je),jl(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return bl(i),null;case 13:if(Le(Ae),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ds()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Le(Ae),null;case 4:return Fs(),null;case 10:return gl(i.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var co=!1,tt=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,q=null;function zs(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ie(s,i,f)}else c.current=null}function Wl(s,i,c){try{c()}catch(f){Ie(s,i,f)}}var Dh=!1;function Op(s,i){if(el=Pi,s=uu(),Ga(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var N=0,M=-1,L=-1,I=0,V=0,H=s,W=null;t:for(;;){for(var X;H!==c||p!==0&&H.nodeType!==3||(M=N+p),H!==x||f!==0&&H.nodeType!==3||(L=N+f),H.nodeType===3&&(N+=H.nodeValue.length),(X=H.firstChild)!==null;)W=H,H=X;for(;;){if(H===s)break t;if(W===c&&++I===p&&(M=N),W===x&&++V===f&&(L=N),(X=H.nextSibling)!==null)break;H=W,W=H.parentNode}H=X}c=M===-1||L===-1?null:{start:M,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(tl={focusedElem:s,selectionRange:c},Pi=!1,q=i;q!==null;)if(i=q,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,q=s;else for(;q!==null;){i=q;try{var J=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var te=J.memoizedProps,Be=J.memoizedState,O=i.stateNode,D=O.getSnapshotBeforeUpdate(i.elementType===i.type?te:Ft(i.type,te),Be);O.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(U){Ie(i,i.return,U)}if(s=i.sibling,s!==null){s.return=i.return,q=s;break}q=i.return}return J=Dh,Dh=!1,J}function Ar(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&s)===s){var x=p.destroy;p.destroy=void 0,x!==void 0&&Wl(i,c,x)}p=p.next}while(p!==f)}}function uo(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Vl(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function Rh(s){var i=s.alternate;i!==null&&(s.alternate=null,Rh(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Ht],delete i[Nr],delete i[il],delete i[yp],delete i[vp])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ah(s){return s.tag===5||s.tag===3||s.tag===4}function Oh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ah(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hl(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=$i));else if(f!==4&&(s=s.child,s!==null))for(Hl(s,i,c),s=s.sibling;s!==null;)Hl(s,i,c),s=s.sibling}function Ul(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Ul(s,i,c),s=s.sibling;s!==null;)Ul(s,i,c),s=s.sibling}var Qe=null,It=!1;function Dn(s,i,c){for(c=c.child;c!==null;)Fh(s,i,c),c=c.sibling}function Fh(s,i,c){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ki,c)}catch{}switch(c.tag){case 5:tt||zs(c,i);case 6:var f=Qe,p=It;Qe=null,Dn(s,i,c),Qe=f,It=p,Qe!==null&&(It?(s=Qe,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Qe.removeChild(c.stateNode));break;case 18:Qe!==null&&(It?(s=Qe,c=c.stateNode,s.nodeType===8?rl(s.parentNode,c):s.nodeType===1&&rl(s,c),fr(s)):rl(Qe,c.stateNode));break;case 4:f=Qe,p=It,Qe=c.stateNode.containerInfo,It=!0,Dn(s,i,c),Qe=f,It=p;break;case 0:case 11:case 14:case 15:if(!tt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var x=p,N=x.destroy;x=x.tag,N!==void 0&&((x&2)!==0||(x&4)!==0)&&Wl(c,i,N),p=p.next}while(p!==f)}Dn(s,i,c);break;case 1:if(!tt&&(zs(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){Ie(c,i,M)}Dn(s,i,c);break;case 21:Dn(s,i,c);break;case 22:c.mode&1?(tt=(f=tt)||c.memoizedState!==null,Dn(s,i,c),tt=f):Dn(s,i,c);break;default:Dn(s,i,c)}}function Ih(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Ap),i.forEach(function(f){var p=Up.bind(null,s,f);c.has(f)||(c.add(f),f.then(p,p))})}}function zt(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];try{var x=s,N=i,M=N;e:for(;M!==null;){switch(M.tag){case 5:Qe=M.stateNode,It=!1;break e;case 3:Qe=M.stateNode.containerInfo,It=!0;break e;case 4:Qe=M.stateNode.containerInfo,It=!0;break e}M=M.return}if(Qe===null)throw Error(t(160));Fh(x,N,p),Qe=null,It=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(I){Ie(p,i,I)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)zh(i,s),i=i.sibling}function zh(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zt(i,s),Yt(s),f&4){try{Ar(3,s,s.return),uo(3,s)}catch(te){Ie(s,s.return,te)}try{Ar(5,s,s.return)}catch(te){Ie(s,s.return,te)}}break;case 1:zt(i,s),Yt(s),f&512&&c!==null&&zs(c,c.return);break;case 5:if(zt(i,s),Yt(s),f&512&&c!==null&&zs(c,c.return),s.flags&32){var p=s.stateNode;try{nr(p,"")}catch(te){Ie(s,s.return,te)}}if(f&4&&(p=s.stateNode,p!=null)){var x=s.memoizedProps,N=c!==null?c.memoizedProps:x,M=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{M==="input"&&x.type==="radio"&&x.name!=null&&fd(p,x),ja(M,N);var I=ja(M,x);for(N=0;N<L.length;N+=2){var V=L[N],H=L[N+1];V==="style"?wd(p,H):V==="dangerouslySetInnerHTML"?vd(p,H):V==="children"?nr(p,H):T(p,V,H,I)}switch(M){case"input":xa(p,x);break;case"textarea":pd(p,x);break;case"select":var W=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var X=x.value;X!=null?ys(p,!!x.multiple,X,!1):W!==!!x.multiple&&(x.defaultValue!=null?ys(p,!!x.multiple,x.defaultValue,!0):ys(p,!!x.multiple,x.multiple?[]:"",!1))}p[Nr]=x}catch(te){Ie(s,s.return,te)}}break;case 6:if(zt(i,s),Yt(s),f&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,x=s.memoizedProps;try{p.nodeValue=x}catch(te){Ie(s,s.return,te)}}break;case 3:if(zt(i,s),Yt(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{fr(i.containerInfo)}catch(te){Ie(s,s.return,te)}break;case 4:zt(i,s),Yt(s);break;case 13:zt(i,s),Yt(s),p=s.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(Kl=ze())),f&4&&Ih(s);break;case 22:if(V=c!==null&&c.memoizedState!==null,s.mode&1?(tt=(I=tt)||V,zt(i,s),tt=I):zt(i,s),Yt(s),f&8192){if(I=s.memoizedState!==null,(s.stateNode.isHidden=I)&&!V&&(s.mode&1)!==0)for(q=s,V=s.child;V!==null;){for(H=q=V;q!==null;){switch(W=q,X=W.child,W.tag){case 0:case 11:case 14:case 15:Ar(4,W,W.return);break;case 1:zs(W,W.return);var J=W.stateNode;if(typeof J.componentWillUnmount=="function"){f=W,c=W.return;try{i=f,J.props=i.memoizedProps,J.state=i.memoizedState,J.componentWillUnmount()}catch(te){Ie(f,c,te)}}break;case 5:zs(W,W.return);break;case 22:if(W.memoizedState!==null){Wh(H);continue}}X!==null?(X.return=W,q=X):Wh(H)}V=V.sibling}e:for(V=null,H=s;;){if(H.tag===5){if(V===null){V=H;try{p=H.stateNode,I?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(M=H.stateNode,L=H.memoizedProps.style,N=L!=null&&L.hasOwnProperty("display")?L.display:null,M.style.display=bd("display",N))}catch(te){Ie(s,s.return,te)}}}else if(H.tag===6){if(V===null)try{H.stateNode.nodeValue=I?"":H.memoizedProps}catch(te){Ie(s,s.return,te)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===s)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===s)break e;for(;H.sibling===null;){if(H.return===null||H.return===s)break e;V===H&&(V=null),H=H.return}V===H&&(V=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:zt(i,s),Yt(s),f&4&&Ih(s);break;case 21:break;default:zt(i,s),Yt(s)}}function Yt(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(Ah(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(nr(p,""),f.flags&=-33);var x=Oh(s);Ul(s,x,p);break;case 3:case 4:var N=f.stateNode.containerInfo,M=Oh(s);Hl(s,M,N);break;default:throw Error(t(161))}}catch(L){Ie(s,s.return,L)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Fp(s,i,c){q=s,Bh(s)}function Bh(s,i,c){for(var f=(s.mode&1)!==0;q!==null;){var p=q,x=p.child;if(p.tag===22&&f){var N=p.memoizedState!==null||co;if(!N){var M=p.alternate,L=M!==null&&M.memoizedState!==null||tt;M=co;var I=tt;if(co=N,(tt=L)&&!I)for(q=p;q!==null;)N=q,L=N.child,N.tag===22&&N.memoizedState!==null?Vh(p):L!==null?(L.return=N,q=L):Vh(p);for(;x!==null;)q=x,Bh(x),x=x.sibling;q=p,co=M,tt=I}$h(s)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,q=x):$h(s)}}function $h(s){for(;q!==null;){var i=q;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:tt||uo(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!tt)if(c===null)f.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Ft(i.type,c.memoizedProps);f.componentDidUpdate(p,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Wu(i,x,f);break;case 3:var N=i.updateQueue;if(N!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Wu(i,N,c)}break;case 5:var M=i.stateNode;if(c===null&&i.flags&4){c=M;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var I=i.alternate;if(I!==null){var V=I.memoizedState;if(V!==null){var H=V.dehydrated;H!==null&&fr(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tt||i.flags&512&&Vl(i)}catch(W){Ie(i,i.return,W)}}if(i===s){q=null;break}if(c=i.sibling,c!==null){c.return=i.return,q=c;break}q=i.return}}function Wh(s){for(;q!==null;){var i=q;if(i===s){q=null;break}var c=i.sibling;if(c!==null){c.return=i.return,q=c;break}q=i.return}}function Vh(s){for(;q!==null;){var i=q;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{uo(4,i)}catch(L){Ie(i,c,L)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var p=i.return;try{f.componentDidMount()}catch(L){Ie(i,p,L)}}var x=i.return;try{Vl(i)}catch(L){Ie(i,x,L)}break;case 5:var N=i.return;try{Vl(i)}catch(L){Ie(i,N,L)}}}catch(L){Ie(i,i.return,L)}if(i===s){q=null;break}var M=i.sibling;if(M!==null){M.return=i.return,q=M;break}q=i.return}}var Ip=Math.ceil,ho=E.ReactCurrentDispatcher,Gl=E.ReactCurrentOwner,Ct=E.ReactCurrentBatchConfig,ve=0,Ke=null,We=null,qe=0,bt=0,Bs=Mn(0),Ue=0,Or=null,es=0,fo=0,Yl=0,Fr=null,ut=null,Kl=0,$s=1/0,cn=null,mo=!1,Xl=null,Rn=null,go=!1,An=null,po=0,Ir=0,Ql=null,xo=-1,yo=0;function at(){return(ve&6)!==0?ze():xo!==-1?xo:xo=ze()}function On(s){return(s.mode&1)===0?1:(ve&2)!==0&&qe!==0?qe&-qe:wp.transition!==null?(yo===0&&(yo=Od()),yo):(s=Ne,s!==0||(s=window.event,s=s===void 0?16:Ud(s.type)),s)}function Bt(s,i,c,f){if(50<Ir)throw Ir=0,Ql=null,Error(t(185));lr(s,c,f),((ve&2)===0||s!==Ke)&&(s===Ke&&((ve&2)===0&&(fo|=c),Ue===4&&Fn(s,qe)),ht(s,f),c===1&&ve===0&&(i.mode&1)===0&&($s=ze()+500,Ui&&Ln()))}function ht(s,i){var c=s.callbackNode;w0(s,i);var f=Si(s,s===Ke?qe:0);if(f===0)c!==null&&Dd(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&Dd(c),i===1)s.tag===0?bp(Uh.bind(null,s)):Lu(Uh.bind(null,s)),pp(function(){(ve&6)===0&&Ln()}),c=null;else{switch(Fd(f)){case 1:c=Pa;break;case 4:c=Rd;break;case 16:c=ji;break;case 536870912:c=Ad;break;default:c=ji}c=Zh(c,Hh.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function Hh(s,i){if(xo=-1,yo=0,(ve&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ws()&&s.callbackNode!==c)return null;var f=Si(s,s===Ke?qe:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=vo(s,f);else{i=f;var p=ve;ve|=2;var x=Yh();(Ke!==s||qe!==i)&&(cn=null,$s=ze()+500,ns(s,i));do try{$p();break}catch(M){Gh(s,M)}while(!0);ml(),ho.current=x,ve=p,We!==null?i=0:(Ke=null,qe=0,i=Ue)}if(i!==0){if(i===2&&(p=La(s),p!==0&&(f=p,i=ql(s,p))),i===1)throw c=Or,ns(s,0),Fn(s,f),ht(s,ze()),c;if(i===6)Fn(s,f);else{if(p=s.current.alternate,(f&30)===0&&!zp(p)&&(i=vo(s,f),i===2&&(x=La(s),x!==0&&(f=x,i=ql(s,x))),i===1))throw c=Or,ns(s,0),Fn(s,f),ht(s,ze()),c;switch(s.finishedWork=p,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:ss(s,ut,cn);break;case 3:if(Fn(s,f),(f&130023424)===f&&(i=Kl+500-ze(),10<i)){if(Si(s,0)!==0)break;if(p=s.suspendedLanes,(p&f)!==f){at(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=sl(ss.bind(null,s,ut,cn),i);break}ss(s,ut,cn);break;case 4:if(Fn(s,f),(f&4194240)===f)break;for(i=s.eventTimes,p=-1;0<f;){var N=31-Rt(f);x=1<<N,N=i[N],N>p&&(p=N),f&=~x}if(f=p,f=ze()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ip(f/1960))-f,10<f){s.timeoutHandle=sl(ss.bind(null,s,ut,cn),f);break}ss(s,ut,cn);break;case 5:ss(s,ut,cn);break;default:throw Error(t(329))}}}return ht(s,ze()),s.callbackNode===c?Hh.bind(null,s):null}function ql(s,i){var c=Fr;return s.current.memoizedState.isDehydrated&&(ns(s,i).flags|=256),s=vo(s,i),s!==2&&(i=ut,ut=c,i!==null&&Jl(i)),s}function Jl(s){ut===null?ut=s:ut.push.apply(ut,s)}function zp(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var p=c[f],x=p.getSnapshot;p=p.value;try{if(!At(x(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fn(s,i){for(i&=~Yl,i&=~fo,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Rt(i),f=1<<c;s[c]=-1,i&=~f}}function Uh(s){if((ve&6)!==0)throw Error(t(327));Ws();var i=Si(s,0);if((i&1)===0)return ht(s,ze()),null;var c=vo(s,i);if(s.tag!==0&&c===2){var f=La(s);f!==0&&(i=f,c=ql(s,f))}if(c===1)throw c=Or,ns(s,0),Fn(s,i),ht(s,ze()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ss(s,ut,cn),ht(s,ze()),null}function Zl(s,i){var c=ve;ve|=1;try{return s(i)}finally{ve=c,ve===0&&($s=ze()+500,Ui&&Ln())}}function ts(s){An!==null&&An.tag===0&&(ve&6)===0&&Ws();var i=ve;ve|=1;var c=Ct.transition,f=Ne;try{if(Ct.transition=null,Ne=1,s)return s()}finally{Ne=f,Ct.transition=c,ve=i,(ve&6)===0&&Ln()}}function ec(){bt=Bs.current,Le(Bs)}function ns(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,gp(c)),We!==null)for(c=We.return;c!==null;){var f=c;switch(cl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vi();break;case 3:Fs(),Le(lt),Le(Je),jl();break;case 5:bl(f);break;case 4:Fs();break;case 13:Le(Ae);break;case 19:Le(Ae);break;case 10:gl(f.type._context);break;case 22:case 23:ec()}c=c.return}if(Ke=s,We=s=In(s.current,null),qe=bt=i,Ue=0,Or=null,Yl=fo=es=0,ut=Fr=null,qn!==null){for(i=0;i<qn.length;i++)if(c=qn[i],f=c.interleaved,f!==null){c.interleaved=null;var p=f.next,x=c.pending;if(x!==null){var N=x.next;x.next=p,f.next=N}c.pending=f}qn=null}return s}function Gh(s,i){do{var c=We;try{if(ml(),to.current=io,no){for(var f=Oe.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}no=!1}if(Zn=0,Ye=He=Oe=null,Lr=!1,Er=0,Gl.current=null,c===null||c.return===null){Ue=1,Or=i,We=null;break}e:{var x=s,N=c.return,M=c,L=i;if(i=qe,M.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var I=L,V=M,H=V.tag;if((V.mode&1)===0&&(H===0||H===11||H===15)){var W=V.alternate;W?(V.updateQueue=W.updateQueue,V.memoizedState=W.memoizedState,V.lanes=W.lanes):(V.updateQueue=null,V.memoizedState=null)}var X=xh(N);if(X!==null){X.flags&=-257,yh(X,N,M,x,i),X.mode&1&&ph(x,I,i),i=X,L=I;var J=i.updateQueue;if(J===null){var te=new Set;te.add(L),i.updateQueue=te}else J.add(L);break e}else{if((i&1)===0){ph(x,I,i),tc();break e}L=Error(t(426))}}else if(De&&M.mode&1){var Be=xh(N);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),yh(Be,N,M,x,i),hl(Is(L,M));break e}}x=L=Is(L,M),Ue!==4&&(Ue=2),Fr===null?Fr=[x]:Fr.push(x),x=N;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var O=mh(x,L,i);$u(x,O);break e;case 1:M=L;var D=x.type,F=x.stateNode;if((x.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Rn===null||!Rn.has(F)))){x.flags|=65536,i&=-i,x.lanes|=i;var U=gh(x,M,i);$u(x,U);break e}}x=x.return}while(x!==null)}Xh(c)}catch(ne){i=ne,We===c&&c!==null&&(We=c=c.return);continue}break}while(!0)}function Yh(){var s=ho.current;return ho.current=io,s===null?io:s}function tc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||(es&268435455)===0&&(fo&268435455)===0||Fn(Ke,qe)}function vo(s,i){var c=ve;ve|=2;var f=Yh();(Ke!==s||qe!==i)&&(cn=null,ns(s,i));do try{Bp();break}catch(p){Gh(s,p)}while(!0);if(ml(),ve=c,ho.current=f,We!==null)throw Error(t(261));return Ke=null,qe=0,Ue}function Bp(){for(;We!==null;)Kh(We)}function $p(){for(;We!==null&&!h0();)Kh(We)}function Kh(s){var i=Jh(s.alternate,s,bt);s.memoizedProps=s.pendingProps,i===null?Xh(s):We=i,Gl.current=null}function Xh(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Dp(c,i,bt),c!==null){We=c;return}}else{if(c=Rp(c,i),c!==null){c.flags&=32767,We=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ue=6,We=null;return}}if(i=i.sibling,i!==null){We=i;return}We=i=s}while(i!==null);Ue===0&&(Ue=5)}function ss(s,i,c){var f=Ne,p=Ct.transition;try{Ct.transition=null,Ne=1,Wp(s,i,c,f)}finally{Ct.transition=p,Ne=f}return null}function Wp(s,i,c,f){do Ws();while(An!==null);if((ve&6)!==0)throw Error(t(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(j0(s,x),s===Ke&&(We=Ke=null,qe=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||go||(go=!0,Zh(ji,function(){return Ws(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Ct.transition,Ct.transition=null;var N=Ne;Ne=1;var M=ve;ve|=4,Gl.current=null,Op(s,c),zh(c,s),lp(tl),Pi=!!el,tl=el=null,s.current=c,Fp(c),f0(),ve=M,Ne=N,Ct.transition=x}else s.current=c;if(go&&(go=!1,An=s,po=p),x=s.pendingLanes,x===0&&(Rn=null),p0(c.stateNode),ht(s,ze()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)p=i[c],f(p.value,{componentStack:p.stack,digest:p.digest});if(mo)throw mo=!1,s=Xl,Xl=null,s;return(po&1)!==0&&s.tag!==0&&Ws(),x=s.pendingLanes,(x&1)!==0?s===Ql?Ir++:(Ir=0,Ql=s):Ir=0,Ln(),null}function Ws(){if(An!==null){var s=Fd(po),i=Ct.transition,c=Ne;try{if(Ct.transition=null,Ne=16>s?16:s,An===null)var f=!1;else{if(s=An,An=null,po=0,(ve&6)!==0)throw Error(t(331));var p=ve;for(ve|=4,q=s.current;q!==null;){var x=q,N=x.child;if((q.flags&16)!==0){var M=x.deletions;if(M!==null){for(var L=0;L<M.length;L++){var I=M[L];for(q=I;q!==null;){var V=q;switch(V.tag){case 0:case 11:case 15:Ar(8,V,x)}var H=V.child;if(H!==null)H.return=V,q=H;else for(;q!==null;){V=q;var W=V.sibling,X=V.return;if(Rh(V),V===I){q=null;break}if(W!==null){W.return=X,q=W;break}q=X}}}var J=x.alternate;if(J!==null){var te=J.child;if(te!==null){J.child=null;do{var Be=te.sibling;te.sibling=null,te=Be}while(te!==null)}}q=x}}if((x.subtreeFlags&2064)!==0&&N!==null)N.return=x,q=N;else e:for(;q!==null;){if(x=q,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ar(9,x,x.return)}var O=x.sibling;if(O!==null){O.return=x.return,q=O;break e}q=x.return}}var D=s.current;for(q=D;q!==null;){N=q;var F=N.child;if((N.subtreeFlags&2064)!==0&&F!==null)F.return=N,q=F;else e:for(N=D;q!==null;){if(M=q,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:uo(9,M)}}catch(ne){Ie(M,M.return,ne)}if(M===N){q=null;break e}var U=M.sibling;if(U!==null){U.return=M.return,q=U;break e}q=M.return}}if(ve=p,Ln(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ki,s)}catch{}f=!0}return f}finally{Ne=c,Ct.transition=i}}return!1}function Qh(s,i,c){i=Is(c,i),i=mh(s,i,1),s=Tn(s,i,1),i=at(),s!==null&&(lr(s,1,i),ht(s,i))}function Ie(s,i,c){if(s.tag===3)Qh(s,s,c);else for(;i!==null;){if(i.tag===3){Qh(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rn===null||!Rn.has(f))){s=Is(c,s),s=gh(i,s,1),i=Tn(i,s,1),s=at(),i!==null&&(lr(i,1,s),ht(i,s));break}}i=i.return}}function Vp(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=at(),s.pingedLanes|=s.suspendedLanes&c,Ke===s&&(qe&c)===c&&(Ue===4||Ue===3&&(qe&130023424)===qe&&500>ze()-Kl?ns(s,0):Yl|=c),ht(s,i)}function qh(s,i){i===0&&((s.mode&1)===0?i=1:(i=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var c=at();s=on(s,i),s!==null&&(lr(s,i,c),ht(s,c))}function Hp(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),qh(s,c)}function Up(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),qh(s,c)}var Jh;Jh=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||lt.current)dt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return dt=!1,Tp(s,i,c);dt=(s.flags&131072)!==0}else dt=!1,De&&(i.flags&1048576)!==0&&Eu(i,Yi,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;lo(s,i),s=i.pendingProps;var p=Ls(i,Je.current);Os(i,c),p=_l(null,i,f,s,p,c);var x=Sl();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ct(f)?(x=!0,Hi(i)):x=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,yl(i),p.updater=oo,i.stateNode=p,p._reactInternals=i,Tl(i,f,s,c),i=Ol(null,i,f,!0,x,c)):(i.tag=0,De&&x&&ll(i),ot(null,i,p,c),i=i.child),i;case 16:f=i.elementType;e:{switch(lo(s,i),s=i.pendingProps,p=f._init,f=p(f._payload),i.type=f,p=i.tag=Yp(f),s=Ft(f,s),p){case 0:i=Al(null,i,f,s,c);break e;case 1:i=Nh(null,i,f,s,c);break e;case 11:i=vh(null,i,f,s,c);break e;case 14:i=bh(null,i,f,Ft(f.type,s),c);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Ft(f,p),Al(s,i,f,p,c);case 1:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Ft(f,p),Nh(s,i,f,p,c);case 3:e:{if(_h(i),s===null)throw Error(t(387));f=i.pendingProps,x=i.memoizedState,p=x.element,Bu(s,i),Zi(i,f,null,c);var N=i.memoizedState;if(f=N.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){p=Is(Error(t(423)),i),i=Sh(s,i,f,c,p);break e}else if(f!==p){p=Is(Error(t(424)),i),i=Sh(s,i,f,c,p);break e}else for(vt=Cn(i.stateNode.containerInfo.firstChild),yt=i,De=!0,Ot=null,c=Iu(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ds(),f===p){i=ln(s,i,c);break e}ot(s,i,f,c)}i=i.child}return i;case 5:return Vu(i),s===null&&ul(i),f=i.type,p=i.pendingProps,x=s!==null?s.memoizedProps:null,N=p.children,nl(f,p)?N=null:x!==null&&nl(f,x)&&(i.flags|=32),kh(s,i),ot(s,i,N,c),i.child;case 6:return s===null&&ul(i),null;case 13:return Ch(s,i,c);case 4:return vl(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Rs(i,null,f,c):ot(s,i,f,c),i.child;case 11:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Ft(f,p),vh(s,i,f,p,c);case 7:return ot(s,i,i.pendingProps,c),i.child;case 8:return ot(s,i,i.pendingProps.children,c),i.child;case 12:return ot(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,p=i.pendingProps,x=i.memoizedProps,N=p.value,Me(Qi,f._currentValue),f._currentValue=N,x!==null)if(At(x.value,N)){if(x.children===p.children&&!lt.current){i=ln(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var M=x.dependencies;if(M!==null){N=x.child;for(var L=M.firstContext;L!==null;){if(L.context===f){if(x.tag===1){L=an(-1,c&-c),L.tag=2;var I=x.updateQueue;if(I!==null){I=I.shared;var V=I.pending;V===null?L.next=L:(L.next=V.next,V.next=L),I.pending=L}}x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),pl(x.return,c,i),M.lanes|=c;break}L=L.next}}else if(x.tag===10)N=x.type===i.type?null:x.child;else if(x.tag===18){if(N=x.return,N===null)throw Error(t(341));N.lanes|=c,M=N.alternate,M!==null&&(M.lanes|=c),pl(N,c,i),N=x.sibling}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===i){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}ot(s,i,p.children,c),i=i.child}return i;case 9:return p=i.type,f=i.pendingProps.children,Os(i,c),p=_t(p),f=f(p),i.flags|=1,ot(s,i,f,c),i.child;case 14:return f=i.type,p=Ft(f,i.pendingProps),p=Ft(f.type,p),bh(s,i,f,p,c);case 15:return wh(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,p=i.pendingProps,p=i.elementType===f?p:Ft(f,p),lo(s,i),i.tag=1,ct(f)?(s=!0,Hi(i)):s=!1,Os(i,c),hh(i,f,p),Tl(i,f,p,c),Ol(null,i,f,!0,s,c);case 19:return Ph(s,i,c);case 22:return jh(s,i,c)}throw Error(t(156,i.tag))};function Zh(s,i){return Td(s,i)}function Gp(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(s,i,c,f){return new Gp(s,i,c,f)}function nc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yp(s){if(typeof s=="function")return nc(s)?1:0;if(s!=null){if(s=s.$$typeof,s===le)return 11;if(s===ee)return 14}return 2}function In(s,i){var c=s.alternate;return c===null?(c=Mt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function bo(s,i,c,f,p,x){var N=2;if(f=s,typeof s=="function")nc(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case z:return rs(c.children,p,x,i);case $:N=8,p|=8;break;case Y:return s=Mt(12,c,i,p|2),s.elementType=Y,s.lanes=x,s;case se:return s=Mt(13,c,i,p),s.elementType=se,s.lanes=x,s;case fe:return s=Mt(19,c,i,p),s.elementType=fe,s.lanes=x,s;case de:return wo(c,p,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:N=10;break e;case re:N=9;break e;case le:N=11;break e;case ee:N=14;break e;case ie:N=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Mt(N,c,i,p),i.elementType=s,i.type=f,i.lanes=x,i}function rs(s,i,c,f){return s=Mt(7,s,f,i),s.lanes=c,s}function wo(s,i,c,f){return s=Mt(22,s,f,i),s.elementType=de,s.lanes=c,s.stateNode={isHidden:!1},s}function sc(s,i,c){return s=Mt(6,s,null,i),s.lanes=c,s}function rc(s,i,c){return i=Mt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function Kp(s,i,c,f,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ic(s,i,c,f,p,x,N,M,L){return s=new Kp(s,i,c,M,L),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Mt(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(x),s}function Xp(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function ef(s){if(!s)return Pn;s=s._reactInternals;e:{if(Gn(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ct(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(ct(c))return Mu(s,c,i)}return i}function tf(s,i,c,f,p,x,N,M,L){return s=ic(c,f,!0,s,p,x,N,M,L),s.context=ef(null),c=s.current,f=at(),p=On(c),x=an(f,p),x.callback=i??null,Tn(c,x,p),s.current.lanes=p,lr(s,p,f),ht(s,f),s}function jo(s,i,c,f){var p=i.current,x=at(),N=On(p);return c=ef(c),i.context===null?i.context=c:i.pendingContext=c,i=an(x,N),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Tn(p,i,N),s!==null&&(Bt(s,p,N,x),Ji(s,p,N)),N}function ko(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nf(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function oc(s,i){nf(s,i),(s=s.alternate)&&nf(s,i)}function Qp(){return null}var sf=typeof reportError=="function"?reportError:function(s){console.error(s)};function ac(s){this._internalRoot=s}No.prototype.render=ac.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));jo(s,i,null,null)},No.prototype.unmount=ac.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ts(function(){jo(null,s,null,null)}),i[tn]=null}};function No(s){this._internalRoot=s}No.prototype.unstable_scheduleHydration=function(s){if(s){var i=Bd();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Nn.length&&i!==0&&i<Nn[c].priority;c++);Nn.splice(c,0,s),c===0&&Vd(s)}};function lc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function _o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rf(){}function qp(s,i,c,f,p){if(p){if(typeof f=="function"){var x=f;f=function(){var I=ko(N);x.call(I)}}var N=tf(i,f,s,0,null,!1,!1,"",rf);return s._reactRootContainer=N,s[tn]=N.current,jr(s.nodeType===8?s.parentNode:s),ts(),N}for(;p=s.lastChild;)s.removeChild(p);if(typeof f=="function"){var M=f;f=function(){var I=ko(L);M.call(I)}}var L=ic(s,0,!1,null,null,!1,!1,"",rf);return s._reactRootContainer=L,s[tn]=L.current,jr(s.nodeType===8?s.parentNode:s),ts(function(){jo(i,L,c,f)}),L}function So(s,i,c,f,p){var x=c._reactRootContainer;if(x){var N=x;if(typeof p=="function"){var M=p;p=function(){var L=ko(N);M.call(L)}}jo(i,N,s,p)}else N=qp(c,i,s,p,f);return ko(N)}Id=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=ar(i.pendingLanes);c!==0&&(Ta(i,c|1),ht(i,ze()),(ve&6)===0&&($s=ze()+500,Ln()))}break;case 13:ts(function(){var f=on(s,1);if(f!==null){var p=at();Bt(f,s,1,p)}}),oc(s,1)}},Da=function(s){if(s.tag===13){var i=on(s,134217728);if(i!==null){var c=at();Bt(i,s,134217728,c)}oc(s,134217728)}},zd=function(s){if(s.tag===13){var i=On(s),c=on(s,i);if(c!==null){var f=at();Bt(c,s,i,f)}oc(s,i)}},Bd=function(){return Ne},$d=function(s,i){var c=Ne;try{return Ne=s,i()}finally{Ne=c}},_a=function(s,i,c){switch(i){case"input":if(xa(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var p=Wi(f);if(!p)throw Error(t(90));ud(f),xa(f,p)}}}break;case"textarea":pd(s,c);break;case"select":i=c.value,i!=null&&ys(s,!!c.multiple,i,!1)}},_d=Zl,Sd=ts;var Jp={usingClientEntryPoint:!1,Events:[_r,Ms,Wi,kd,Nd,Zl]},zr={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zp={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ld(s),s===null?null:s.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{ki=Co.inject(Zp),Vt=Co}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp,ft.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(i))throw Error(t(200));return Xp(s,i,null,c)},ft.createRoot=function(s,i){if(!lc(s))throw Error(t(299));var c=!1,f="",p=sf;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=ic(s,1,!1,null,null,c,!1,f,p),s[tn]=i.current,jr(s.nodeType===8?s.parentNode:s),new ac(i)},ft.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ld(i),s=s===null?null:s.stateNode,s},ft.flushSync=function(s){return ts(s)},ft.hydrate=function(s,i,c){if(!_o(i))throw Error(t(200));return So(null,s,i,!0,c)},ft.hydrateRoot=function(s,i,c){if(!lc(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,p=!1,x="",N=sf;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),i=tf(i,null,s,1,c??null,p,!1,x,N),s[tn]=i.current,jr(s),f)for(s=0;s<f.length;s++)c=f[s],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new No(i)},ft.render=function(s,i,c){if(!_o(i))throw Error(t(200));return So(null,s,i,!1,c)},ft.unmountComponentAtNode=function(s){if(!_o(s))throw Error(t(40));return s._reactRootContainer?(ts(function(){So(null,null,s,!1,function(){s._reactRootContainer=null,s[tn]=null})}),!0):!1},ft.unstable_batchedUpdates=Zl,ft.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!_o(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return So(s,i,c,!1,f)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var ff;function ax(){if(ff)return uc.exports;ff=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uc.exports=ox(),uc.exports}var mf;function lx(){if(mf)return Mo;mf=1;var n=ax();return Mo.createRoot=n.createRoot,Mo.hydrateRoot=n.hydrateRoot,Mo}var cx=lx();const dx=Vm(cx);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gf="popstate";function ux(n={}){function e(r,o){let{pathname:l,search:d,hash:u}=r.location;return Lc("",{pathname:l,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:ti(o)}return fx(e,t,null,n)}function Re(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hx(){return Math.random().toString(36).substring(2,10)}function pf(n,e){return{usr:n.state,key:n.key,idx:e}}function Lc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||hx()}}function ti({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function fx(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,d=o.history,u="POP",h=null,m=g();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function g(){return(d.state||{idx:null}).idx}function y(){u="POP";let j=g(),S=j==null?null:j-m;m=j,h&&h({action:u,location:w.location,delta:S})}function v(j,S){u="PUSH";let _=Lc(w.location,j,S);m=g()+1;let T=pf(_,m),E=w.createHref(_);try{d.pushState(T,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;o.location.assign(E)}l&&h&&h({action:u,location:w.location,delta:1})}function b(j,S){u="REPLACE";let _=Lc(w.location,j,S);m=g();let T=pf(_,m),E=w.createHref(_);d.replaceState(T,"",E),l&&h&&h({action:u,location:w.location,delta:0})}function k(j){return mx(j)}let w={get action(){return u},get location(){return n(o,d)},listen(j){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(gf,y),h=j,()=>{o.removeEventListener(gf,y),h=null}},createHref(j){return e(o,j)},createURL:k,encodeLocation(j){let S=k(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(j){return d.go(j)}};return w}function mx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Re(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ti(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Hm(n,e,t="/"){return gx(n,e,t,!1)}function gx(n,e,t,r){let o=typeof e=="string"?Xs(e):e,l=xn(o.pathname||"/",t);if(l==null)return null;let d=Um(n);px(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let m=Cx(l);u=_x(d[h],m,r)}return u}function Um(n,e=[],t=[],r="",o=!1){let l=(d,u,h=o,m)=>{let g={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Re(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=pn([r,g.relativePath]),v=t.concat(g);d.children&&d.children.length>0&&(Re(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Um(d.children,e,v,y,h)),!(d.path==null&&!d.index)&&e.push({path:y,score:kx(y,d.index),routesMeta:v})};return n.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))l(d,u);else for(let h of Gm(d.path))l(d,u,!0,h)}),e}function Gm(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let d=Gm(r.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...d),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function px(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Nx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xx=/^:[\w-]+$/,yx=3,vx=2,bx=1,wx=10,jx=-2,xf=n=>n==="*";function kx(n,e){let t=n.split("/"),r=t.length;return t.some(xf)&&(r+=jx),e&&(r+=vx),t.filter(o=>!xf(o)).reduce((o,l)=>o+(xx.test(l)?yx:l===""?bx:wx),r)}function Nx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function _x(n,e,t=!1){let{routesMeta:r}=n,o={},l="/",d=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=Ko({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=Ko({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:pn([l,y.pathname]),pathnameBase:Ex(pn([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=pn([l,y.pathnameBase]))}return d}function Ko(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Sx(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let k=u[v]||"";d=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=u[v];return y&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:n}}function Sx(n,e=!1,t=!0){Tt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Cx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Mx(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:Px(t,e):e,search:Tx(r),hash:Dx(o)}}function Px(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mc(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vc(n){let e=Lx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Hc(n,e,t,r=!1){let o;typeof n=="string"?o=Xs(n):(o={...n},Re(!o.pathname||!o.pathname.includes("?"),mc("?","pathname","search",o)),Re(!o.pathname||!o.pathname.includes("#"),mc("#","pathname","hash",o)),Re(!o.search||!o.search.includes("#"),mc("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,u;if(d==null)u=t;else{let y=e.length-1;if(!r&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=Mx(o,u),m=d&&d!=="/"&&d.endsWith("/"),g=(l||d===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var pn=n=>n.join("/").replace(/\/\/+/g,"/"),Ex=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Rx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ym=["POST","PUT","PATCH","DELETE"];new Set(Ym);var Ax=["GET",...Ym];new Set(Ax);var Qs=C.createContext(null);Qs.displayName="DataRouter";var ra=C.createContext(null);ra.displayName="DataRouterState";C.createContext(!1);var Km=C.createContext({isTransitioning:!1});Km.displayName="ViewTransition";var Ox=C.createContext(new Map);Ox.displayName="Fetchers";var Fx=C.createContext(null);Fx.displayName="Await";var Wt=C.createContext(null);Wt.displayName="Navigation";var ui=C.createContext(null);ui.displayName="Location";var en=C.createContext({outlet:null,matches:[],isDataRoute:!1});en.displayName="Route";var Uc=C.createContext(null);Uc.displayName="RouteError";function Ix(n,{relative:e}={}){Re(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(Wt),{hash:o,pathname:l,search:d}=hi(n,{relative:e}),u=l;return t!=="/"&&(u=l==="/"?t:pn([t,l])),r.createHref({pathname:u,search:d,hash:o})}function qs(){return C.useContext(ui)!=null}function yn(){return Re(qs(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ui).location}var Xm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qm(n){C.useContext(Wt).static||C.useLayoutEffect(n)}function Un(){let{isDataRoute:n}=C.useContext(en);return n?qx():zx()}function zx(){Re(qs(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Qs),{basename:e,navigator:t}=C.useContext(Wt),{matches:r}=C.useContext(en),{pathname:o}=yn(),l=JSON.stringify(Vc(r)),d=C.useRef(!1);return Qm(()=>{d.current=!0}),C.useCallback((h,m={})=>{if(Tt(d.current,Xm),!d.current)return;if(typeof h=="number"){t.go(h);return}let g=Hc(h,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:pn([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,l,o,n])}C.createContext(null);function hi(n,{relative:e}={}){let{matches:t}=C.useContext(en),{pathname:r}=yn(),o=JSON.stringify(Vc(t));return C.useMemo(()=>Hc(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function Bx(n,e){return qm(n,e)}function qm(n,e,t,r,o){Re(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(Wt),{matches:d}=C.useContext(en),u=d[d.length-1],h=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let _=y&&y.path||"";Jm(m,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=yn(),b;if(e){let _=typeof e=="string"?Xs(e):e;Re(g==="/"||_.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=v;let k=b.pathname||"/",w=k;if(g!=="/"){let _=g.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=Hm(n,{pathname:w});Tt(y||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Tt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Ux(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:pn([g,l.encodeLocation?l.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?g:pn([g,l.encodeLocation?l.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),d,t,r,o);return e&&S?C.createElement(ui.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function $x(){let n=Qx(),e=Rx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:o},t):null,d)}var Wx=C.createElement($x,null),Vx=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?C.createElement(en.Provider,{value:this.props.routeContext},C.createElement(Uc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hx({routeContext:n,match:e,children:t}){let r=C.useContext(Qs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(en.Provider,{value:n},t)}function Ux(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=t?.errors;if(d!=null){let m=l.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);Re(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(t)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:v}=t,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,g,y)=>{let v,b=!1,k=null,w=null;t&&(v=d&&g.route.id?d[g.route.id]:void 0,k=g.route.errorElement||Wx,u&&(h<0&&y===0?(Jm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):h===y&&(b=!0,w=g.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,y+1)),S=()=>{let _;return v?_=k:b?_=w:g.route.Component?_=C.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=m,C.createElement(Hx,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:t!=null},children:_})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?C.createElement(Vx,{location:t.location,revalidation:t.revalidation,component:k,error:v,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):S()},null)}function Gc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gx(n){let e=C.useContext(Qs);return Re(e,Gc(n)),e}function Yx(n){let e=C.useContext(ra);return Re(e,Gc(n)),e}function Kx(n){let e=C.useContext(en);return Re(e,Gc(n)),e}function Yc(n){let e=Kx(n),t=e.matches[e.matches.length-1];return Re(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Xx(){return Yc("useRouteId")}function Qx(){let n=C.useContext(Uc),e=Yx("useRouteError"),t=Yc("useRouteError");return n!==void 0?n:e.errors?.[t]}function qx(){let{router:n}=Gx("useNavigate"),e=Yc("useNavigate"),t=C.useRef(!1);return Qm(()=>{t.current=!0}),C.useCallback(async(o,l={})=>{Tt(t.current,Xm),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var yf={};function Jm(n,e,t){!e&&!yf[n]&&(yf[n]=!0,Tt(!1,t))}C.memo(Jx);function Jx({routes:n,future:e,state:t,unstable_onError:r}){return qm(n,void 0,t,r,e)}function Zx({to:n,replace:e,state:t,relative:r}){Re(qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(Wt);Tt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(en),{pathname:d}=yn(),u=Un(),h=Hc(n,Vc(l),d,r==="path"),m=JSON.stringify(h);return C.useEffect(()=>{u(JSON.parse(m),{replace:e,state:t,relative:r})},[u,m,r,e,t]),null}function Bn(n){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ey({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1}){Re(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Xs(t));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:v="default"}=t,b=C.useMemo(()=>{let k=xn(h,d);return k==null?null:{location:{pathname:k,search:m,hash:g,state:y,key:v},navigationType:r}},[d,h,m,g,y,v,r]);return Tt(b!=null,`<Router basename="${d}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(Wt.Provider,{value:u},C.createElement(ui.Provider,{children:e,value:b}))}function ty({children:n,location:e}){return Bx(Ec(n),e)}function Ec(n,e=[]){let t=[];return C.Children.forEach(n,(r,o)=>{if(!C.isValidElement(r))return;let l=[...e,o];if(r.type===C.Fragment){t.push.apply(t,Ec(r.props.children,l));return}Re(r.type===Bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Ec(r.props.children,l)),t.push(d)}),t}var Ho="get",Uo="application/x-www-form-urlencoded";function ia(n){return n!=null&&typeof n.tagName=="string"}function ny(n){return ia(n)&&n.tagName.toLowerCase()==="button"}function sy(n){return ia(n)&&n.tagName.toLowerCase()==="form"}function ry(n){return ia(n)&&n.tagName.toLowerCase()==="input"}function iy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oy(n,e){return n.button===0&&(!e||e==="_self")&&!iy(n)}function Tc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function ay(n,e){let t=Tc(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}var Po=null;function ly(){if(Po===null)try{new FormData(document.createElement("form"),0),Po=!1}catch{Po=!0}return Po}var cy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gc(n){return n!=null&&!cy.has(n)?(Tt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uo}"`),null):n}function dy(n,e){let t,r,o,l,d;if(sy(n)){let u=n.getAttribute("action");r=u?xn(u,e):null,t=n.getAttribute("method")||Ho,o=gc(n.getAttribute("enctype"))||Uo,l=new FormData(n)}else if(ny(n)||ry(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?xn(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ho,o=gc(n.getAttribute("formenctype"))||gc(u.getAttribute("enctype"))||Uo,l=new FormData(u,n),!ly()){let{name:m,type:g,value:y}=n;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,y)}}else{if(ia(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ho,r=null,o=Uo,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uy(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&xn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function hy(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fy(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function my(n,e,t){let r=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await hy(l,t);return d.links?d.links():[]}return[]}));return yy(r.flat(1).filter(fy).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vf(n,e,t,r,o,l){let d=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,u=(h,m)=>t[m].pathname!==h.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>d(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(d(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function gy(n,e,{includeHydrateFallback:t}={}){return py(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function py(n){return[...new Set(n)]}function xy(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function yy(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let l=JSON.stringify(xy(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function Zm(){let n=C.useContext(Qs);return Kc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vy(){let n=C.useContext(ra);return Kc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xc=C.createContext(void 0);Xc.displayName="FrameworkContext";function eg(){let n=C.useContext(Xc);return Kc(n,"You must render this element inside a <HydratedRouter> element"),n}function by(n,e){let t=C.useContext(Xc),[r,o]=C.useState(!1),[l,d]=C.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=e,v=C.useRef(null);C.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let w=S=>{S.forEach(_=>{d(_.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[n]),C.useEffect(()=>{if(r){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{o(!0)},k=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:$r(u,b),onBlur:$r(h,k),onMouseEnter:$r(m,b),onMouseLeave:$r(g,k),onTouchStart:$r(y,b)}]:[!1,v,{}]}function $r(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wy({page:n,...e}){let{router:t}=Zm(),r=C.useMemo(()=>Hm(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(ky,{page:n,matches:r,...e}):null}function jy(n){let{manifest:e,routeModules:t}=eg(),[r,o]=C.useState([]);return C.useEffect(()=>{let l=!1;return my(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),r}function ky({page:n,matches:e,...t}){let r=yn(),{manifest:o,routeModules:l}=eg(),{basename:d}=Zm(),{loaderData:u,matches:h}=vy(),m=C.useMemo(()=>vf(n,e,h,o,r,"data"),[n,e,h,o,r]),g=C.useMemo(()=>vf(n,e,h,o,r,"assets"),[n,e,h,o,r]),y=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(e.forEach(S=>{let _=o.routes[S.route.id];!_||!_.hasLoader||(!m.some(T=>T.route.id===S.route.id)&&S.route.id in u&&l[S.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:k.add(S.route.id))}),k.size===0)return[];let j=uy(n,d,"data");return w&&k.size>0&&j.searchParams.set("_routes",e.filter(S=>k.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[d,u,r,o,m,e,n,l]),v=C.useMemo(()=>gy(g,o),[g,o]),b=jy(g);return C.createElement(C.Fragment,null,y.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),v.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),b.map(({key:k,link:w})=>C.createElement("link",{key:k,nonce:t.nonce,...w})))}function Ny(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tg&&(window.__reactRouterVersion="7.9.1")}catch{}function _y({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=ux({window:t,v5Compat:!0}));let o=r.current,[l,d]=C.useState({action:o.action,location:o.location}),u=C.useCallback(h=>{C.startTransition(()=>d(h))},[d]);return C.useLayoutEffect(()=>o.listen(u),[o,u]),C.createElement(ey,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:d,state:u,target:h,to:m,preventScrollReset:g,viewTransition:y,...v},b){let{basename:k}=C.useContext(Wt),w=typeof m=="string"&&ng.test(m),j,S=!1;if(typeof m=="string"&&w&&(j=m,tg))try{let Y=new URL(window.location.href),Z=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),re=xn(Z.pathname,k);Z.origin===Y.origin&&re!=null?m=re+Z.search+Z.hash:S=!0}catch{Tt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Ix(m,{relative:o}),[T,E,P]=by(r,v),A=Py(m,{replace:d,state:u,target:h,preventScrollReset:g,relative:o,viewTransition:y});function z(Y){e&&e(Y),Y.defaultPrevented||A(Y)}let $=C.createElement("a",{...v,...P,href:j||_,onClick:S||l?e:z,ref:Ny(b,E),target:h,"data-discover":!w&&t==="render"?"true":void 0});return T&&!w?C.createElement(C.Fragment,null,$,C.createElement(wy,{page:_})):$});$t.displayName="Link";var Sy=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:d,viewTransition:u,children:h,...m},g){let y=hi(d,{relative:m.relative}),v=yn(),b=C.useContext(ra),{navigator:k,basename:w}=C.useContext(Wt),j=b!=null&&Ry(y)&&u===!0,S=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,_=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(_=_.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&w&&(T=xn(T,w)||T);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=_===S||!o&&_.startsWith(S)&&_.charAt(E)==="/",A=T!=null&&(T===S||!o&&T.startsWith(S)&&T.charAt(S.length)==="/"),z={isActive:P,isPending:A,isTransitioning:j},$=P?e:void 0,Y;typeof r=="function"?Y=r(z):Y=[r,P?"active":null,A?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(z):l;return C.createElement($t,{...m,"aria-current":$,className:Y,ref:g,style:Z,to:d,viewTransition:u},typeof h=="function"?h(z):h)});Sy.displayName="NavLink";var Cy=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:d=Ho,action:u,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:y,...v},b)=>{let k=Ty(),w=Dy(u,{relative:m}),j=d.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&ng.test(u),_=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let E=T.nativeEvent.submitter,P=E?.getAttribute("formmethod")||d;k(E||T.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:b,method:j,action:w,onSubmit:r?h:_,...v,"data-discover":!S&&n==="render"?"true":void 0})});Cy.displayName="Form";function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(n){let e=C.useContext(Qs);return Re(e,My(n)),e}function Py(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:d}={}){let u=Un(),h=yn(),m=hi(n,{relative:l});return C.useCallback(g=>{if(oy(g,e)){g.preventDefault();let y=t!==void 0?t:ti(h)===ti(m);u(n,{replace:y,state:r,preventScrollReset:o,relative:l,viewTransition:d})}},[h,u,m,t,r,e,n,o,l,d])}function rg(n){Tt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(Tc(n)),t=C.useRef(!1),r=yn(),o=C.useMemo(()=>ay(r.search,t.current?null:e.current),[r.search]),l=Un(),d=C.useCallback((u,h)=>{const m=Tc(typeof u=="function"?u(new URLSearchParams(o)):u);t.current=!0,l("?"+m,h)},[l,o]);return[o,d]}var Ly=0,Ey=()=>`__${String(++Ly)}__`;function Ty(){let{router:n}=sg("useSubmit"),{basename:e}=C.useContext(Wt),t=Xx();return C.useCallback(async(r,o={})=>{let{action:l,method:d,encType:u,formData:h,body:m}=dy(r,e);if(o.navigate===!1){let g=o.fetcherKey||Ey();await n.fetch(g,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||u,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Dy(n,{relative:e}={}){let{basename:t}=C.useContext(Wt),r=C.useContext(en);Re(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...hi(n||".",{relative:e})},d=yn();if(n==null){l.search=d.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();l.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:pn([t,l.pathname])),ti(l)}function Ry(n,{relative:e}={}){let t=C.useContext(Km);Re(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sg("useViewTransitionState"),o=hi(n,{relative:e});if(!t.isTransitioning)return!1;let l=xn(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=xn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ko(o.pathname,d)!=null||Ko(o.pathname,l)!=null}const Ay="modulepreload",Oy=function(n){return"/Personal-Finance/"+n},bf={},qt=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");o=m(t.map(g=>{if(g=Oy(g),g in bf)return;bf[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":Ay,y||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),y)return new Promise((k,w)=>{b.addEventListener("load",k),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},Fy=()=>{const n=Un(),[e,t]=C.useState({email:"",password:""}),[r,o]=C.useState({}),[l,d]=C.useState(!1),u=e.email&&e.password,h=y=>{const{name:v,value:b}=y.target;t(k=>({...k,[v]:b})),r[v]&&o(k=>({...k,[v]:""}))},m=()=>{const y={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!m()){d(!0);try{const{ApiService:v}=await qt(async()=>{const{ApiService:k}=await Promise.resolve().then(()=>Zt);return{ApiService:k}},[]),b=await v.authenticateUser(e.email,e.password);b.success?(localStorage.setItem("currentUser",JSON.stringify(b.user)),n("/dashboard")):o({general:b.message||"Invalid email or password."})}catch(v){console.error("Login error:",v),o({general:"Login failed. Please try again."})}finally{d(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx($t,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"card",children:a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.general&&a.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-600 px-4 py-3 rounded-lg",children:r.general}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`input ${r.email?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Enter your email"}),r.email&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:e.password,onChange:h,className:`input ${r.password?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Enter your password"}),r.password&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.password})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx($t,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:l||!u,className:`btn w-full flex justify-center items-center ${u?"btn-primary":"btn-primary opacity-50"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})})})]})},Iy=()=>{const n=Un(),[e,t]=C.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}),[r,o]=C.useState({}),[l,d]=C.useState(!1),u=e.firstName&&e.lastName&&e.email&&e.password&&e.confirmPassword&&e.agreeTerms,h=y=>{const{name:v,value:b,type:k,checked:w}=y.target;t(j=>({...j,[v]:k==="checkbox"?w:b})),r[v]&&o(j=>({...j,[v]:""}))},m=()=>{const y={};return e.firstName.trim()||(y.firstName="First name is required"),e.lastName.trim()||(y.lastName="Last name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(y.email="Email is invalid"):y.email="Email is required",e.password?e.password.length<8?y.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)||(y.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):y.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your password",e.agreeTerms||(y.agreeTerms="You must agree to the terms and conditions"),o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!m()){d(!0);try{const{ApiService:v}=await qt(async()=>{const{ApiService:w}=await Promise.resolve().then(()=>Zt);return{ApiService:w}},void 0),b={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,createdAt:new Date().toISOString()},k=await v.syncUserToDatabase(b);k.success?(localStorage.setItem("currentUser",JSON.stringify({id:k.userId,firstName:e.firstName,lastName:e.lastName,email:e.email})),n("/dashboard")):o({general:k.error||"Registration failed. Please try again."})}catch(v){console.error("Registration error:",v),o({general:"Registration failed. Please try again."})}finally{d(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx($t,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"card",children:a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.general&&a.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-600 px-4 py-3 rounded-lg",children:r.general}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",value:e.firstName,onChange:h,className:`input ${r.firstName?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"John"}),r.firstName&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.firstName})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",value:e.lastName,onChange:h,className:`input ${r.lastName?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Doe"}),r.lastName&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.lastName})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`input ${r.email?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"john@example.com"}),r.email&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:e.password,onChange:h,className:`input ${r.password?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Create a strong password"}),r.password&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.password})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:e.confirmPassword,onChange:h,className:`input ${r.confirmPassword?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Confirm your password"}),r.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.confirmPassword})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"agree-terms",name:"agreeTerms",type:"checkbox",checked:e.agreeTerms,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),r.agreeTerms&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:r.agreeTerms}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:l||!u,className:`btn w-full flex justify-center items-center ${u?"btn-primary":"btn-primary opacity-50"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})})]})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fi(n){return n+.5|0}const $n=(n,e,t)=>Math.max(Math.min(n,t),e);function Yr(n){return $n(fi(n*2.55),0,255)}function Vn(n){return $n(fi(n*255),0,255)}function fn(n){return $n(fi(n/2.55)/100,0,1)}function wf(n){return $n(fi(n*100),0,100)}const Pt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dc=[..."0123456789ABCDEF"],zy=n=>Dc[n&15],By=n=>Dc[(n&240)>>4]+Dc[n&15],Lo=n=>(n&240)>>4===(n&15),$y=n=>Lo(n.r)&&Lo(n.g)&&Lo(n.b)&&Lo(n.a);function Wy(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Pt[n[1]]*17,g:255&Pt[n[2]]*17,b:255&Pt[n[3]]*17,a:e===5?Pt[n[4]]*17:255}:(e===7||e===9)&&(t={r:Pt[n[1]]<<4|Pt[n[2]],g:Pt[n[3]]<<4|Pt[n[4]],b:Pt[n[5]]<<4|Pt[n[6]],a:e===9?Pt[n[7]]<<4|Pt[n[8]]:255})),t}const Vy=(n,e)=>n<255?e(n):"";function Hy(n){var e=$y(n)?zy:By;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Vy(n.a,e):void 0}const Uy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ig(n,e,t){const r=e*Math.min(t,1-t),o=(l,d=(l+n/30)%12)=>t-r*Math.max(Math.min(d-3,9-d,1),-1);return[o(0),o(8),o(4)]}function Gy(n,e,t){const r=(o,l=(o+n/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[r(5),r(3),r(1)]}function Yy(n,e,t){const r=ig(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function Ky(n,e,t,r,o){return n===o?(e-t)/r+(e<t?6:0):e===o?(t-n)/r+2:(n-e)/r+4}function Qc(n){const t=n.r/255,r=n.g/255,o=n.b/255,l=Math.max(t,r,o),d=Math.min(t,r,o),u=(l+d)/2;let h,m,g;return l!==d&&(g=l-d,m=u>.5?g/(2-l-d):g/(l+d),h=Ky(t,r,o,g,l),h=h*60+.5),[h|0,m||0,u]}function qc(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Vn)}function Jc(n,e,t){return qc(ig,n,e,t)}function Xy(n,e,t){return qc(Yy,n,e,t)}function Qy(n,e,t){return qc(Gy,n,e,t)}function og(n){return(n%360+360)%360}function qy(n){const e=Uy.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Yr(+e[5]):Vn(+e[5]));const o=og(+e[2]),l=+e[3]/100,d=+e[4]/100;return e[1]==="hwb"?r=Xy(o,l,d):e[1]==="hsv"?r=Qy(o,l,d):r=Jc(o,l,d),{r:r[0],g:r[1],b:r[2],a:t}}function Jy(n,e){var t=Qc(n);t[0]=og(t[0]+e),t=Jc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Zy(n){if(!n)return;const e=Qc(n),t=e[0],r=wf(e[1]),o=wf(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${o}%, ${fn(n.a)})`:`hsl(${t}, ${r}%, ${o}%)`}const jf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ev(){const n={},e=Object.keys(kf),t=Object.keys(jf);let r,o,l,d,u;for(r=0;r<e.length;r++){for(d=u=e[r],o=0;o<t.length;o++)l=t[o],u=u.replace(l,jf[l]);l=parseInt(kf[d],16),n[u]=[l>>16&255,l>>8&255,l&255]}return n}let Eo;function tv(n){Eo||(Eo=ev(),Eo.transparent=[0,0,0,0]);const e=Eo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sv(n){const e=nv.exec(n);let t=255,r,o,l;if(e){if(e[7]!==r){const d=+e[7];t=e[8]?Yr(d):$n(d*255,0,255)}return r=+e[1],o=+e[3],l=+e[5],r=255&(e[2]?Yr(r):$n(r,0,255)),o=255&(e[4]?Yr(o):$n(o,0,255)),l=255&(e[6]?Yr(l):$n(l,0,255)),{r,g:o,b:l,a:t}}}function rv(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const pc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function iv(n,e,t){const r=Vs(fn(n.r)),o=Vs(fn(n.g)),l=Vs(fn(n.b));return{r:Vn(pc(r+t*(Vs(fn(e.r))-r))),g:Vn(pc(o+t*(Vs(fn(e.g))-o))),b:Vn(pc(l+t*(Vs(fn(e.b))-l))),a:n.a+t*(e.a-n.a)}}function To(n,e,t){if(n){let r=Qc(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Jc(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function ag(n,e){return n&&Object.assign(e||{},n)}function Nf(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Vn(n[3]))):(e=ag(n,{r:0,g:0,b:0,a:1}),e.a=Vn(e.a)),e}function ov(n){return n.charAt(0)==="r"?sv(n):qy(n)}class ni{constructor(e){if(e instanceof ni)return e;const t=typeof e;let r;t==="object"?r=Nf(e):t==="string"&&(r=Wy(e)||tv(e)||ov(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ag(this._rgb);return e&&(e.a=fn(e.a)),e}set rgb(e){this._rgb=Nf(e)}rgbString(){return this._valid?rv(this._rgb):void 0}hexString(){return this._valid?Hy(this._rgb):void 0}hslString(){return this._valid?Zy(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,o=e.rgb;let l;const d=t===l?.5:t,u=2*d-1,h=r.a-o.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-m,r.r=255&m*r.r+l*o.r+.5,r.g=255&m*r.g+l*o.g+.5,r.b=255&m*r.b+l*o.b+.5,r.a=d*r.a+(1-d)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=iv(this._rgb,e._rgb,t)),this}clone(){return new ni(this.rgb)}alpha(e){return this._rgb.a=Vn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=fi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return To(this._rgb,2,e),this}darken(e){return To(this._rgb,2,-e),this}saturate(e){return To(this._rgb,1,e),this}desaturate(e){return To(this._rgb,1,-e),this}rotate(e){return Jy(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function dn(){}const av=(()=>{let n=0;return()=>n++})();function je(n){return n==null}function Ve(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ye(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function it(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Kt(n,e){return it(n)?n:e}function ge(n,e){return typeof n>"u"?e:n}const lv=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,lg=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ee(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function _e(n,e,t,r){let o,l,d;if(Ve(n))for(l=n.length,o=0;o<l;o++)e.call(t,n[o],o);else if(ye(n))for(d=Object.keys(n),l=d.length,o=0;o<l;o++)e.call(t,n[d[o]],d[o])}function Xo(n,e){let t,r,o,l;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(o=n[t],l=e[t],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function Qo(n){if(Ve(n))return n.map(Qo);if(ye(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let o=0;for(;o<r;++o)e[t[o]]=Qo(n[t[o]]);return e}return n}function cg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function cv(n,e,t,r){if(!cg(n))return;const o=e[n],l=t[n];ye(o)&&ye(l)?si(o,l,r):e[n]=Qo(l)}function si(n,e,t){const r=Ve(e)?e:[e],o=r.length;if(!ye(n))return n;t=t||{};const l=t.merger||cv;let d;for(let u=0;u<o;++u){if(d=r[u],!ye(d))continue;const h=Object.keys(d);for(let m=0,g=h.length;m<g;++m)l(h[m],n,d,t)}return n}function Qr(n,e){return si(n,e,{merger:dv})}function dv(n,e,t){if(!cg(n))return;const r=e[n],o=t[n];ye(r)&&ye(o)?Qr(r,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Qo(o))}const _f={"":n=>n,x:n=>n.x,y:n=>n.y};function uv(n){const e=n.split("."),t=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function hv(n){const e=uv(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ms(n,e){return(_f[e]||(_f[e]=hv(e)))(n)}function Zc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ri=n=>typeof n<"u",Hn=n=>typeof n=="function",Sf=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function fv(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Se=Math.PI,Fe=2*Se,mv=Fe+Se,qo=Number.POSITIVE_INFINITY,gv=Se/180,Ge=Se/2,is=Se/4,Cf=Se*2/3,dg=Math.log10,Jt=Math.sign;function qr(n,e,t){return Math.abs(n-e)<t}function Mf(n){const e=Math.round(n);n=qr(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(dg(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function pv(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((o,l)=>o-l).pop(),e}function xv(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ii(n){return!xv(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function yv(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function vv(n,e,t){let r,o,l;for(r=0,o=n.length;r<o;r++)l=n[r][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function mn(n){return n*(Se/180)}function bv(n){return n*(180/Se)}function Pf(n){if(!it(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ug(n,e){const t=e.x-n.x,r=e.y-n.y,o=Math.sqrt(t*t+r*r);let l=Math.atan2(r,t);return l<-.5*Se&&(l+=Fe),{angle:l,distance:o}}function Rc(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function wv(n,e){return(n-e+mv)%Fe-Se}function wt(n){return(n%Fe+Fe)%Fe}function oi(n,e,t,r){const o=wt(n),l=wt(e),d=wt(t),u=wt(l-o),h=wt(d-o),m=wt(o-l),g=wt(o-d);return o===l||o===d||r&&l===d||u>h&&m<g}function st(n,e,t){return Math.max(e,Math.min(t,n))}function jv(n){return st(n,-32768,32767)}function gn(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function ed(n,e,t){t=t||(d=>n[d]<e);let r=n.length-1,o=0,l;for(;r-o>1;)l=o+r>>1,t(l)?o=l:r=l;return{lo:o,hi:r}}const hs=(n,e,t,r)=>ed(n,t,r?o=>{const l=n[o][e];return l<t||l===t&&n[o+1][e]===t}:o=>n[o][e]<t),kv=(n,e,t)=>ed(n,t,r=>n[r][e]>=t);function Nv(n,e,t){let r=0,o=n.length;for(;r<o&&n[r]<e;)r++;for(;o>r&&n[o-1]>t;)o--;return r>0||o<n.length?n.slice(r,o):n}const hg=["push","pop","shift","splice","unshift"];function _v(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hg.forEach(t=>{const r="_onData"+Zc(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...l){const d=o.apply(this,l);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...l)}),d}})})}function Lf(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(hg.forEach(l=>{delete n[l]}),delete n._chartjs)}function fg(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const mg=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function gg(n,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,mg.call(window,()=>{r=!1,n.apply(e,t)}))}}function Sv(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const td=n=>n==="start"?"left":n==="end"?"right":"center",nt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Cv=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Mv(n,e,t){const r=e.length;let o=0,l=r;if(n._sorted){const{iScale:d,vScale:u,_parsed:h}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=d.axis,{min:y,max:v,minDefined:b,maxDefined:k}=d.getUserBounds();if(b){if(o=Math.min(hs(h,g,y).lo,t?r:hs(e,g,d.getPixelForValue(y)).lo),m){const w=h.slice(0,o+1).reverse().findIndex(j=>!je(j[u.axis]));o-=Math.max(0,w)}o=st(o,0,r-1)}if(k){let w=Math.max(hs(h,d.axis,v,!0).hi+1,t?0:hs(e,g,d.getPixelForValue(v),!0).hi+1);if(m){const j=h.slice(w-1).findIndex(S=>!je(S[u.axis]));w+=Math.max(0,j)}l=st(w,o,r)-o}else l=r-o}return{start:o,count:l}}function Pv(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=o,!0;const l=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,o),l}const Do=n=>n===0||n===1,Ef=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Fe/t)),Tf=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Fe/t)+1,Jr={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ge)+1,easeOutSine:n=>Math.sin(n*Ge),easeInOutSine:n=>-.5*(Math.cos(Se*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Do(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Do(n)?n:Ef(n,.075,.3),easeOutElastic:n=>Do(n)?n:Tf(n,.075,.3),easeInOutElastic(n){return Do(n)?n:n<.5?.5*Ef(n*2,.1125,.45):.5+.5*Tf(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Jr.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Jr.easeInBounce(n*2)*.5:Jr.easeOutBounce(n*2-1)*.5+.5};function nd(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Df(n){return nd(n)?n:new ni(n)}function xc(n){return nd(n)?n:new ni(n).saturate(.5).darken(.1).hexString()}const Lv=["x","y","borderWidth","radius","tension"],Ev=["color","borderColor","backgroundColor"];function Tv(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Ev},numbers:{type:"number",properties:Lv}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Dv(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rf=new Map;function Rv(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Rf.get(t);return r||(r=new Intl.NumberFormat(n,e),Rf.set(t,r)),r}function sd(n,e,t){return Rv(e,t).format(n)}const Av={values(n){return Ve(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let o,l=n;if(t.length>1){const m=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(m<1e-4||m>1e15)&&(o="scientific"),l=Ov(n,t)}const d=dg(Math.abs(l)),u=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),h={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),sd(n,r,h)}};function Ov(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var pg={formatters:Av};function Fv(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const gs=Object.create(null),Ac=Object.create(null);function Zr(n,e){if(!e)return n;const t=e.split(".");for(let r=0,o=t.length;r<o;++r){const l=t[r];n=n[l]||(n[l]=Object.create(null))}return n}function yc(n,e,t){return typeof e=="string"?si(Zr(n,e),t):si(Zr(n,""),e)}class Iv{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>xc(o.backgroundColor),this.hoverBorderColor=(r,o)=>xc(o.borderColor),this.hoverColor=(r,o)=>xc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return yc(this,e,t)}get(e){return Zr(this,e)}describe(e,t){return yc(Ac,e,t)}override(e,t){return yc(gs,e,t)}route(e,t,r,o){const l=Zr(this,e),d=Zr(this,r),u="_"+t;Object.defineProperties(l,{[u]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],m=d[o];return ye(h)?Object.assign({},m,h):ge(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var $e=new Iv({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tv,Dv,Fv]);function zv(n){return!n||je(n.size)||je(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Af(n,e,t,r,o){let l=e[o];return l||(l=e[o]=n.measureText(o).width,t.push(o)),l>r&&(r=l),r}function os(n,e,t){const r=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function Of(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Oc(n,e,t,r){xg(n,e,t,r,null)}function xg(n,e,t,r,o){let l,d,u,h,m,g,y,v;const b=e.pointStyle,k=e.rotation,w=e.radius;let j=(k||0)*gv;if(b&&typeof b=="object"&&(l=b.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(j),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),b){default:o?n.ellipse(t,r,o/2,w,0,0,Fe):n.arc(t,r,w,0,Fe),n.closePath();break;case"triangle":g=o?o/2:w,n.moveTo(t+Math.sin(j)*g,r-Math.cos(j)*w),j+=Cf,n.lineTo(t+Math.sin(j)*g,r-Math.cos(j)*w),j+=Cf,n.lineTo(t+Math.sin(j)*g,r-Math.cos(j)*w),n.closePath();break;case"rectRounded":m=w*.516,h=w-m,d=Math.cos(j+is)*h,y=Math.cos(j+is)*(o?o/2-m:h),u=Math.sin(j+is)*h,v=Math.sin(j+is)*(o?o/2-m:h),n.arc(t-y,r-u,m,j-Se,j-Ge),n.arc(t+v,r-d,m,j-Ge,j),n.arc(t+y,r+u,m,j,j+Ge),n.arc(t-v,r+d,m,j+Ge,j+Se),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*w,g=o?o/2:h,n.rect(t-g,r-h,2*g,2*h);break}j+=is;case"rectRot":y=Math.cos(j)*(o?o/2:w),d=Math.cos(j)*w,u=Math.sin(j)*w,v=Math.sin(j)*(o?o/2:w),n.moveTo(t-y,r-u),n.lineTo(t+v,r-d),n.lineTo(t+y,r+u),n.lineTo(t-v,r+d),n.closePath();break;case"crossRot":j+=is;case"cross":y=Math.cos(j)*(o?o/2:w),d=Math.cos(j)*w,u=Math.sin(j)*w,v=Math.sin(j)*(o?o/2:w),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-d),n.lineTo(t-v,r+d);break;case"star":y=Math.cos(j)*(o?o/2:w),d=Math.cos(j)*w,u=Math.sin(j)*w,v=Math.sin(j)*(o?o/2:w),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-d),n.lineTo(t-v,r+d),j+=is,y=Math.cos(j)*(o?o/2:w),d=Math.cos(j)*w,u=Math.sin(j)*w,v=Math.sin(j)*(o?o/2:w),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-d),n.lineTo(t-v,r+d);break;case"line":d=o?o/2:Math.cos(j)*w,u=Math.sin(j)*w,n.moveTo(t-d,r-u),n.lineTo(t+d,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(j)*(o?o/2:w),r+Math.sin(j)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ai(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function oa(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function aa(n){n.restore()}function Bv(n,e,t,r,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){const l=(e.x+t.x)/2;n.lineTo(l,e.y),n.lineTo(l,t.y)}else o==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function $v(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Wv(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),je(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Vv(n,e,t,r,o){if(o.strikethrough||o.underline){const l=n.measureText(r),d=e-l.actualBoundingBoxLeft,u=e+l.actualBoundingBoxRight,h=t-l.actualBoundingBoxAscent,m=t+l.actualBoundingBoxDescent,g=o.strikethrough?(h+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(d,g),n.lineTo(u,g),n.stroke()}}function Hv(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function li(n,e,t,r,o,l={}){const d=Ve(e)?e:[e],u=l.strokeWidth>0&&l.strokeColor!=="";let h,m;for(n.save(),n.font=o.string,Wv(n,l),h=0;h<d.length;++h)m=d[h],l.backdrop&&Hv(n,l.backdrop),u&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),je(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(m,t,r,l.maxWidth)),n.fillText(m,t,r,l.maxWidth),Vv(n,t,r,m,l),r+=Number(o.lineHeight);n.restore()}function Jo(n,e){const{x:t,y:r,w:o,h:l,radius:d}=e;n.arc(t+d.topLeft,r+d.topLeft,d.topLeft,1.5*Se,Se,!0),n.lineTo(t,r+l-d.bottomLeft),n.arc(t+d.bottomLeft,r+l-d.bottomLeft,d.bottomLeft,Se,Ge,!0),n.lineTo(t+o-d.bottomRight,r+l),n.arc(t+o-d.bottomRight,r+l-d.bottomRight,d.bottomRight,Ge,0,!0),n.lineTo(t+o,r+d.topRight),n.arc(t+o-d.topRight,r+d.topRight,d.topRight,0,-Ge,!0),n.lineTo(t+d.topLeft,r)}const Uv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Yv(n,e){const t=(""+n).match(Uv);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Kv=n=>+n||0;function rd(n,e){const t={},r=ye(e),o=r?Object.keys(e):e,l=ye(n)?r?d=>ge(n[d],n[e[d]]):d=>n[d]:()=>n;for(const d of o)t[d]=Kv(l(d));return t}function yg(n){return rd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Us(n){return rd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Dt(n){const e=yg(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rt(n,e){n=n||{},e=e||$e.font;let t=ge(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=ge(n.style,e.style);r&&!(""+r).match(Gv)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:ge(n.family,e.family),lineHeight:Yv(ge(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:ge(n.weight,e.weight),string:""};return o.string=zv(o),o}function Ro(n,e,t,r){let o,l,d;for(o=0,l=n.length;o<l;++o)if(d=n[o],d!==void 0&&d!==void 0)return d}function Xv(n,e,t){const{min:r,max:o}=n,l=lg(e,(o-r)/2),d=(u,h)=>t&&u===0?0:u+h;return{min:d(r,-Math.abs(l)),max:d(o,l)}}function ps(n,e){return Object.assign(Object.create(n),e)}function id(n,e=[""],t,r,o=()=>n[0]){const l=t||n;typeof r>"u"&&(r=jg("_fallback",n));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:r,_getTarget:o,override:u=>id([u,...n],e,l,r)};return new Proxy(d,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return bg(u,h,()=>s2(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return If(u).includes(h)},ownKeys(u){return If(u)},set(u,h,m){const g=u._storage||(u._storage=o());return u[h]=g[h]=m,delete u._keys,!0}})}function Ys(n,e,t,r){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:vg(n,r),setContext:l=>Ys(n,l,t,r),override:l=>Ys(n.override(l),e,t,r)};return new Proxy(o,{deleteProperty(l,d){return delete l[d],delete n[d],!0},get(l,d,u){return bg(l,d,()=>qv(l,d,u))},getOwnPropertyDescriptor(l,d){return l._descriptors.allKeys?Reflect.has(n,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,d)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,d){return Reflect.has(n,d)},ownKeys(){return Reflect.ownKeys(n)},set(l,d,u){return n[d]=u,delete l[d],!0}})}function vg(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:r,isScriptable:Hn(t)?t:()=>t,isIndexable:Hn(r)?r:()=>r}}const Qv=(n,e)=>n?n+Zc(e):e,od=(n,e)=>ye(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bg(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function qv(n,e,t){const{_proxy:r,_context:o,_subProxy:l,_descriptors:d}=n;let u=r[e];return Hn(u)&&d.isScriptable(e)&&(u=Jv(e,u,n,t)),Ve(u)&&u.length&&(u=Zv(e,u,n,d.isIndexable)),od(e,u)&&(u=Ys(u,o,l&&l[e],d)),u}function Jv(n,e,t,r){const{_proxy:o,_context:l,_subProxy:d,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(l,d||r);return u.delete(n),od(n,h)&&(h=ad(o._scopes,o,n,h)),h}function Zv(n,e,t,r){const{_proxy:o,_context:l,_subProxy:d,_descriptors:u}=t;if(typeof l.index<"u"&&r(n))return e[l.index%e.length];if(ye(e[0])){const h=e,m=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=ad(m,o,n,g);e.push(Ys(y,l,d&&d[n],u))}}return e}function wg(n,e,t){return Hn(n)?n(e,t):n}const e2=(n,e)=>n===!0?e:typeof n=="string"?ms(e,n):void 0;function t2(n,e,t,r,o){for(const l of e){const d=e2(t,l);if(d){n.add(d);const u=wg(d._fallback,t,o);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(d===!1&&typeof r<"u"&&t!==r)return null}return!1}function ad(n,e,t,r){const o=e._rootScopes,l=wg(e._fallback,t,r),d=[...n,...o],u=new Set;u.add(r);let h=Ff(u,d,t,l||t,r);return h===null||typeof l<"u"&&l!==t&&(h=Ff(u,d,l,h,r),h===null)?!1:id(Array.from(u),[""],o,l,()=>n2(e,t,r))}function Ff(n,e,t,r,o){for(;t;)t=t2(n,e,t,r,o);return t}function n2(n,e,t){const r=n._getTarget();e in r||(r[e]={});const o=r[e];return Ve(o)&&ye(t)?t:o||{}}function s2(n,e,t,r){let o;for(const l of e)if(o=jg(Qv(l,n),t),typeof o<"u")return od(n,o)?ad(t,r,n,o):o}function jg(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function If(n){let e=n._keys;return e||(e=n._keys=r2(n._scopes)),e}function r2(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const i2=Number.EPSILON||1e-14,Ks=(n,e)=>e<n.length&&!n[e].skip&&n[e],kg=n=>n==="x"?"y":"x";function o2(n,e,t,r){const o=n.skip?e:n,l=e,d=t.skip?e:t,u=Rc(l,o),h=Rc(d,l);let m=u/(u+h),g=h/(u+h);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const y=r*m,v=r*g;return{previous:{x:l.x-y*(d.x-o.x),y:l.y-y*(d.y-o.y)},next:{x:l.x+v*(d.x-o.x),y:l.y+v*(d.y-o.y)}}}function a2(n,e,t){const r=n.length;let o,l,d,u,h,m=Ks(n,0);for(let g=0;g<r-1;++g)if(h=m,m=Ks(n,g+1),!(!h||!m)){if(qr(e[g],0,i2)){t[g]=t[g+1]=0;continue}o=t[g]/e[g],l=t[g+1]/e[g],u=Math.pow(o,2)+Math.pow(l,2),!(u<=9)&&(d=3/Math.sqrt(u),t[g]=o*d*e[g],t[g+1]=l*d*e[g])}}function l2(n,e,t="x"){const r=kg(t),o=n.length;let l,d,u,h=Ks(n,0);for(let m=0;m<o;++m){if(d=u,u=h,h=Ks(n,m+1),!u)continue;const g=u[t],y=u[r];d&&(l=(g-d[t])/3,u[`cp1${t}`]=g-l,u[`cp1${r}`]=y-l*e[m]),h&&(l=(h[t]-g)/3,u[`cp2${t}`]=g+l,u[`cp2${r}`]=y+l*e[m])}}function c2(n,e="x"){const t=kg(e),r=n.length,o=Array(r).fill(0),l=Array(r);let d,u,h,m=Ks(n,0);for(d=0;d<r;++d)if(u=h,h=m,m=Ks(n,d+1),!!h){if(m){const g=m[e]-h[e];o[d]=g!==0?(m[t]-h[t])/g:0}l[d]=u?m?Jt(o[d-1])!==Jt(o[d])?0:(o[d-1]+o[d])/2:o[d-1]:o[d]}a2(n,o,l),l2(n,l,e)}function Ao(n,e,t){return Math.max(Math.min(n,t),e)}function d2(n,e){let t,r,o,l,d,u=ai(n[0],e);for(t=0,r=n.length;t<r;++t)d=l,l=u,u=t<r-1&&ai(n[t+1],e),l&&(o=n[t],d&&(o.cp1x=Ao(o.cp1x,e.left,e.right),o.cp1y=Ao(o.cp1y,e.top,e.bottom)),u&&(o.cp2x=Ao(o.cp2x,e.left,e.right),o.cp2y=Ao(o.cp2y,e.top,e.bottom)))}function u2(n,e,t,r,o){let l,d,u,h;if(e.spanGaps&&(n=n.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")c2(n,o);else{let m=r?n[n.length-1]:n[0];for(l=0,d=n.length;l<d;++l)u=n[l],h=o2(m,u,n[Math.min(l+1,d-(r?0:1))%d],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,m=u}e.capBezierPoints&&d2(n,t)}function ld(){return typeof window<"u"&&typeof document<"u"}function cd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zo(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const la=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function h2(n,e){return la(n).getPropertyValue(e)}const f2=["top","right","bottom","left"];function fs(n,e,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const l=f2[o];r[l]=parseFloat(n[e+"-"+l+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const m2=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function g2(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:o,offsetY:l}=r;let d=!1,u,h;if(m2(o,l,n.target))u=o,h=l;else{const m=e.getBoundingClientRect();u=r.clientX-m.left,h=r.clientY-m.top,d=!0}return{x:u,y:h,box:d}}function ds(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,o=la(t),l=o.boxSizing==="border-box",d=fs(o,"padding"),u=fs(o,"border","width"),{x:h,y:m,box:g}=g2(n,t),y=d.left+(g&&u.left),v=d.top+(g&&u.top);let{width:b,height:k}=e;return l&&(b-=d.width+u.width,k-=d.height+u.height),{x:Math.round((h-y)/b*t.width/r),y:Math.round((m-v)/k*t.height/r)}}function p2(n,e,t){let r,o;if(e===void 0||t===void 0){const l=n&&cd(n);if(!l)e=n.clientWidth,t=n.clientHeight;else{const d=l.getBoundingClientRect(),u=la(l),h=fs(u,"border","width"),m=fs(u,"padding");e=d.width-m.width-h.width,t=d.height-m.height-h.height,r=Zo(u.maxWidth,l,"clientWidth"),o=Zo(u.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:r||qo,maxHeight:o||qo}}const Oo=n=>Math.round(n*10)/10;function x2(n,e,t,r){const o=la(n),l=fs(o,"margin"),d=Zo(o.maxWidth,n,"clientWidth")||qo,u=Zo(o.maxHeight,n,"clientHeight")||qo,h=p2(n,e,t);let{width:m,height:g}=h;if(o.boxSizing==="content-box"){const v=fs(o,"border","width"),b=fs(o,"padding");m-=b.width+v.width,g-=b.height+v.height}return m=Math.max(0,m-l.width),g=Math.max(0,r?m/r:g-l.height),m=Oo(Math.min(m,d,h.maxWidth)),g=Oo(Math.min(g,u,h.maxHeight)),m&&!g&&(g=Oo(m/2)),(e!==void 0||t!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,m=Oo(Math.floor(g*r))),{width:m,height:g}}function zf(n,e,t){const r=e||1,o=Math.floor(n.height*r),l=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const d=n.canvas;return d.style&&(t||!d.style.height&&!d.style.width)&&(d.style.height=`${n.height}px`,d.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||d.height!==o||d.width!==l?(n.currentDevicePixelRatio=r,d.height=o,d.width=l,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const y2=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};ld()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Bf(n,e){const t=h2(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function us(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function v2(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function b2(n,e,t,r){const o={x:n.cp2x,y:n.cp2y},l={x:e.cp1x,y:e.cp1y},d=us(n,o,t),u=us(o,l,t),h=us(l,e,t),m=us(d,u,t),g=us(u,h,t);return us(m,g,t)}const w2=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},j2=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Gs(n,e,t){return n?w2(e,t):j2()}function Ng(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function _g(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Sg(n){return n==="angle"?{between:oi,compare:wv,normalize:wt}:{between:gn,compare:(e,t)=>e-t,normalize:e=>e}}function $f({start:n,end:e,count:t,loop:r,style:o}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:o}}function k2(n,e,t){const{property:r,start:o,end:l}=t,{between:d,normalize:u}=Sg(r),h=e.length;let{start:m,end:g,loop:y}=n,v,b;if(y){for(m+=h,g+=h,v=0,b=h;v<b&&d(u(e[m%h][r]),o,l);++v)m--,g--;m%=h,g%=h}return g<m&&(g+=h),{start:m,end:g,loop:y,style:n.style}}function Cg(n,e,t){if(!t)return[n];const{property:r,start:o,end:l}=t,d=e.length,{compare:u,between:h,normalize:m}=Sg(r),{start:g,end:y,loop:v,style:b}=k2(n,e,t),k=[];let w=!1,j=null,S,_,T;const E=()=>h(o,T,S)&&u(o,T)!==0,P=()=>u(l,S)===0||h(l,T,S),A=()=>w||E(),z=()=>!w||P();for(let $=g,Y=g;$<=y;++$)_=e[$%d],!_.skip&&(S=m(_[r]),S!==T&&(w=h(S,o,l),j===null&&A()&&(j=u(S,o)===0?$:Y),j!==null&&z()&&(k.push($f({start:j,end:$,loop:v,count:d,style:b})),j=null),Y=$,T=S));return j!==null&&k.push($f({start:j,end:y,loop:v,count:d,style:b})),k}function Mg(n,e){const t=[],r=n.segments;for(let o=0;o<r.length;o++){const l=Cg(r[o],n.points,e);l.length&&t.push(...l)}return t}function N2(n,e,t,r){let o=0,l=e-1;if(t&&!r)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(l+=o);l>o&&n[l%e].skip;)l--;return l%=e,{start:o,end:l}}function _2(n,e,t,r){const o=n.length,l=[];let d=e,u=n[e],h;for(h=e+1;h<=t;++h){const m=n[h%o];m.skip||m.stop?u.skip||(r=!1,l.push({start:e%o,end:(h-1)%o,loop:r}),e=d=m.stop?h:null):(d=h,u.skip&&(e=h)),u=m}return d!==null&&l.push({start:e%o,end:d%o,loop:r}),l}function S2(n,e){const t=n.points,r=n.options.spanGaps,o=t.length;if(!o)return[];const l=!!n._loop,{start:d,end:u}=N2(t,o,l,r);if(r===!0)return Wf(n,[{start:d,end:u,loop:l}],t,e);const h=u<d?u+o:u,m=!!n._fullLoop&&d===0&&u===o-1;return Wf(n,_2(t,d,h,m),t,e)}function Wf(n,e,t,r){return!r||!r.setContext||!t?e:C2(n,e,t,r)}function C2(n,e,t,r){const o=n._chart.getContext(),l=Vf(n.options),{_datasetIndex:d,options:{spanGaps:u}}=n,h=t.length,m=[];let g=l,y=e[0].start,v=y;function b(k,w,j,S){const _=u?-1:1;if(k!==w){for(k+=h;t[k%h].skip;)k-=_;for(;t[w%h].skip;)w+=_;k%h!==w%h&&(m.push({start:k%h,end:w%h,loop:j,style:S}),g=S,y=w%h)}}for(const k of e){y=u?y:k.start;let w=t[y%h],j;for(v=y+1;v<=k.end;v++){const S=t[v%h];j=Vf(r.setContext(ps(o,{type:"segment",p0:w,p1:S,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:d}))),M2(j,g)&&b(y,v-1,k.loop,g),w=S,g=j}y<v-1&&b(y,v-1,k.loop,g)}return m}function Vf(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function M2(n,e){if(!e)return!1;const t=[],r=function(o,l){return nd(l)?(t.includes(l)||t.push(l),t.indexOf(l)):l};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Fo(n,e,t){return n.options.clip?n[t]:e[t]}function P2(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Fo(t,e,"left"),right:Fo(t,e,"right"),top:Fo(r,e,"top"),bottom:Fo(r,e,"bottom")}:e}function Pg(n,e){const t=e._clip;if(t.disabled)return!1;const r=P2(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class L2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){const l=t.listeners[o],d=t.duration;l.forEach(u=>u({chart:e,initial:t.initial,numSteps:d,currentStep:Math.min(r-t.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=mg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const l=r.items;let d=l.length-1,u=!1,h;for(;d>=0;--d)h=l[d],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),u=!0):(l[d]=l[l.length-1],l.pop());u&&(o.draw(),this._notify(o,r,e,"progress")),l.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var un=new L2;const Hf="transparent",E2={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Df(n||Hf),o=r.valid&&Df(e||Hf);return o&&o.valid?o.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class T2{constructor(e,t,r,o){const l=t[r];o=Ro([e.to,o,l,e.from]);const d=Ro([e.from,l,o]);this._active=!0,this._fn=e.fn||E2[e.type||typeof d],this._easing=Jr[e.easing]||Jr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=d,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],l=r-this._start,d=this._duration-l;this._start=r,this._duration=Math.floor(Math.max(d,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Ro([e.to,t,o,e.from]),this._from=Ro([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,o=this._prop,l=this._from,d=this._loop,u=this._to;let h;if(this._active=l!==u&&(d||t<r),!this._active){this._target[o]=u,this._notify(!0);return}if(t<0){this._target[o]=l;return}h=t/r%2,h=d&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(l,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class Lg{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ye(e))return;const t=Object.keys($e.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!ye(l))return;const d={};for(const u of t)d[u]=l[u];(Ve(l.properties)&&l.properties||[o]).forEach(u=>{(u===o||!r.has(u))&&r.set(u,d)})})}_animateOptions(e,t){const r=t.options,o=R2(e,r);if(!o)return[];const l=this._createAnimations(o,r);return r.$shared&&D2(e.options.$animations,r).then(()=>{e.options=r},()=>{}),l}_createAnimations(e,t){const r=this._properties,o=[],l=e.$animations||(e.$animations={}),d=Object.keys(t),u=Date.now();let h;for(h=d.length-1;h>=0;--h){const m=d[h];if(m.charAt(0)==="$")continue;if(m==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[m];let y=l[m];const v=r.get(m);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){e[m]=g;continue}l[m]=y=new T2(v,e,m,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return un.add(this._chart,r),!0}}function D2(n,e){const t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const l=n[r[o]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function R2(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Uf(n,e){const t=n&&n.options||{},r=t.reverse,o=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:r?l:o,end:r?o:l}}function A2(n,e,t){if(t===!1)return!1;const r=Uf(n,t),o=Uf(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function O2(n){let e,t,r,o;return ye(n)?(e=n.top,t=n.right,r=n.bottom,o=n.left):e=t=r=o=n,{top:e,right:t,bottom:r,left:o,disabled:n===!1}}function Eg(n,e){const t=[],r=n._getSortedDatasetMetas(e);let o,l;for(o=0,l=r.length;o<l;++o)t.push(r[o].index);return t}function Gf(n,e,t,r={}){const o=n.keys,l=r.mode==="single";let d,u,h,m;if(e===null)return;let g=!1;for(d=0,u=o.length;d<u;++d){if(h=+o[d],h===t){if(g=!0,r.all)continue;break}m=n.values[h],it(m)&&(l||e===0||Jt(e)===Jt(m))&&(e+=m)}return!g&&!r.all?0:e}function F2(n,e){const{iScale:t,vScale:r}=e,o=t.axis==="x"?"x":"y",l=r.axis==="x"?"x":"y",d=Object.keys(n),u=new Array(d.length);let h,m,g;for(h=0,m=d.length;h<m;++h)g=d[h],u[h]={[o]:g,[l]:n[g]};return u}function vc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function I2(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function z2(n){const{min:e,max:t,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function B2(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Yf(n,e,t,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const l=n[o.index];if(t&&l>0||!t&&l<0)return o.index}return null}function Kf(n,e){const{chart:t,_cachedMeta:r}=n,o=t._stacks||(t._stacks={}),{iScale:l,vScale:d,index:u}=r,h=l.axis,m=d.axis,g=I2(l,d,r),y=e.length;let v;for(let b=0;b<y;++b){const k=e[b],{[h]:w,[m]:j}=k,S=k._stacks||(k._stacks={});v=S[m]=B2(o,g,w),v[u]=j,v._top=Yf(v,d,!0,r.type),v._bottom=Yf(v,d,!1,r.type);const _=v._visualValues||(v._visualValues={});_[u]=j}}function bc(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function $2(n,e){return ps(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function W2(n,e,t){return ps(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Wr(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const o of e){const l=o._stacks;if(!l||l[r]===void 0||l[r][t]===void 0)return;delete l[r][t],l[r]._visualValues!==void 0&&l[r]._visualValues[t]!==void 0&&delete l[r]._visualValues[t]}}}const wc=n=>n==="reset"||n==="none",Xf=(n,e)=>e?n:Object.assign({},n),V2=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Eg(t,!0),values:null};class ca{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(y,v,b,k)=>y==="x"?v:y==="r"?k:b,l=t.xAxisID=ge(r.xAxisID,bc(e,"x")),d=t.yAxisID=ge(r.yAxisID,bc(e,"y")),u=t.rAxisID=ge(r.rAxisID,bc(e,"r")),h=t.indexAxis,m=t.iAxisID=o(h,l,d,u),g=t.vAxisID=o(h,d,l,u);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(d),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(m),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lf(this._data,this),e._stacked&&Wr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(ye(t)){const o=this._cachedMeta;this._data=F2(t,o)}else if(r!==t){if(r){Lf(r,this);const o=this._cachedMeta;Wr(o),o._parsed=[]}t&&Object.isExtensible(t)&&_v(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const l=t._stacked;t._stacked=vc(t.vScale,t),t.stack!==r.stack&&(o=!0,Wr(t),t.stack=r.stack),this._resyncElements(e),(o||l!==t._stacked)&&(Kf(this,t._parsed),t._stacked=vc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:d}=r,u=l.axis;let h=e===0&&t===o.length?!0:r._sorted,m=e>0&&r._parsed[e-1],g,y,v;if(this._parsing===!1)r._parsed=o,r._sorted=!0,v=o;else{Ve(o[e])?v=this.parseArrayData(r,o,e,t):ye(o[e])?v=this.parseObjectData(r,o,e,t):v=this.parsePrimitiveData(r,o,e,t);const b=()=>y[u]===null||m&&y[u]<m[u];for(g=0;g<t;++g)r._parsed[g+e]=y=v[g],h&&(b()&&(h=!1),m=y);r._sorted=h}d&&Kf(this,v)}parsePrimitiveData(e,t,r,o){const{iScale:l,vScale:d}=e,u=l.axis,h=d.axis,m=l.getLabels(),g=l===d,y=new Array(o);let v,b,k;for(v=0,b=o;v<b;++v)k=v+r,y[v]={[u]:g||l.parse(m[k],k),[h]:d.parse(t[k],k)};return y}parseArrayData(e,t,r,o){const{xScale:l,yScale:d}=e,u=new Array(o);let h,m,g,y;for(h=0,m=o;h<m;++h)g=h+r,y=t[g],u[h]={x:l.parse(y[0],g),y:d.parse(y[1],g)};return u}parseObjectData(e,t,r,o){const{xScale:l,yScale:d}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(o);let g,y,v,b;for(g=0,y=o;g<y;++g)v=g+r,b=t[v],m[g]={x:l.parse(ms(b,u),v),y:d.parse(ms(b,h),v)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const o=this.chart,l=this._cachedMeta,d=t[e.axis],u={keys:Eg(o,!0),values:t._stacks[e.axis]._visualValues};return Gf(u,d,l.index,{mode:r})}updateRangeFromParsed(e,t,r,o){const l=r[t.axis];let d=l===null?NaN:l;const u=o&&r._stacks[t.axis];o&&u&&(o.values=u,d=Gf(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,l=r._sorted&&e===r.iScale,d=o.length,u=this._getOtherScale(e),h=V2(t,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=z2(u);let v,b;function k(){b=o[v];const w=b[u.axis];return!it(b[e.axis])||g>w||y<w}for(v=0;v<d&&!(!k()&&(this.updateRangeFromParsed(m,e,b,h),l));++v);if(l){for(v=d-1;v>=0;--v)if(!k()){this.updateRangeFromParsed(m,e,b,h);break}}return m}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,l,d;for(o=0,l=t.length;o<l;++o)d=t[o][e.axis],it(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,o=t.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=O2(ge(this.options.clip,A2(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],l=t.chartArea,d=[],u=this._drawStart||0,h=this._drawCount||o.length-u,m=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,l,u,h),g=u;g<u+h;++g){const y=o[g];y.hidden||(y.active&&m?d.push(y):y.draw(e,l))}for(g=0;g<d.length;++g)d[g].draw(e,l)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];l=d.$context||(d.$context=W2(this.getContext(),e,d)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=$2(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o=t==="active",l=this._cachedDataOpts,d=e+"-"+t,u=l[d],h=this.enableOptionSharing&&ri(r);if(u)return Xf(u,h);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=m.getOptionScopes(this.getDataset(),g),b=Object.keys($e.elements[e]),k=()=>this.getContext(r,o,t),w=m.resolveNamedOptions(v,b,k,y);return w.$shared&&(w.$shared=h,l[d]=Object.freeze(Xf(w,h))),w}_resolveAnimations(e,t,r){const o=this.chart,l=this._cachedDataOpts,d=`animation-${t}`,u=l[d];if(u)return u;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(v,this.getContext(e,r,t))}const m=new Lg(o,h&&h.animations);return h&&h._cacheable&&(l[d]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||wc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,l=this.getSharedOptions(r),d=this.includeOptions(t,l)||l!==o;return this.updateSharedOptions(l,t,r),{sharedOptions:l,includeOptions:d}}updateElement(e,t,r,o){wc(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!wc(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;const l=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const o=r.length,l=t.length,d=Math.min(l,o);d&&this.parse(0,d),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,t,r=!0){const o=this._cachedMeta,l=o.data,d=e+t;let u;const h=m=>{for(m.length+=t,u=m.length-1;u>=d;u--)m[u]=m[u-t]};for(h(l),u=e;u<d;++u)l[u]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,t),r&&this.updateElements(l,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,t);r._stacked&&Wr(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function H2(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let o=0,l=t.length;o<l;o++)r=r.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=fg(r.sort((o,l)=>o-l))}return n._cache.$bar}function U2(n){const e=n.iScale,t=H2(e,n.type);let r=e._length,o,l,d,u;const h=()=>{d===32767||d===-32768||(ri(u)&&(r=Math.min(r,Math.abs(d-u)||r)),u=d)};for(o=0,l=t.length;o<l;++o)d=e.getPixelForValue(t[o]),h();for(u=void 0,o=0,l=e.ticks.length;o<l;++o)d=e.getPixelForTick(o),h();return r}function G2(n,e,t,r){const o=t.barThickness;let l,d;return je(o)?(l=e.min*t.categoryPercentage,d=t.barPercentage):(l=o*r,d=1),{chunk:l/r,ratio:d,start:e.pixels[n]-l/2}}function Y2(n,e,t,r){const o=e.pixels,l=o[n];let d=n>0?o[n-1]:null,u=n<o.length-1?o[n+1]:null;const h=t.categoryPercentage;d===null&&(d=l-(u===null?e.end-e.start:u-l)),u===null&&(u=l+l-d);const m=l-(l-Math.min(d,u))/2*h;return{chunk:Math.abs(u-d)/2*h/r,ratio:t.barPercentage,start:m}}function K2(n,e,t,r){const o=t.parse(n[0],r),l=t.parse(n[1],r),d=Math.min(o,l),u=Math.max(o,l);let h=d,m=u;Math.abs(d)>Math.abs(u)&&(h=u,m=d),e[t.axis]=m,e._custom={barStart:h,barEnd:m,start:o,end:l,min:d,max:u}}function Tg(n,e,t,r){return Ve(n)?K2(n,e,t,r):e[t.axis]=t.parse(n,r),e}function Qf(n,e,t,r){const o=n.iScale,l=n.vScale,d=o.getLabels(),u=o===l,h=[];let m,g,y,v;for(m=t,g=t+r;m<g;++m)v=e[m],y={},y[o.axis]=u||o.parse(d[m],m),h.push(Tg(v,y,l,m));return h}function jc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function X2(n,e,t){return n!==0?Jt(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Q2(n){let e,t,r,o,l;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(o="end",l="start"):(o="start",l="end"),{start:t,end:r,reverse:e,top:o,bottom:l}}function q2(n,e,t,r){let o=e.borderSkipped;const l={};if(!o){n.borderSkipped=l;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:u,reverse:h,top:m,bottom:g}=Q2(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?o=m:(t._bottom||0)===r?o=g:(l[qf(g,d,u,h)]=!0,o=m)),l[qf(o,d,u,h)]=!0,n.borderSkipped=l}function qf(n,e,t,r){return r?(n=J2(n,e,t),n=Jf(n,t,e)):n=Jf(n,e,t),n}function J2(n,e,t){return n===e?t:n===t?e:n}function Jf(n,e,t){return n==="start"?e:n==="end"?t:n}function Z2(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class eb extends ca{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,o){return Qf(e,t,r,o)}parseArrayData(e,t,r,o){return Qf(e,t,r,o)}parseObjectData(e,t,r,o){const{iScale:l,vScale:d}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=l.axis==="x"?u:h,g=d.axis==="x"?u:h,y=[];let v,b,k,w;for(v=r,b=r+o;v<b;++v)w=t[v],k={},k[l.axis]=l.parse(ms(w,m),v),y.push(Tg(ms(w,g),k,d,v));return y}updateRangeFromParsed(e,t,r,o){super.updateRangeFromParsed(e,t,r,o);const l=r._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:o}=t,l=this.getParsed(e),d=l._custom,u=jc(d)?"["+d.start+", "+d.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,o){const l=o==="reset",{index:d,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,o);for(let b=t;b<t+r;b++){const k=this.getParsed(b),w=l||je(k[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),j=this._calculateBarIndexPixels(b,g),S=(k._stacks||{})[u.axis],_={horizontal:m,base:w.base,enableBorderRadius:!S||jc(k._custom)||d===S._top||d===S._bottom,x:m?w.head:j.center,y:m?j.center:w.head,height:m?j.size:Math.abs(w.size),width:m?Math.abs(w.size):j.size};v&&(_.options=y||this.resolveDataElementOptions(b,e[b].active?"active":o));const T=_.options||e[b].options;q2(_,T,S,d),Z2(_,T,g.ratio),this.updateElement(e[b],b,_,o)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),l=r.options.stacked,d=[],u=this._cachedMeta.controller.getParsed(t),h=u&&u[r.axis],m=g=>{const y=g._parsed.find(b=>b[r.axis]===h),v=y&&y[g.vScale.axis];if(je(v)||isNaN(v))return!0};for(const g of o)if(!(t!==void 0&&m(g))&&((l===!1||d.indexOf(g.stack)===-1||l===void 0&&g.stack===void 0)&&d.push(g.stack),g.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[ge(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const o=this._getStacks(e,r),l=t!==void 0?o.indexOf(t):-1;return l===-1?o.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,o=[];let l,d;for(l=0,d=t.data.length;l<d;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));const u=e.barThickness;return{min:u||U2(t),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:o},options:{base:l,minBarLength:d}}=this,u=l||0,h=this.getParsed(e),m=h._custom,g=jc(m);let y=h[t.axis],v=0,b=r?this.applyStack(t,h,r):y,k,w;b!==y&&(v=b-y,b=y),g&&(y=m.barStart,b=m.barEnd-m.barStart,y!==0&&Jt(y)!==Jt(m.barEnd)&&(v=0),v+=y);const j=!je(l)&&!g?l:v;let S=t.getPixelForValue(j);if(this.chart.getDataVisibility(e)?k=t.getPixelForValue(v+b):k=S,w=k-S,Math.abs(w)<d){w=X2(w,t,u)*d,y===u&&(S-=w/2);const _=t.getPixelForDecimal(0),T=t.getPixelForDecimal(1),E=Math.min(_,T),P=Math.max(_,T);S=Math.max(Math.min(S,P),E),k=S+w,r&&!g&&(h._stacks[t.axis]._visualValues[o]=t.getValueForPixel(k)-t.getValueForPixel(S))}if(S===t.getPixelForValue(u)){const _=Jt(w)*t.getLineWidthForValue(u)/2;S+=_,w-=_}return{size:w,base:S,head:k,center:k+w/2}}_calculateBarIndexPixels(e,t){const r=t.scale,o=this.options,l=o.skipNull,d=ge(o.maxBarThickness,1/0);let u,h;const m=this._getAxisCount();if(t.grouped){const g=l?this._getStackCount(e):t.stackCount,y=o.barThickness==="flex"?Y2(e,t,o,g*m):G2(e,t,o,g*m),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(ge(v,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+b;u=y.start+y.chunk*k+y.chunk/2,h=Math.min(d,y.chunk*y.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(d,t.min*t.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,o=r.length;let l=0;for(;l<o;++l)this.getParsed(l)[t.axis]!==null&&!r[l].hidden&&r[l].draw(this._ctx)}}function tb(n,e,t){let r=1,o=1,l=0,d=0;if(e<Fe){const u=n,h=u+e,m=Math.cos(u),g=Math.sin(u),y=Math.cos(h),v=Math.sin(h),b=(T,E,P)=>oi(T,u,h,!0)?1:Math.max(E,E*t,P,P*t),k=(T,E,P)=>oi(T,u,h,!0)?-1:Math.min(E,E*t,P,P*t),w=b(0,m,y),j=b(Ge,g,v),S=k(Se,m,y),_=k(Se+Ge,g,v);r=(w-S)/2,o=(j-_)/2,l=-(w+S)/2,d=-(j+_)/2}return{ratioX:r,ratioY:o,offsetX:l,offsetY:d}}class Dg extends ca{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return t.labels.map((l,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let l=h=>+r[h];if(ye(r[e])){const{key:h="value"}=this._parsing;l=m=>+ms(r[m],h)}let d,u;for(d=e,u=e+t;d<u;++d)o._parsed[d]=l(d)}}_getRotation(){return mn(this.options.rotation-90)}_getCircumference(){return mn(this.options.circumference)}_getRotationExtents(){let e=Fe,t=-Fe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,l=o._getRotation(),d=o._getCircumference();e=Math.min(e,l),t=Math.max(t,l+d)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,o=this._cachedMeta,l=o.data,d=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-d)/2,0),h=Math.min(lv(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:k,offsetY:w}=tb(y,g,h),j=(r.width-d)/v,S=(r.height-d)/b,_=Math.max(Math.min(j,S)/2,0),T=lg(this.options.radius,_),E=Math.max(T*h,0),P=(T-E)/this._getVisibleDatasetWeightTotal();this.offsetX=k*T,this.offsetY=w*T,o.total=this.calculateTotal(),this.outerRadius=T-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*m,0),this.updateElements(l,0,l.length,e)}_circumference(e,t){const r=this.options,o=this._cachedMeta,l=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/Fe)}updateElements(e,t,r,o){const l=o==="reset",d=this.chart,u=d.chartArea,m=d.options.animation,g=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=l&&m.animateScale,b=v?0:this.innerRadius,k=v?0:this.outerRadius,{sharedOptions:w,includeOptions:j}=this._getSharedOptions(t,o);let S=this._getRotation(),_;for(_=0;_<t;++_)S+=this._circumference(_,l);for(_=t;_<t+r;++_){const T=this._circumference(_,l),E=e[_],P={x:g+this.offsetX,y:y+this.offsetY,startAngle:S,endAngle:S+T,circumference:T,outerRadius:k,innerRadius:b};j&&(P.options=w||this.resolveDataElementOptions(_,E.active?"active":o)),S+=T,this.updateElement(E,_,P,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,o;for(o=0;o<t.length;o++){const l=e._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Fe*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,o=r.data.labels||[],l=sd(t._parsed[e],r.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let t=0;const r=this.chart;let o,l,d,u,h;if(!e){for(o=0,l=r.data.datasets.length;o<l;++o)if(r.isDatasetVisible(o)){d=r.getDatasetMeta(o),e=d.data,u=d.controller;break}}if(!e)return 0;for(o=0,l=e.length;o<l;++o)h=u.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,o=e.length;r<o;++r){const l=this.resolveDataElementOptions(r);t=Math.max(t,l.offset||0,l.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nb extends ca{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=t,d=this.chart._animationsDisabled;let{start:u,count:h}=Mv(t,o,d);this._drawStart=u,this._drawCount=h,Pv(t)&&(u=0,h=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:m},e),this.updateElements(o,u,h,e)}updateElements(e,t,r,o){const l=o==="reset",{iScale:d,vScale:u,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,o),v=d.axis,b=u.axis,{spanGaps:k,segment:w}=this.options,j=ii(k)?k:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||l||o==="none",_=t+r,T=e.length;let E=t>0&&this.getParsed(t-1);for(let P=0;P<T;++P){const A=e[P],z=S?A:{};if(P<t||P>=_){z.skip=!0;continue}const $=this.getParsed(P),Y=je($[b]),Z=z[v]=d.getPixelForValue($[v],P),re=z[b]=l||Y?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,$,h):$[b],P);z.skip=isNaN(Z)||isNaN(re)||Y,z.stop=P>0&&Math.abs($[v]-E[v])>j,w&&(z.parsed=$,z.raw=m.data[P]),y&&(z.options=g||this.resolveDataElementOptions(P,A.active?"active":o)),S||this.updateElement(A,P,z,o),E=$}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const l=o[0].size(this.resolveDataElementOptions(0)),d=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class sb extends Dg{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function as(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dd{static override(e){Object.assign(dd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return as()}parse(){return as()}format(){return as()}add(){return as()}diff(){return as()}startOf(){return as()}endOf(){return as()}}var rb={_date:dd};function ib(n,e,t,r){const{controller:o,data:l,_sorted:d}=n,u=o._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&d&&l.length){const m=u._reversePixels?kv:hs;if(r){if(o._sharedOptions){const g=l[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=m(l,e,t-y),b=m(l,e,t+y);return{lo:v.lo,hi:b.hi}}}}else{const g=m(l,e,t);if(h){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,b=v.slice(0,g.lo+1).reverse().findIndex(w=>!je(w[y.axis]));g.lo-=Math.max(0,b);const k=v.slice(g.hi).findIndex(w=>!je(w[y.axis]));g.hi+=Math.max(0,k)}return g}}return{lo:0,hi:l.length-1}}function da(n,e,t,r,o){const l=n.getSortedVisibleDatasetMetas(),d=t[e];for(let u=0,h=l.length;u<h;++u){const{index:m,data:g}=l[u],{lo:y,hi:v}=ib(l[u],e,d,o);for(let b=y;b<=v;++b){const k=g[b];k.skip||r(k,m,b)}}}function ob(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,o){const l=e?Math.abs(r.x-o.x):0,d=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(d,2))}}function kc(n,e,t,r,o){const l=[];return!o&&!n.isPointInArea(e)||da(n,t,e,function(u,h,m){!o&&!ai(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&l.push({element:u,datasetIndex:h,index:m})},!0),l}function ab(n,e,t,r){let o=[];function l(d,u,h){const{startAngle:m,endAngle:g}=d.getProps(["startAngle","endAngle"],r),{angle:y}=ug(d,{x:e.x,y:e.y});oi(y,m,g)&&o.push({element:d,datasetIndex:u,index:h})}return da(n,t,e,l),o}function lb(n,e,t,r,o,l){let d=[];const u=ob(t);let h=Number.POSITIVE_INFINITY;function m(g,y,v){const b=g.inRange(e.x,e.y,o);if(r&&!b)return;const k=g.getCenterPoint(o);if(!(!!l||n.isPointInArea(k))&&!b)return;const j=u(e,k);j<h?(d=[{element:g,datasetIndex:y,index:v}],h=j):j===h&&d.push({element:g,datasetIndex:y,index:v})}return da(n,t,e,m),d}function Nc(n,e,t,r,o,l){return!l&&!n.isPointInArea(e)?[]:t==="r"&&!r?ab(n,e,t,o):lb(n,e,t,r,o,l)}function Zf(n,e,t,r,o){const l=[],d=t==="x"?"inXRange":"inYRange";let u=!1;return da(n,t,e,(h,m,g)=>{h[d]&&h[d](e[t],o)&&(l.push({element:h,datasetIndex:m,index:g}),u=u||h.inRange(e.x,e.y,o))}),r&&!u?[]:l}var cb={modes:{index(n,e,t,r){const o=ds(e,n),l=t.axis||"x",d=t.includeInvisible||!1,u=t.intersect?kc(n,o,l,r,d):Nc(n,o,l,!1,r,d),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,y=m.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:m.index,index:g})}),h):[]},dataset(n,e,t,r){const o=ds(e,n),l=t.axis||"xy",d=t.includeInvisible||!1;let u=t.intersect?kc(n,o,l,r,d):Nc(n,o,l,!1,r,d);if(u.length>0){const h=u[0].datasetIndex,m=n.getDatasetMeta(h).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:h,index:g})}return u},point(n,e,t,r){const o=ds(e,n),l=t.axis||"xy",d=t.includeInvisible||!1;return kc(n,o,l,r,d)},nearest(n,e,t,r){const o=ds(e,n),l=t.axis||"xy",d=t.includeInvisible||!1;return Nc(n,o,l,t.intersect,r,d)},x(n,e,t,r){const o=ds(e,n);return Zf(n,o,"x",t.intersect,r)},y(n,e,t,r){const o=ds(e,n);return Zf(n,o,"y",t.intersect,r)}}};const Rg=["left","top","right","bottom"];function Vr(n,e){return n.filter(t=>t.pos===e)}function em(n,e){return n.filter(t=>Rg.indexOf(t.pos)===-1&&t.box.axis===e)}function Hr(n,e){return n.sort((t,r)=>{const o=e?r:t,l=e?t:r;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function db(n){const e=[];let t,r,o,l,d,u;for(t=0,r=(n||[]).length;t<r;++t)o=n[t],{position:l,options:{stack:d,stackWeight:u=1}}=o,e.push({index:t,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:d&&l+d,stackWeight:u});return e}function ub(n){const e={};for(const t of n){const{stack:r,pos:o,stackWeight:l}=t;if(!r||!Rg.includes(o))continue;const d=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=l}return e}function hb(n,e){const t=ub(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let l,d,u;for(l=0,d=n.length;l<d;++l){u=n[l];const{fullSize:h}=u.box,m=t[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*r:h&&e.availableWidth,u.height=o):(u.width=r,u.height=g?g*o:h&&e.availableHeight)}return t}function fb(n){const e=db(n),t=Hr(e.filter(m=>m.box.fullSize),!0),r=Hr(Vr(e,"left"),!0),o=Hr(Vr(e,"right")),l=Hr(Vr(e,"top"),!0),d=Hr(Vr(e,"bottom")),u=em(e,"x"),h=em(e,"y");return{fullSize:t,leftAndTop:r.concat(l),rightAndBottom:o.concat(h).concat(d).concat(u),chartArea:Vr(e,"chartArea"),vertical:r.concat(o).concat(h),horizontal:l.concat(d).concat(u)}}function tm(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Ag(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function mb(n,e,t,r){const{pos:o,box:l}=t,d=n.maxPadding;if(!ye(o)){t.size&&(n[o]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?l.height:l.width),t.size=y.size/y.count,n[o]+=t.size}l.getPadding&&Ag(d,l.getPadding());const u=Math.max(0,e.outerWidth-tm(d,n,"left","right")),h=Math.max(0,e.outerHeight-tm(d,n,"top","bottom")),m=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:m,other:g}:{same:g,other:m}}function gb(n){const e=n.maxPadding;function t(r){const o=Math.max(e[r]-n[r],0);return n[r]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function pb(n,e){const t=e.maxPadding;function r(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(d=>{l[d]=Math.max(e[d],t[d])}),l}return r(n?["left","right"]:["top","bottom"])}function Kr(n,e,t,r){const o=[];let l,d,u,h,m,g;for(l=0,d=n.length,m=0;l<d;++l){u=n[l],h=u.box,h.update(u.width||e.w,u.height||e.h,pb(u.horizontal,e));const{same:y,other:v}=mb(e,t,u,r);m|=y&&o.length,g=g||v,h.fullSize||o.push(u)}return m&&Kr(o,e,t,r)||g}function Io(n,e,t,r,o){n.top=t,n.left=e,n.right=e+r,n.bottom=t+o,n.width=r,n.height=o}function nm(n,e,t,r){const o=t.padding;let{x:l,y:d}=e;for(const u of n){const h=u.box,m=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const y=e.w*g,v=m.size||h.height;ri(m.start)&&(d=m.start),h.fullSize?Io(h,o.left,d,t.outerWidth-o.right-o.left,v):Io(h,e.left+m.placed,d,y,v),m.start=d,m.placed+=y,d=h.bottom}else{const y=e.h*g,v=m.size||h.width;ri(m.start)&&(l=m.start),h.fullSize?Io(h,l,o.top,v,t.outerHeight-o.bottom-o.top):Io(h,l,e.top+m.placed,v,y),m.start=l,m.placed+=y,l=h.right}}e.x=l,e.y=d}var Et={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const o=Dt(n.options.layout.padding),l=Math.max(e-o.width,0),d=Math.max(t-o.height,0),u=fb(n.boxes),h=u.vertical,m=u.horizontal;_e(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const g=h.reduce((w,j)=>j.box.options&&j.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:l,availableHeight:d,vBoxMaxWidth:l/2/g,hBoxMaxHeight:d/2}),v=Object.assign({},o);Ag(v,Dt(r));const b=Object.assign({maxPadding:v,w:l,h:d,x:o.left,y:o.top},o),k=hb(h.concat(m),y);Kr(u.fullSize,b,y,k),Kr(h,b,y,k),Kr(m,b,y,k)&&Kr(h,b,y,k),gb(b),nm(u.leftAndTop,b,y,k),b.x+=b.w,b.y+=b.h,nm(u.rightAndBottom,b,y,k),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},_e(u.chartArea,w=>{const j=w.box;Object.assign(j,n.chartArea),j.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Og{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}}class xb extends Og{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Go="$chartjs",yb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sm=n=>n===null||n==="";function vb(n,e){const t=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[Go]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sm(o)){const l=Bf(n,"width");l!==void 0&&(n.width=l)}if(sm(r))if(n.style.height==="")n.height=n.width/(e||2);else{const l=Bf(n,"height");l!==void 0&&(n.height=l)}return n}const Fg=y2?{passive:!0}:!1;function bb(n,e,t){n&&n.addEventListener(e,t,Fg)}function wb(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Fg)}function jb(n,e){const t=yb[n.type]||n.type,{x:r,y:o}=ds(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function ea(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function kb(n,e,t){const r=n.canvas,o=new MutationObserver(l=>{let d=!1;for(const u of l)d=d||ea(u.addedNodes,r),d=d&&!ea(u.removedNodes,r);d&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function Nb(n,e,t){const r=n.canvas,o=new MutationObserver(l=>{let d=!1;for(const u of l)d=d||ea(u.removedNodes,r),d=d&&!ea(u.addedNodes,r);d&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const ci=new Map;let rm=0;function Ig(){const n=window.devicePixelRatio;n!==rm&&(rm=n,ci.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function _b(n,e){ci.size||window.addEventListener("resize",Ig),ci.set(n,e)}function Sb(n){ci.delete(n),ci.size||window.removeEventListener("resize",Ig)}function Cb(n,e,t){const r=n.canvas,o=r&&cd(r);if(!o)return;const l=gg((u,h)=>{const m=o.clientWidth;t(u,h),m<o.clientWidth&&t()},window),d=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,g=h.contentRect.height;m===0&&g===0||l(m,g)});return d.observe(o),_b(n,l),d}function _c(n,e,t){t&&t.disconnect(),e==="resize"&&Sb(n)}function Mb(n,e,t){const r=n.canvas,o=gg(l=>{n.ctx!==null&&t(jb(l,n))},n);return bb(r,e,o),o}class Pb extends Og{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(vb(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Go])return!1;const r=t[Go].initial;["height","width"].forEach(l=>{const d=r[l];je(d)?t.removeAttribute(l):t.setAttribute(l,d)});const o=r.style||{};return Object.keys(o).forEach(l=>{t.style[l]=o[l]}),t.width=t.width,delete t[Go],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),d={attach:kb,detach:Nb,resize:Cb}[t]||Mb;o[t]=d(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:_c,detach:_c,resize:_c}[t]||wb)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return x2(e,t,r,o)}isAttached(e){const t=e&&cd(e);return!!(t&&t.isConnected)}}function Lb(n){return!ld()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?xb:Pb}class vn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ii(this.x)&&ii(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const o={};return e.forEach(l=>{o[l]=r[l]&&r[l].active()?r[l]._to:this[l]}),o}}function Eb(n,e){const t=n.options.ticks,r=Tb(n),o=Math.min(t.maxTicksLimit||r,r),l=t.major.enabled?Rb(e):[],d=l.length,u=l[0],h=l[d-1],m=[];if(d>o)return Ab(e,m,l,d/o),m;const g=Db(l,e,o);if(d>0){let y,v;const b=d>1?Math.round((h-u)/(d-1)):null;for(zo(e,m,g,je(b)?0:u-b,u),y=0,v=d-1;y<v;y++)zo(e,m,g,l[y],l[y+1]);return zo(e,m,g,h,je(b)?e.length:h+b),m}return zo(e,m,g),m}function Tb(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(r,o))}function Db(n,e,t){const r=Ob(n),o=e.length/t;if(!r)return Math.max(o,1);const l=pv(r);for(let d=0,u=l.length-1;d<u;d++){const h=l[d];if(h>o)return h}return Math.max(o,1)}function Rb(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Ab(n,e,t,r){let o=0,l=t[0],d;for(r=Math.ceil(r),d=0;d<n.length;d++)d===l&&(e.push(n[d]),o++,l=t[o*r])}function zo(n,e,t,r,o){const l=ge(r,0),d=Math.min(ge(o,n.length),n.length);let u=0,h,m,g;for(t=Math.ceil(t),o&&(h=o-r,t=h/Math.floor(h/t)),g=l;g<0;)u++,g=Math.round(l+u*t);for(m=Math.max(l,0);m<d;m++)m===g&&(e.push(n[m]),u++,g=Math.round(l+u*t))}function Ob(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const Fb=n=>n==="left"?"right":n==="right"?"left":n,im=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,om=(n,e)=>Math.min(e||n,n);function am(n,e){const t=[],r=n.length/e,o=n.length;let l=0;for(;l<o;l+=r)t.push(n[Math.floor(l)]);return t}function Ib(n,e,t){const r=n.ticks.length,o=Math.min(e,r-1),l=n._startPixel,d=n._endPixel,u=1e-6;let h=n.getPixelForTick(o),m;if(!(t&&(r===1?m=Math.max(h-l,d-h):e===0?m=(n.getPixelForTick(1)-h)/2:m=(h-n.getPixelForTick(o-1))/2,h+=o<e?m:-m,h<l-u||h>d+u)))return h}function zb(n,e){_e(n,t=>{const r=t.gc,o=r.length/2;let l;if(o>e){for(l=0;l<o;++l)delete t.data[r[l]];r.splice(0,o)}})}function Ur(n){return n.drawTicks?n.tickLength:0}function lm(n,e){if(!n.display)return 0;const t=rt(n.font,e),r=Dt(n.padding);return(Ve(n.text)?n.text.length:1)*t.lineHeight+r.height}function Bb(n,e){return ps(n,{scale:e,type:"scale"})}function $b(n,e,t){return ps(n,{tick:t,index:e,type:"tick"})}function Wb(n,e,t){let r=td(n);return(t&&e!=="right"||!t&&e==="right")&&(r=Fb(r)),r}function Vb(n,e,t,r){const{top:o,left:l,bottom:d,right:u,chart:h}=n,{chartArea:m,scales:g}=h;let y=0,v,b,k;const w=d-o,j=u-l;if(n.isHorizontal()){if(b=nt(r,l,u),ye(t)){const S=Object.keys(t)[0],_=t[S];k=g[S].getPixelForValue(_)+w-e}else t==="center"?k=(m.bottom+m.top)/2+w-e:k=im(n,t,e);v=u-l}else{if(ye(t)){const S=Object.keys(t)[0],_=t[S];b=g[S].getPixelForValue(_)-j+e}else t==="center"?b=(m.left+m.right)/2-j+e:b=im(n,t,e);k=nt(r,d,o),y=t==="left"?-Ge:Ge}return{titleX:b,titleY:k,maxWidth:v,rotation:y}}class Js extends vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=Kt(e,Number.POSITIVE_INFINITY),t=Kt(t,Number.NEGATIVE_INFINITY),r=Kt(r,Number.POSITIVE_INFINITY),o=Kt(o,Number.NEGATIVE_INFINITY),{min:Kt(e,r),max:Kt(t,o),minDefined:it(e),maxDefined:it(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:l}=this.getUserBounds(),d;if(o&&l)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)d=u[h].controller.getMinMax(this,e),o||(t=Math.min(t,d.min)),l||(r=Math.max(r,d.max));return t=l&&t>r?r:t,r=o&&t>r?t:r,{min:Kt(t,Kt(r,t)),max:Kt(r,Kt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ee(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:l,ticks:d}=this.options,u=d.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xv(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?am(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=Eb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ee(this.options.afterUpdate,[this])}beforeSetDimensions(){Ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,l;for(r=0,o=e.length;r<o;r++)l=e[r],l.label=Ee(t.callback,[l.value,r,e],this)}afterTickToLabelConversion(){Ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=om(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,l=t.maxRotation;let d=o,u,h,m;if(!this._isVisible()||!t.display||o>=l||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,b=st(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/r:b/(r-1),y+6>u&&(u=b/(r-(e.offset?.5:1)),h=this.maxHeight-Ur(e.grid)-t.padding-lm(e.title,this.chart.options.font),m=Math.sqrt(y*y+v*v),d=bv(Math.min(Math.asin(st((g.highest.height+6)/u,-1,1)),Math.asin(st(h/m,-1,1))-Math.asin(st(v/m,-1,1)))),d=Math.max(o,Math.min(l,d))),this.labelRotation=d}afterCalculateLabelRotation(){Ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:l}}=this,d=this._isVisible(),u=this.isHorizontal();if(d){const h=lm(o,t.options.font);if(u?(e.width=this.maxWidth,e.height=Ur(l)+h):(e.height=this.maxHeight,e.width=Ur(l)+h),r.display&&this.ticks.length){const{first:m,last:g,widest:y,highest:v}=this._getLabelSizes(),b=r.padding*2,k=mn(this.labelRotation),w=Math.cos(k),j=Math.sin(k);if(u){const S=r.mirror?0:j*y.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+S+b)}else{const S=r.mirror?0:w*y.width+j*v.height;e.width=Math.min(this.maxWidth,e.width+S+b)}this._calculatePadding(m,g,j,w)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){const{ticks:{align:l,padding:d},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;h?m?(v=o*e.width,b=r*t.height):(v=r*e.height,b=o*t.width):l==="start"?b=t.width:l==="end"?v=e.width:l!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-g+d)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-y+d)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;l==="start"?(g=0,y=e.height):l==="end"&&(g=t.height,y=0),this.paddingTop=g+d,this.paddingBottom=y+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)je(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=am(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:o,_longestTextCache:l}=this,d=[],u=[],h=Math.floor(t/om(t,r));let m=0,g=0,y,v,b,k,w,j,S,_,T,E,P;for(y=0;y<t;y+=h){if(k=e[y].label,w=this._resolveTickFontOptions(y),o.font=j=w.string,S=l[j]=l[j]||{data:{},gc:[]},_=w.lineHeight,T=E=0,!je(k)&&!Ve(k))T=Af(o,S.data,S.gc,T,k),E=_;else if(Ve(k))for(v=0,b=k.length;v<b;++v)P=k[v],!je(P)&&!Ve(P)&&(T=Af(o,S.data,S.gc,T,P),E+=_);d.push(T),u.push(E),m=Math.max(T,m),g=Math.max(E,g)}zb(l,t);const A=d.indexOf(m),z=u.indexOf(g),$=Y=>({width:d[Y]||0,height:u[Y]||0});return{first:$(0),last:$(t-1),widest:$(A),highest:$(z),widths:d,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return jv(this._alignToPixels?os(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=$b(this.getContext(),e,r))}return this.$context||(this.$context=Bb(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mn(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),l=this._getLabelSizes(),d=e.autoSkipPadding||0,u=l?l.widest.width+d:0,h=l?l.highest.height+d:0;return this.isHorizontal()?h*r>u*o?u/r:h/o:h*o<u*r?h/r:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:l,position:d,border:u}=o,h=l.offset,m=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=Ur(l),b=[],k=u.setContext(this.getContext()),w=k.display?k.width:0,j=w/2,S=function(ie){return os(r,ie,w)};let _,T,E,P,A,z,$,Y,Z,re,le,se;if(d==="top")_=S(this.bottom),z=this.bottom-v,Y=_-j,re=S(e.top)+j,se=e.bottom;else if(d==="bottom")_=S(this.top),re=e.top,se=S(e.bottom)-j,z=_+j,Y=this.top+v;else if(d==="left")_=S(this.right),A=this.right-v,$=_-j,Z=S(e.left)+j,le=e.right;else if(d==="right")_=S(this.left),Z=e.left,le=S(e.right)-j,A=_+j,$=this.left+v;else if(t==="x"){if(d==="center")_=S((e.top+e.bottom)/2+.5);else if(ye(d)){const ie=Object.keys(d)[0],de=d[ie];_=S(this.chart.scales[ie].getPixelForValue(de))}re=e.top,se=e.bottom,z=_+j,Y=z+v}else if(t==="y"){if(d==="center")_=S((e.left+e.right)/2);else if(ye(d)){const ie=Object.keys(d)[0],de=d[ie];_=S(this.chart.scales[ie].getPixelForValue(de))}A=_-j,$=A-v,Z=e.left,le=e.right}const fe=ge(o.ticks.maxTicksLimit,y),ee=Math.max(1,Math.ceil(y/fe));for(T=0;T<y;T+=ee){const ie=this.getContext(T),de=l.setContext(ie),G=u.setContext(ie),Q=de.lineWidth,K=de.color,R=G.dash||[],B=G.dashOffset,ue=de.tickWidth,he=de.tickColor,pe=de.tickBorderDash||[],me=de.tickBorderDashOffset;E=Ib(this,T,h),E!==void 0&&(P=os(r,E,Q),m?A=$=Z=le=P:z=Y=re=se=P,b.push({tx1:A,ty1:z,tx2:$,ty2:Y,x1:Z,y1:re,x2:le,y2:se,width:Q,color:K,borderDash:R,borderDashOffset:B,tickWidth:ue,tickColor:he,tickBorderDash:pe,tickBorderDashOffset:me}))}return this._ticksLength=y,this._borderValue=_,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:l}=r,d=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:g,mirror:y}=l,v=Ur(r.grid),b=v+g,k=y?-g:b,w=-mn(this.labelRotation),j=[];let S,_,T,E,P,A,z,$,Y,Z,re,le,se="middle";if(o==="top")A=this.bottom-k,z=this._getXAxisLabelAlignment();else if(o==="bottom")A=this.top+k,z=this._getXAxisLabelAlignment();else if(o==="left"){const ee=this._getYAxisLabelAlignment(v);z=ee.textAlign,P=ee.x}else if(o==="right"){const ee=this._getYAxisLabelAlignment(v);z=ee.textAlign,P=ee.x}else if(t==="x"){if(o==="center")A=(e.top+e.bottom)/2+b;else if(ye(o)){const ee=Object.keys(o)[0],ie=o[ee];A=this.chart.scales[ee].getPixelForValue(ie)+b}z=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")P=(e.left+e.right)/2-b;else if(ye(o)){const ee=Object.keys(o)[0],ie=o[ee];P=this.chart.scales[ee].getPixelForValue(ie)}z=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?se="top":h==="end"&&(se="bottom"));const fe=this._getLabelSizes();for(S=0,_=u.length;S<_;++S){T=u[S],E=T.label;const ee=l.setContext(this.getContext(S));$=this.getPixelForTick(S)+l.labelOffset,Y=this._resolveTickFontOptions(S),Z=Y.lineHeight,re=Ve(E)?E.length:1;const ie=re/2,de=ee.color,G=ee.textStrokeColor,Q=ee.textStrokeWidth;let K=z;d?(P=$,z==="inner"&&(S===_-1?K=this.options.reverse?"left":"right":S===0?K=this.options.reverse?"right":"left":K="center"),o==="top"?m==="near"||w!==0?le=-re*Z+Z/2:m==="center"?le=-fe.highest.height/2-ie*Z+Z:le=-fe.highest.height+Z/2:m==="near"||w!==0?le=Z/2:m==="center"?le=fe.highest.height/2-ie*Z:le=fe.highest.height-re*Z,y&&(le*=-1),w!==0&&!ee.showLabelBackdrop&&(P+=Z/2*Math.sin(w))):(A=$,le=(1-re)*Z/2);let R;if(ee.showLabelBackdrop){const B=Dt(ee.backdropPadding),ue=fe.heights[S],he=fe.widths[S];let pe=le-B.top,me=0-B.left;switch(se){case"middle":pe-=ue/2;break;case"bottom":pe-=ue;break}switch(z){case"center":me-=he/2;break;case"right":me-=he;break;case"inner":S===_-1?me-=he:S>0&&(me-=he/2);break}R={left:me,top:pe,width:he+B.width,height:ue+B.height,color:ee.backdropColor}}j.push({label:E,font:Y,textOffset:le,options:{rotation:w,color:de,strokeColor:G,strokeWidth:Q,textAlign:K,textBaseline:se,translation:[P,A],backdrop:R}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mn(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:o,padding:l}}=this.options,d=this._getLabelSizes(),u=e+l,h=d.widest.width;let m,g;return t==="left"?o?(g=this.right+l,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g+=h)):(g=this.right-u,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g=this.left)):t==="right"?o?(g=this.left+l,r==="near"?m="right":r==="center"?(m="center",g-=h/2):(m="left",g-=h)):(g=this.left+u,r==="near"?m="left":r==="center"?(m="center",g+=h/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:o,width:l,height:d}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,l,d),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(l=>l.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,d;const u=(h,m,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(m.x,m.y),r.stroke(),r.restore())};if(t.display)for(l=0,d=o.length;l<d;++l){const h=o[l];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:o}}=this,l=r.setContext(this.getContext()),d=r.display?l.width:0;if(!d)return;const u=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,g,y,v;this.isHorizontal()?(m=os(e,this.left,d)-d/2,g=os(e,this.right,u)+u/2,y=v=h):(y=os(e,this.top,d)-d/2,v=os(e,this.bottom,u)+u/2,m=g=h),t.save(),t.lineWidth=l.width,t.strokeStyle=l.color,t.beginPath(),t.moveTo(m,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&oa(r,o);const l=this.getLabelItems(e);for(const d of l){const u=d.options,h=d.font,m=d.label,g=d.textOffset;li(r,m,0,g,h,u)}o&&aa(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const l=rt(r.font),d=Dt(r.padding),u=r.align;let h=l.lineHeight/2;t==="bottom"||t==="center"||ye(t)?(h+=d.bottom,Ve(r.text)&&(h+=l.lineHeight*(r.text.length-1))):h+=d.top;const{titleX:m,titleY:g,maxWidth:y,rotation:v}=Vb(this,h,t,u);li(e,r.text,0,0,l,{color:r.color,maxWidth:y,rotation:v,textAlign:Wb(u,t,o),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=ge(e.grid&&e.grid.z,-1),o=ge(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Js.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:r,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let l,d;for(l=0,d=t.length;l<d;++l){const u=t[l];u[r]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return rt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Bo{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Gb(t)&&(r=this.register(t));const o=this.items,l=e.id,d=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in o||(o[l]=e,Hb(e,d,r),this.override&&$e.override(e.id,e.overrides)),d}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in $e[o]&&(delete $e[o][r],this.override&&delete gs[r])}}function Hb(n,e,t){const r=si(Object.create(null),[t?$e.get(t):{},$e.get(e),n.defaults]);$e.set(e,r),n.defaultRoutes&&Ub(e,n.defaultRoutes),n.descriptors&&$e.describe(e,n.descriptors)}function Ub(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),o=r.pop(),l=[n].concat(r).join("."),d=e[t].split("."),u=d.pop(),h=d.join(".");$e.route(l,o,h,u)})}function Gb(n){return"id"in n&&"defaults"in n}class Yb{constructor(){this.controllers=new Bo(ca,"datasets",!0),this.elements=new Bo(vn,"elements"),this.plugins=new Bo(Object,"plugins"),this.scales=new Bo(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{const l=r||this._getRegistryForType(o);r||l.isForType(o)||l===this.plugins&&o.id?this._exec(e,l,o):_e(o,d=>{const u=r||this._getRegistryForType(d);this._exec(e,u,d)})})}_exec(e,t,r){const o=Zc(e);Ee(r["before"+o],[],r),t[e](r),Ee(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var Qt=new Yb;class Kb{constructor(){this._init=[]}notify(e,t,r,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=o?this._descriptors(e).filter(o):this._descriptors(e),d=this._notify(l,e,t,r);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),d}_notify(e,t,r,o){o=o||{};for(const l of e){const d=l.plugin,u=d[r],h=[t,o,l.options];if(Ee(u,h,d)===!1&&o.cancelable)return!1}return!0}invalidate(){je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=ge(r.options&&r.options.plugins,{}),l=Xb(r);return o===!1&&!t?[]:qb(e,l,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,o=(l,d)=>l.filter(u=>!d.some(h=>u.plugin.id===h.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}}function Xb(n){const e={},t=[],r=Object.keys(Qt.plugins.items);for(let l=0;l<r.length;l++)t.push(Qt.getPlugin(r[l]));const o=n.plugins||[];for(let l=0;l<o.length;l++){const d=o[l];t.indexOf(d)===-1&&(t.push(d),e[d.id]=!0)}return{plugins:t,localIds:e}}function Qb(n,e){return!e&&n===!1?null:n===!0?{}:n}function qb(n,{plugins:e,localIds:t},r,o){const l=[],d=n.getContext();for(const u of e){const h=u.id,m=Qb(r[h],o);m!==null&&l.push({plugin:u,options:Jb(n.config,{plugin:u,local:t[h]},m,d)})}return l}function Jb(n,{plugin:e,local:t},r,o){const l=n.pluginScopeKeys(e),d=n.getOptionScopes(r,l);return t&&e.defaults&&d.push(e.defaults),n.createResolver(d,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fc(n,e){const t=$e.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Zb(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function e1(n,e){return n===e?"_index_":"_value_"}function cm(n){if(n==="x"||n==="y"||n==="r")return n}function t1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ic(n,...e){if(cm(n))return n;for(const t of e){const r=t.axis||t1(t.position)||n.length>1&&cm(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dm(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function n1(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return dm(n,"x",t[0])||dm(n,"y",t[0])}return{}}function s1(n,e){const t=gs[n.type]||{scales:{}},r=e.scales||{},o=Fc(n.type,e),l=Object.create(null);return Object.keys(r).forEach(d=>{const u=r[d];if(!ye(u))return console.error(`Invalid scale configuration for scale: ${d}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const h=Ic(d,u,n1(d,n),$e.scales[u.type]),m=e1(h,o),g=t.scales||{};l[d]=Qr(Object.create(null),[{axis:h},u,g[h],g[m]])}),n.data.datasets.forEach(d=>{const u=d.type||n.type,h=d.indexAxis||Fc(u,e),g=(gs[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=Zb(y,h),b=d[v+"AxisID"]||v;l[b]=l[b]||Object.create(null),Qr(l[b],[{axis:v},r[b],g[y]])})}),Object.keys(l).forEach(d=>{const u=l[d];Qr(u,[$e.scales[u.type],$e.scale])}),l}function zg(n){const e=n.options||(n.options={});e.plugins=ge(e.plugins,{}),e.scales=s1(n,e)}function Bg(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function r1(n){return n=n||{},n.data=Bg(n.data),zg(n),n}const um=new Map,$g=new Set;function $o(n,e){let t=um.get(n);return t||(t=e(),um.set(n,t),$g.add(t)),t}const Gr=(n,e,t)=>{const r=ms(e,t);r!==void 0&&n.add(r)};class i1{constructor(e){this._config=r1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $o(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return $o(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return $o(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return $o(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){const{options:o,type:l}=this,d=this._cachedScopes(e,r),u=d.get(t);if(u)return u;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>Gr(h,e,y))),g.forEach(y=>Gr(h,o,y)),g.forEach(y=>Gr(h,gs[l]||{},y)),g.forEach(y=>Gr(h,$e,y)),g.forEach(y=>Gr(h,Ac,y))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),$g.has(t)&&d.set(t,m),m}chartOptionScopes(){const{options:e,type:t}=this;return[e,gs[t]||{},$e.datasets[t]||{},{type:t},$e,Ac]}resolveNamedOptions(e,t,r,o=[""]){const l={$shared:!0},{resolver:d,subPrefixes:u}=hm(this._resolverCache,e,o);let h=d;if(a1(d,t)){l.$shared=!1,r=Hn(r)?r():r;const m=this.createResolver(e,r,u);h=Ys(d,r,m)}for(const m of t)l[m]=h[m];return l}createResolver(e,t,r=[""],o){const{resolver:l}=hm(this._resolverCache,e,r);return ye(t)?Ys(l,t,void 0,o):l}}function hm(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const o=t.join();let l=r.get(o);return l||(l={resolver:id(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(o,l)),l}const o1=n=>ye(n)&&Object.getOwnPropertyNames(n).some(e=>Hn(n[e]));function a1(n,e){const{isScriptable:t,isIndexable:r}=vg(n);for(const o of e){const l=t(o),d=r(o),u=(d||l)&&n[o];if(l&&(Hn(u)||o1(u))||d&&Ve(u))return!0}return!1}var l1="4.5.0";const c1=["top","bottom","left","right","chartArea"];function fm(n,e){return n==="top"||n==="bottom"||c1.indexOf(n)===-1&&e==="x"}function mm(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function gm(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ee(t&&t.onComplete,[n],e)}function d1(n){const e=n.chart,t=e.options.animation;Ee(t&&t.onProgress,[n],e)}function Wg(n){return ld()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Yo={},pm=n=>{const e=Wg(n);return Object.values(Yo).filter(t=>t.canvas===e).pop()};function u1(n,e,t){const r=Object.keys(n);for(const o of r){const l=+o;if(l>=e){const d=n[o];delete n[o],(t>0||l>e)&&(n[l+t]=d)}}}function h1(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let bn=class{static defaults=$e;static instances=Yo;static overrides=gs;static registry=Qt;static version=l1;static getChart=pm;static register(...e){Qt.add(...e),xm()}static unregister(...e){Qt.remove(...e),xm()}constructor(e,t){const r=this.config=new i1(t),o=Wg(e),l=pm(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const d=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Lb(o)),this.platform.updateConfig(r);const u=this.platform.acquireContext(o,d.aspectRatio),h=u&&u.canvas,m=h&&h.height,g=h&&h.width;if(this.id=av(),this.ctx=u,this.canvas=h,this.width=g,this.height=m,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Sv(y=>this.update(y),d.resizeDelay||0),this._dataChanges=[],Yo[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}un.listen(this,"complete",gm),un.listen(this,"progress",d1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:l}=this;return je(e)?t&&l?l:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Qt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Of(this.canvas,this.ctx),this}stop(){return un.stop(this),this}resize(e,t){un.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,l=r.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(o,e,t,l),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,zf(this,u,!0)&&(this.notifyPlugins("resize",{size:d}),Ee(r.onResize,[this,d],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};_e(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((d,u)=>(d[u]=!1,d),{});let l=[];t&&(l=l.concat(Object.keys(t).map(d=>{const u=t[d],h=Ic(d,u),m=h==="r",g=h==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),_e(l,d=>{const u=d.options,h=u.id,m=Ic(h,u),g=ge(u.type,d.dtype);(u.position===void 0||fm(u.position,m)!==fm(d.dposition))&&(u.position=d.dposition),o[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const v=Qt.getScale(g);y=new v({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,e)}),_e(o,(d,u)=>{d||delete r[u]}),_e(r,d=>{Et.configure(this,d,d.options),Et.addBox(this,d)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,l)=>o.index-l.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(mm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(l=>l===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const l=t[r];let d=this.getDatasetMeta(r);const u=l.type||this.config.type;if(d.type&&d.type!==u&&(this._destroyDatasetMeta(r),d=this.getDatasetMeta(r)),d.type=u,d.indexAxis=l.indexAxis||Fc(u,this.options),d.order=l.order||0,d.index=r,d.label=""+l.label,d.visible=this.isDatasetVisible(r),d.controller)d.controller.updateIndex(r),d.controller.linkScales();else{const h=Qt.getController(u),{datasetElementType:m,dataElementType:g}=$e.datasets[u];Object.assign(h,{dataElementType:Qt.getElement(g),datasetElementType:m&&Qt.getElement(m)}),d.controller=new h(this,r),e.push(d.controller)}}return this._updateMetasets(),e}_resetElements(){_e(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:y}=this.getDatasetMeta(m),v=!o&&l.indexOf(y)===-1;y.buildOrUpdateElements(v),d=Math.max(+y.getMaxOverflow(),d)}d=this._minPadding=r.layout.autoPadding?d:0,this._updateLayout(d),o||_e(l,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mm("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){_e(this.scales,e=>{Et.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Sf(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:l}of t){const d=r==="_removeElements"?-l:l;u1(e,o,d)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=l=>new Set(e.filter(d=>d[0]===l).map((d,u)=>u+","+d.splice(1).join(","))),o=r(0);for(let l=1;l<t;l++)if(!Sf(o,r(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Et.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],_e(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Hn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(un.has(this)?this.attached&&!un.running(this)&&un.start(this):(this.draw(),gm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let o,l;for(o=0,l=t.length;o<l;++o){const d=t[o];(!e||d.visible)&&r.push(d)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=Pg(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&oa(t,o),e.controller.draw(),o&&aa(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){const l=cb.modes[t];return typeof l=="function"?l(this,e,r,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let o=r.filter(l=>l&&l._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=ps(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",l=this.getDatasetMeta(e),d=l.controller._resolveAnimations(void 0,o);ri(t)?(l.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),d.update(l,{visible:r}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),un.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Of(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Yo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(l,d)=>{t.addEventListener(this,l,d),e[l]=d},o=(l,d,u)=>{l.offsetX=d,l.offsetY=u,this._eventHandler(l)};_e(this.options.events,l=>r(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,m)=>{t.addEventListener(this,h,m),e[h]=m},o=(h,m)=>{e[h]&&(t.removeEventListener(this,h,m),delete e[h])},l=(h,m)=>{this.canvas&&this.resize(h,m)};let d;const u=()=>{o("attach",u),this.attached=!0,this.resize(),r("resize",l),r("detach",d)};d=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():d()}unbindEvents(){_e(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},_e(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const o=r?"set":"remove";let l,d,u,h;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){d=e[u];const m=d&&this.getDatasetMeta(d.datasetIndex).controller;m&&m[o+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:l,index:d})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[d],index:d}});!Xo(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const o=this.options.hover,l=(h,m)=>h.filter(g=>!m.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),d=l(t,e),u=r?e:l(e,t);d.length&&this.updateHoverStyle(d,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=d=>(d.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const l=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(l||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:l}=this,d=t,u=this._getActiveElements(e,o,r,d),h=fv(e),m=h1(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Ee(l.onHover,[e,u,this],this),h&&Ee(l.onClick,[e,u,this],this));const g=!Xo(u,o);return(g||t)&&(this._active=u,this._updateHoverStyles(u,o,t)),this._lastEvent=m,g}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}};function xm(){return _e(bn.instances,n=>n._plugins.invalidate())}function f1(n,e,t){const{startAngle:r,x:o,y:l,outerRadius:d,innerRadius:u,options:h}=e,{borderWidth:m,borderJoinStyle:g}=h,y=Math.min(m/d,wt(r-t));if(n.beginPath(),n.arc(o,l,d-m/2,r+y/2,t-y/2),u>0){const v=Math.min(m/u,wt(r-t));n.arc(o,l,u+m/2,t-v/2,r+v/2,!0)}else{const v=Math.min(m/2,d*wt(r-t));if(g==="round")n.arc(o,l,v,t-Se/2,r+Se/2,!0);else if(g==="bevel"){const b=2*v*v,k=-b*Math.cos(t+Se/2)+o,w=-b*Math.sin(t+Se/2)+l,j=b*Math.cos(r+Se/2)+o,S=b*Math.sin(r+Se/2)+l;n.lineTo(k,w),n.lineTo(j,S)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function m1(n,e,t){const{startAngle:r,pixelMargin:o,x:l,y:d,outerRadius:u,innerRadius:h}=e;let m=o/u;n.beginPath(),n.arc(l,d,u,r-m,t+m),h>o?(m=o/h,n.arc(l,d,h,t+m,r-m,!0)):n.arc(l,d,o,t+Ge,r-Ge),n.closePath(),n.clip()}function g1(n){return rd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function p1(n,e,t,r){const o=g1(n.options.borderRadius),l=(t-e)/2,d=Math.min(l,r*e/2),u=h=>{const m=(t-Math.min(l,h))*r/2;return st(h,0,Math.min(l,m))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:st(o.innerStart,0,d),innerEnd:st(o.innerEnd,0,d)}}function Hs(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function ta(n,e,t,r,o,l){const{x:d,y:u,startAngle:h,pixelMargin:m,innerRadius:g}=e,y=Math.max(e.outerRadius+r+t-m,0),v=g>0?g+r+t+m:0;let b=0;const k=o-h;if(r){const ee=g>0?g-r:0,ie=y>0?y-r:0,de=(ee+ie)/2,G=de!==0?k*de/(de+r):k;b=(k-G)/2}const w=Math.max(.001,k*y-t/Se)/y,j=(k-w)/2,S=h+j+b,_=o-j-b,{outerStart:T,outerEnd:E,innerStart:P,innerEnd:A}=p1(e,v,y,_-S),z=y-T,$=y-E,Y=S+T/z,Z=_-E/$,re=v+P,le=v+A,se=S+P/re,fe=_-A/le;if(n.beginPath(),l){const ee=(Y+Z)/2;if(n.arc(d,u,y,Y,ee),n.arc(d,u,y,ee,Z),E>0){const Q=Hs($,Z,d,u);n.arc(Q.x,Q.y,E,Z,_+Ge)}const ie=Hs(le,_,d,u);if(n.lineTo(ie.x,ie.y),A>0){const Q=Hs(le,fe,d,u);n.arc(Q.x,Q.y,A,_+Ge,fe+Math.PI)}const de=(_-A/v+(S+P/v))/2;if(n.arc(d,u,v,_-A/v,de,!0),n.arc(d,u,v,de,S+P/v,!0),P>0){const Q=Hs(re,se,d,u);n.arc(Q.x,Q.y,P,se+Math.PI,S-Ge)}const G=Hs(z,S,d,u);if(n.lineTo(G.x,G.y),T>0){const Q=Hs(z,Y,d,u);n.arc(Q.x,Q.y,T,S-Ge,Y)}}else{n.moveTo(d,u);const ee=Math.cos(Y)*y+d,ie=Math.sin(Y)*y+u;n.lineTo(ee,ie);const de=Math.cos(Z)*y+d,G=Math.sin(Z)*y+u;n.lineTo(de,G)}n.closePath()}function x1(n,e,t,r,o){const{fullCircles:l,startAngle:d,circumference:u}=e;let h=e.endAngle;if(l){ta(n,e,t,r,h,o);for(let m=0;m<l;++m)n.fill();isNaN(u)||(h=d+(u%Fe||Fe))}return ta(n,e,t,r,h,o),n.fill(),h}function y1(n,e,t,r,o){const{fullCircles:l,startAngle:d,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:g,borderDash:y,borderDashOffset:v,borderRadius:b}=h,k=h.borderAlign==="inner";if(!m)return;n.setLineDash(y||[]),n.lineDashOffset=v,k?(n.lineWidth=m*2,n.lineJoin=g||"round"):(n.lineWidth=m,n.lineJoin=g||"bevel");let w=e.endAngle;if(l){ta(n,e,t,r,w,o);for(let j=0;j<l;++j)n.stroke();isNaN(u)||(w=d+(u%Fe||Fe))}k&&m1(n,e,w),h.selfJoin&&w-d>=Se&&b===0&&g!=="miter"&&f1(n,e,w),l||(ta(n,e,t,r,w,o),n.stroke())}class Vg extends vn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const o=this.getProps(["x","y"],r),{angle:l,distance:d}=ug(o,{x:e,y:t}),{startAngle:u,endAngle:h,innerRadius:m,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,b=ge(y,h-u),k=oi(l,u,h)&&u!==h,w=b>=Fe||k,j=gn(d,m+v,g+v);return w&&j}getCenterPoint(e){const{x:t,y:r,startAngle:o,endAngle:l,innerRadius:d,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,g=(o+l)/2,y=(d+u+m+h)/2;return{x:t+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,o=(t.offset||0)/4,l=(t.spacing||0)/2,d=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Fe?Math.floor(r/Fe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o);const h=1-Math.sin(Math.min(Se,r||0)),m=o*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,x1(e,this,m,l,d),y1(e,this,m,l,d),e.restore()}}function Hg(n,e,t=e){n.lineCap=ge(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ge(t.borderDash,e.borderDash)),n.lineDashOffset=ge(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ge(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ge(t.borderWidth,e.borderWidth),n.strokeStyle=ge(t.borderColor,e.borderColor)}function v1(n,e,t){n.lineTo(t.x,t.y)}function b1(n){return n.stepped?Bv:n.tension||n.cubicInterpolationMode==="monotone"?$v:v1}function Ug(n,e,t={}){const r=n.length,{start:o=0,end:l=r-1}=t,{start:d,end:u}=e,h=Math.max(o,d),m=Math.min(l,u),g=o<d&&l<d||o>u&&l>u;return{count:r,start:h,loop:e.loop,ilen:m<h&&!g?r+m-h:m-h}}function w1(n,e,t,r){const{points:o,options:l}=e,{count:d,start:u,loop:h,ilen:m}=Ug(o,t,r),g=b1(l);let{move:y=!0,reverse:v}=r||{},b,k,w;for(b=0;b<=m;++b)k=o[(u+(v?m-b:b))%d],!k.skip&&(y?(n.moveTo(k.x,k.y),y=!1):g(n,w,k,v,l.stepped),w=k);return h&&(k=o[(u+(v?m:0))%d],g(n,w,k,v,l.stepped)),!!h}function j1(n,e,t,r){const o=e.points,{count:l,start:d,ilen:u}=Ug(o,t,r),{move:h=!0,reverse:m}=r||{};let g=0,y=0,v,b,k,w,j,S;const _=E=>(d+(m?u-E:E))%l,T=()=>{w!==j&&(n.lineTo(g,j),n.lineTo(g,w),n.lineTo(g,S))};for(h&&(b=o[_(0)],n.moveTo(b.x,b.y)),v=0;v<=u;++v){if(b=o[_(v)],b.skip)continue;const E=b.x,P=b.y,A=E|0;A===k?(P<w?w=P:P>j&&(j=P),g=(y*g+E)/++y):(T(),n.lineTo(E,P),k=A,y=0,w=j=P),S=P}T()}function zc(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?j1:w1}function k1(n){return n.stepped?v2:n.tension||n.cubicInterpolationMode==="monotone"?b2:us}function N1(n,e,t,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,r)&&o.closePath()),Hg(n,e.options),n.stroke(o)}function _1(n,e,t,r){const{segments:o,options:l}=e,d=zc(e);for(const u of o)Hg(n,l,u.style),n.beginPath(),d(n,e,u,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const S1=typeof Path2D=="function";function C1(n,e,t,r){S1&&!e.options.segment?N1(n,e,t,r):_1(n,e,t,r)}class xs extends vn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;u2(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=S2(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,o=e[t],l=this.points,d=Mg(this,{property:t,start:o,end:o});if(!d.length)return;const u=[],h=k1(r);let m,g;for(m=0,g=d.length;m<g;++m){const{start:y,end:v}=d[m],b=l[y],k=l[v];if(b===k){u.push(b);continue}const w=Math.abs((o-b[t])/(k[t]-b[t])),j=h(b,k,w,r.stepped);j[t]=e[t],u.push(j)}return u.length===1?u[0]:u}pathSegment(e,t,r){return zc(this)(e,this,t,r)}path(e,t,r){const o=this.segments,l=zc(this);let d=this._loop;t=t||0,r=r||this.points.length-t;for(const u of o)d&=l(e,this,u,{start:t,end:t+r-1});return!!d}draw(e,t,r,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),C1(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ym(n,e,t,r){const o=n.options,{[t]:l}=n.getProps([t],r);return Math.abs(e-l)<o.radius+o.hitRadius}class ua extends vn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const o=this.options,{x:l,y:d}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(t-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return ym(this,e,"x",t)}inYRange(e,t){return ym(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!ai(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Oc(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Gg(n,e){const{x:t,y:r,base:o,width:l,height:d}=n.getProps(["x","y","base","width","height"],e);let u,h,m,g,y;return n.horizontal?(y=d/2,u=Math.min(t,o),h=Math.max(t,o),m=r-y,g=r+y):(y=l/2,u=t-y,h=t+y,m=Math.min(r,o),g=Math.max(r,o)),{left:u,top:m,right:h,bottom:g}}function Wn(n,e,t,r){return n?0:st(e,t,r)}function M1(n,e,t){const r=n.options.borderWidth,o=n.borderSkipped,l=yg(r);return{t:Wn(o.top,l.top,0,t),r:Wn(o.right,l.right,0,e),b:Wn(o.bottom,l.bottom,0,t),l:Wn(o.left,l.left,0,e)}}function P1(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,l=Us(o),d=Math.min(e,t),u=n.borderSkipped,h=r||ye(o);return{topLeft:Wn(!h||u.top||u.left,l.topLeft,0,d),topRight:Wn(!h||u.top||u.right,l.topRight,0,d),bottomLeft:Wn(!h||u.bottom||u.left,l.bottomLeft,0,d),bottomRight:Wn(!h||u.bottom||u.right,l.bottomRight,0,d)}}function L1(n){const e=Gg(n),t=e.right-e.left,r=e.bottom-e.top,o=M1(n,t/2,r/2),l=P1(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:l},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,l.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(o.b,o.r))}}}}function Sc(n,e,t,r){const o=e===null,l=t===null,u=n&&!(o&&l)&&Gg(n,r);return u&&(o||gn(e,u.left,u.right))&&(l||gn(t,u.top,u.bottom))}function E1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function T1(n,e){n.rect(e.x,e.y,e.w,e.h)}function Cc(n,e,t={}){const r=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,l=(n.x+n.w!==t.x+t.w?e:0)-r,d=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+r,y:n.y+o,w:n.w+l,h:n.h+d,radius:n.radius}}class Yg extends vn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:o}}=this,{inner:l,outer:d}=L1(this),u=E1(d.radius)?Jo:T1;e.save(),(d.w!==l.w||d.h!==l.h)&&(e.beginPath(),u(e,Cc(d,t,l)),e.clip(),u(e,Cc(l,-t,d)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,Cc(l,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,r){return Sc(this,e,t,r)}inXRange(e,t){return Sc(this,e,null,t)}inYRange(e,t){return Sc(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:o,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+o)/2:t,y:l?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function D1(n,e,t){const r=n.segments,o=n.points,l=e.points,d=[];for(const u of r){let{start:h,end:m}=u;m=ha(h,m,o);const g=Bc(t,o[h],o[m],u.loop);if(!e.segments){d.push({source:u,target:g,start:o[h],end:o[m]});continue}const y=Mg(e,g);for(const v of y){const b=Bc(t,l[v.start],l[v.end],v.loop),k=Cg(u,o,b);for(const w of k)d.push({source:w,target:v,start:{[t]:vm(g,b,"start",Math.max)},end:{[t]:vm(g,b,"end",Math.min)}})}}return d}function Bc(n,e,t,r){if(r)return;let o=e[n],l=t[n];return n==="angle"&&(o=wt(o),l=wt(l)),{property:n,start:o,end:l}}function R1(n,e){const{x:t=null,y:r=null}=n||{},o=e.points,l=[];return e.segments.forEach(({start:d,end:u})=>{u=ha(d,u,o);const h=o[d],m=o[u];r!==null?(l.push({x:h.x,y:r}),l.push({x:m.x,y:r})):t!==null&&(l.push({x:t,y:h.y}),l.push({x:t,y:m.y}))}),l}function ha(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function vm(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Kg(n,e){let t=[],r=!1;return Ve(n)?(r=!0,t=n):t=R1(n,e),t.length?new xs({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function bm(n){return n&&n.fill!==!1}function A1(n,e,t){let o=n[e].fill;const l=[e];let d;if(!t)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!it(o))return o;if(d=n[o],!d)return!1;if(d.visible)return o;l.push(o),o=d.fill}return!1}function O1(n,e,t){const r=B1(n);if(ye(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return it(o)&&Math.floor(o)===o?F1(r[0],e,o,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function F1(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function I1(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:ye(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function z1(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:ye(n)?r=n.value:r=e.getBaseValue(),r}function B1(n){const e=n.options,t=e.fill;let r=ge(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function $1(n){const{scale:e,index:t,line:r}=n,o=[],l=r.segments,d=r.points,u=W1(e,t);u.push(Kg({x:null,y:e.bottom},r));for(let h=0;h<l.length;h++){const m=l[h];for(let g=m.start;g<=m.end;g++)V1(o,d[g],u)}return new xs({points:o,options:{}})}function W1(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const l=r[o];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function V1(n,e,t){const r=[];for(let o=0;o<t.length;o++){const l=t[o],{first:d,last:u,point:h}=H1(l,e,"x");if(!(!h||d&&u)){if(d)r.unshift(h);else if(n.push(h),!u)break}}n.push(...r)}function H1(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const o=r[t],l=n.segments,d=n.points;let u=!1,h=!1;for(let m=0;m<l.length;m++){const g=l[m],y=d[g.start][t],v=d[g.end][t];if(gn(o,y,v)){u=o===y,h=o===v;break}}return{first:u,last:h,point:r}}class Xg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:o,y:l,radius:d}=this;return t=t||{start:0,end:Fe},e.arc(o,l,d,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:o}=this,l=e.angle;return{x:t+Math.cos(l)*o,y:r+Math.sin(l)*o,angle:l}}}function U1(n){const{chart:e,fill:t,line:r}=n;if(it(t))return G1(e,t);if(t==="stack")return $1(n);if(t==="shape")return!0;const o=Y1(n);return o instanceof Xg?o:Kg(o,r)}function G1(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Y1(n){return(n.scale||{}).getPointPositionForValue?X1(n):K1(n)}function K1(n){const{scale:e={},fill:t}=n,r=I1(t,e);if(it(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function X1(n){const{scale:e,fill:t}=n,r=e.options,o=e.getLabels().length,l=r.reverse?e.max:e.min,d=z1(t,e,l),u=[];if(r.grid.circular){const h=e.getPointPositionForValue(0,l);return new Xg({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(d)})}for(let h=0;h<o;++h)u.push(e.getPointPositionForValue(h,d));return u}function Mc(n,e,t){const r=U1(e),{chart:o,index:l,line:d,scale:u,axis:h}=e,m=d.options,g=m.fill,y=m.backgroundColor,{above:v=y,below:b=y}=g||{},k=o.getDatasetMeta(l),w=Pg(o,k);r&&d.points.length&&(oa(n,t),Q1(n,{line:d,target:r,above:v,below:b,area:t,scale:u,axis:h,clip:w}),aa(n))}function Q1(n,e){const{line:t,target:r,above:o,below:l,area:d,scale:u,clip:h}=e,m=t._loop?"angle":e.axis;n.save();let g=l;l!==o&&(m==="x"?(wm(n,r,d.top),Pc(n,{line:t,target:r,color:o,scale:u,property:m,clip:h}),n.restore(),n.save(),wm(n,r,d.bottom)):m==="y"&&(jm(n,r,d.left),Pc(n,{line:t,target:r,color:l,scale:u,property:m,clip:h}),n.restore(),n.save(),jm(n,r,d.right),g=o)),Pc(n,{line:t,target:r,color:g,scale:u,property:m,clip:h}),n.restore()}function wm(n,e,t){const{segments:r,points:o}=e;let l=!0,d=!1;n.beginPath();for(const u of r){const{start:h,end:m}=u,g=o[h],y=o[ha(h,m,o)];l?(n.moveTo(g.x,g.y),l=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),d=!!e.pathSegment(n,u,{move:d}),d?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function jm(n,e,t){const{segments:r,points:o}=e;let l=!0,d=!1;n.beginPath();for(const u of r){const{start:h,end:m}=u,g=o[h],y=o[ha(h,m,o)];l?(n.moveTo(g.x,g.y),l=!1):(n.lineTo(t,g.y),n.lineTo(g.x,g.y)),d=!!e.pathSegment(n,u,{move:d}),d?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Pc(n,e){const{line:t,target:r,property:o,color:l,scale:d,clip:u}=e,h=D1(t,r,o);for(const{source:m,target:g,start:y,end:v}of h){const{style:{backgroundColor:b=l}={}}=m,k=r!==!0;n.save(),n.fillStyle=b,q1(n,d,u,k&&Bc(o,y,v)),n.beginPath();const w=!!t.pathSegment(n,m);let j;if(k){w?n.closePath():km(n,r,v,o);const S=!!r.pathSegment(n,g,{move:w,reverse:!0});j=w&&S,j||km(n,r,y,o)}n.closePath(),n.fill(j?"evenodd":"nonzero"),n.restore()}}function q1(n,e,t,r){const o=e.chart.chartArea,{property:l,start:d,end:u}=r||{};if(l==="x"||l==="y"){let h,m,g,y;l==="x"?(h=d,m=o.top,g=u,y=o.bottom):(h=o.left,m=d,g=o.right,y=u),n.beginPath(),t&&(h=Math.max(h,t.left),g=Math.min(g,t.right),m=Math.max(m,t.top),y=Math.min(y,t.bottom)),n.rect(h,m,g-h,y-m),n.clip()}}function km(n,e,t,r){const o=e.interpolate(t,r);o&&n.lineTo(o.x,o.y)}var Qg={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,o=[];let l,d,u,h;for(d=0;d<r;++d)l=n.getDatasetMeta(d),u=l.dataset,h=null,u&&u.options&&u instanceof xs&&(h={visible:n.isDatasetVisible(d),index:d,fill:O1(u,d,r),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=h,o.push(h);for(d=0;d<r;++d)h=o[d],!(!h||h.fill===!1)&&(h.fill=A1(o,d,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let d=o.length-1;d>=0;--d){const u=o[d].$filler;u&&(u.line.updateControlPoints(l,u.axis),r&&u.fill&&Mc(n.ctx,u,l))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;bm(l)&&Mc(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!bm(r)||t.drawTime!=="beforeDatasetDraw"||Mc(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Nm=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},J1=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class _m extends vn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ee(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=rt(r.font),l=o.size,d=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Nm(r,l);let m,g;t.font=o.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(d,l,u,h)+10):(g=this.maxHeight,m=this._fitCols(d,o,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){const{ctx:l,maxWidth:d,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],g=o+u;let y=e;l.textAlign="left",l.textBaseline="middle";let v=-1,b=-g;return this.legendItems.forEach((k,w)=>{const j=r+t/2+l.measureText(k.text).width;(w===0||m[m.length-1]+j+2*u>d)&&(y+=g,m[m.length-(w>0?0:1)]=0,b+=g,v++),h[w]={left:0,top:b,row:v,width:j,height:o},m[m.length-1]+=j+u}),y}_fitCols(e,t,r,o){const{ctx:l,maxHeight:d,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],g=d-e;let y=u,v=0,b=0,k=0,w=0;return this.legendItems.forEach((j,S)=>{const{itemWidth:_,itemHeight:T}=Z1(r,t,l,j,o);S>0&&b+T+2*u>g&&(y+=v+u,m.push({width:v,height:b}),k+=v+u,w++,v=b=0),h[S]={left:k,top:b,col:w,width:_,height:T},v=Math.max(v,_),b+=T+u}),y+=v,m.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:l}}=this,d=Gs(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=nt(r,this.left+o,this.right-this.lineWidths[u]);for(const m of t)u!==m.row&&(u=m.row,h=nt(r,this.left+o,this.right-this.lineWidths[u])),m.top+=this.top+e+o,m.left=d.leftForLtr(d.x(h),m.width),h+=m.width+o}else{let u=0,h=nt(r,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const m of t)m.col!==u&&(u=m.col,h=nt(r,this.top+e+o,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+o,m.left=d.leftForLtr(d.x(m.left),m.width),h+=m.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;oa(e,this),this._draw(),aa(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:l,labels:d}=e,u=$e.color,h=Gs(e.rtl,this.left,this.width),m=rt(d.font),{padding:g}=d,y=m.size,v=y/2;let b;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=m.string;const{boxWidth:k,boxHeight:w,itemHeight:j}=Nm(d,y),S=function(A,z,$){if(isNaN(k)||k<=0||isNaN(w)||w<0)return;o.save();const Y=ge($.lineWidth,1);if(o.fillStyle=ge($.fillStyle,u),o.lineCap=ge($.lineCap,"butt"),o.lineDashOffset=ge($.lineDashOffset,0),o.lineJoin=ge($.lineJoin,"miter"),o.lineWidth=Y,o.strokeStyle=ge($.strokeStyle,u),o.setLineDash(ge($.lineDash,[])),d.usePointStyle){const Z={radius:w*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:Y},re=h.xPlus(A,k/2),le=z+v;xg(o,Z,re,le,d.pointStyleWidth&&k)}else{const Z=z+Math.max((y-w)/2,0),re=h.leftForLtr(A,k),le=Us($.borderRadius);o.beginPath(),Object.values(le).some(se=>se!==0)?Jo(o,{x:re,y:Z,w:k,h:w,radius:le}):o.rect(re,Z,k,w),o.fill(),Y!==0&&o.stroke()}o.restore()},_=function(A,z,$){li(o,$.text,A,z+j/2,m,{strikethrough:$.hidden,textAlign:h.textAlign($.textAlign)})},T=this.isHorizontal(),E=this._computeTitleHeight();T?b={x:nt(l,this.left+g,this.right-r[0]),y:this.top+g+E,line:0}:b={x:this.left+g,y:nt(l,this.top+E+g,this.bottom-t[0].height),line:0},Ng(this.ctx,e.textDirection);const P=j+g;this.legendItems.forEach((A,z)=>{o.strokeStyle=A.fontColor,o.fillStyle=A.fontColor;const $=o.measureText(A.text).width,Y=h.textAlign(A.textAlign||(A.textAlign=d.textAlign)),Z=k+v+$;let re=b.x,le=b.y;h.setWidth(this.width),T?z>0&&re+Z+g>this.right&&(le=b.y+=P,b.line++,re=b.x=nt(l,this.left+g,this.right-r[b.line])):z>0&&le+P>this.bottom&&(re=b.x=re+t[b.line].width+g,b.line++,le=b.y=nt(l,this.top+E+g,this.bottom-t[b.line].height));const se=h.x(re);if(S(se,le,A),re=Cv(Y,re+k+v,T?re+Z:this.right,e.rtl),_(h.x(re),le,A),T)b.x+=Z+g;else if(typeof A.text!="string"){const fe=m.lineHeight;b.y+=qg(A,fe)+g}else b.y+=P}),_g(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=rt(t.font),o=Dt(t.padding);if(!t.display)return;const l=Gs(e.rtl,this.left,this.width),d=this.ctx,u=t.position,h=r.size/2,m=o.top+h;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+m,y=nt(e.align,y,this.right-v);else{const k=this.columnSizes.reduce((w,j)=>Math.max(w,j.height),0);g=m+nt(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const b=nt(u,y,y+v);d.textAlign=l.textAlign(td(u)),d.textBaseline="middle",d.strokeStyle=t.color,d.fillStyle=t.color,d.font=r.string,li(d,t.text,b,g,r)}_computeTitleHeight(){const e=this.options.title,t=rt(e.font),r=Dt(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,l;if(gn(e,this.left,this.right)&&gn(t,this.top,this.bottom)){for(l=this.legendHitBoxes,r=0;r<l.length;++r)if(o=l[r],gn(e,o.left,o.left+o.width)&&gn(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!nw(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,l=J1(o,r);o&&!l&&Ee(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!l&&Ee(t.onHover,[e,r,this],this)}else r&&Ee(t.onClick,[e,r,this],this)}}function Z1(n,e,t,r,o){const l=ew(r,n,e,t),d=tw(o,r,e.lineHeight);return{itemWidth:l,itemHeight:d}}function ew(n,e,t,r){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((l,d)=>l.length>d.length?l:d)),e+t.size/2+r.measureText(o).width}function tw(n,e,t){let r=n;return typeof e.text!="string"&&(r=qg(e,t)),r}function qg(n,e){const t=n.text?n.text.length:0;return e*t}function nw(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Zs={id:"legend",_element:_m,start(n,e,t){const r=n.legend=new _m({ctx:n.ctx,options:t,chart:n});Et.configure(n,r,t),Et.addBox(n,r)},stop(n){Et.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Et.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:l,useBorderRadius:d,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(t?0:void 0),g=Dt(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:r||m.pointStyle,rotation:m.rotation,textAlign:o||m.textAlign,borderRadius:d&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Jg extends vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Ve(r.text)?r.text.length:1;this._padding=Dt(r.padding);const l=o*rt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:o,right:l,options:d}=this,u=d.align;let h=0,m,g,y;return this.isHorizontal()?(g=nt(u,r,l),y=t+e,m=l-r):(d.position==="left"?(g=r+e,y=nt(u,o,t),h=Se*-.5):(g=l-e,y=nt(u,t,o),h=Se*.5),m=o-t),{titleX:g,titleY:y,maxWidth:m,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=rt(t.font),l=r.lineHeight/2+this._padding.top,{titleX:d,titleY:u,maxWidth:h,rotation:m}=this._drawArgs(l);li(e,t.text,0,0,r,{color:t.color,maxWidth:h,rotation:m,textAlign:td(t.align),textBaseline:"middle",translation:[d,u]})}}function sw(n,e){const t=new Jg({ctx:n.ctx,options:e,chart:n});Et.configure(n,t,e),Et.addBox(n,t),n.titleBlock=t}var mi={id:"title",_element:Jg,start(n,e,t){sw(n,t)},stop(n){const e=n.titleBlock;Et.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Et.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xr={average(n){if(!n.length)return!1;let e,t,r=new Set,o=0,l=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();r.add(h.x),o+=h.y,++l}}return l===0||r.size===0?!1:{x:[...r].reduce((u,h)=>u+h)/r.size,y:o/l}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,l,d,u;for(l=0,d=n.length;l<d;++l){const h=n[l].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),g=Rc(e,m);g<o&&(o=g,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function Xt(n,e){return e&&(Ve(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function hn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function rw(n,e){const{element:t,datasetIndex:r,index:o}=e,l=n.getDatasetMeta(r).controller,{label:d,value:u}=l.getLabelAndValue(o);return{chart:n,label:d,parsed:l.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:u,dataset:l.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function Sm(n,e){const t=n.chart.ctx,{body:r,footer:o,title:l}=n,{boxWidth:d,boxHeight:u}=e,h=rt(e.bodyFont),m=rt(e.titleFont),g=rt(e.footerFont),y=l.length,v=o.length,b=r.length,k=Dt(e.padding);let w=k.height,j=0,S=r.reduce((E,P)=>E+P.before.length+P.lines.length+P.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*m.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),S){const E=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;w+=b*E+(S-b)*h.lineHeight+(S-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let _=0;const T=function(E){j=Math.max(j,t.measureText(E).width+_)};return t.save(),t.font=m.string,_e(n.title,T),t.font=h.string,_e(n.beforeBody.concat(n.afterBody),T),_=e.displayColors?d+2+e.boxPadding:0,_e(r,E=>{_e(E.before,T),_e(E.lines,T),_e(E.after,T)}),_=0,t.font=g.string,_e(n.footer,T),t.restore(),j+=k.width,{width:j,height:w}}function iw(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function ow(n,e,t,r){const{x:o,width:l}=r,d=t.caretSize+t.caretPadding;if(n==="left"&&o+l+d>e.width||n==="right"&&o-l-d<0)return!0}function aw(n,e,t,r){const{x:o,width:l}=t,{width:d,chartArea:{left:u,right:h}}=n;let m="center";return r==="center"?m=o<=(u+h)/2?"left":"right":o<=l/2?m="left":o>=d-l/2&&(m="right"),ow(m,n,e,t)&&(m="center"),m}function Cm(n,e,t){const r=t.yAlign||e.yAlign||iw(n,t);return{xAlign:t.xAlign||e.xAlign||aw(n,e,t,r),yAlign:r}}function lw(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function cw(n,e,t){let{y:r,height:o}=n;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function Mm(n,e,t,r){const{caretSize:o,caretPadding:l,cornerRadius:d}=n,{xAlign:u,yAlign:h}=t,m=o+l,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:b}=Us(d);let k=lw(e,u);const w=cw(e,h,m);return h==="center"?u==="left"?k+=m:u==="right"&&(k-=m):u==="left"?k-=Math.max(g,v)+o:u==="right"&&(k+=Math.max(y,b)+o),{x:st(k,0,r.width-e.width),y:st(w,0,r.height-e.height)}}function Wo(n,e,t){const r=Dt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Pm(n){return Xt([],hn(n))}function dw(n,e,t){return ps(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Lm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Zg={beforeTitle:dn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:dn,beforeBody:dn,beforeLabel:dn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return je(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:dn,afterBody:dn,beforeFooter:dn,footer:dn,afterFooter:dn};function mt(n,e,t,r){const o=n[e].call(t,r);return typeof o>"u"?Zg[e].call(t,r):o}class Em extends vn{static positioners=Xr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,l=new Lg(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=dw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,o=mt(r,"beforeTitle",this,e),l=mt(r,"title",this,e),d=mt(r,"afterTitle",this,e);let u=[];return u=Xt(u,hn(o)),u=Xt(u,hn(l)),u=Xt(u,hn(d)),u}getBeforeBody(e,t){return Pm(mt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,o=[];return _e(e,l=>{const d={before:[],lines:[],after:[]},u=Lm(r,l);Xt(d.before,hn(mt(u,"beforeLabel",this,l))),Xt(d.lines,mt(u,"label",this,l)),Xt(d.after,hn(mt(u,"afterLabel",this,l))),o.push(d)}),o}getAfterBody(e,t){return Pm(mt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,o=mt(r,"beforeFooter",this,e),l=mt(r,"footer",this,e),d=mt(r,"afterFooter",this,e);let u=[];return u=Xt(u,hn(o)),u=Xt(u,hn(l)),u=Xt(u,hn(d)),u}_createItems(e){const t=this._active,r=this.chart.data,o=[],l=[],d=[];let u=[],h,m;for(h=0,m=t.length;h<m;++h)u.push(rw(this.chart,t[h]));return e.filter&&(u=u.filter((g,y,v)=>e.filter(g,y,v,r))),e.itemSort&&(u=u.sort((g,y)=>e.itemSort(g,y,r))),_e(u,g=>{const y=Lm(e.callbacks,g);o.push(mt(y,"labelColor",this,g)),l.push(mt(y,"labelPointStyle",this,g)),d.push(mt(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=d,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),o=this._active;let l,d=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const u=Xr[r.position].call(this,o,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);const h=this._size=Sm(this,r),m=Object.assign({},u,h),g=Cm(this.chart,r,m),y=Mm(r,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,l={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=d,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){const l=this.getCaretPosition(e,r,o);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:l}=this,{caretSize:d,cornerRadius:u}=r,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:y}=Us(u),{x:v,y:b}=e,{width:k,height:w}=t;let j,S,_,T,E,P;return l==="center"?(E=b+w/2,o==="left"?(j=v,S=j-d,T=E+d,P=E-d):(j=v+k,S=j+d,T=E-d,P=E+d),_=j):(o==="left"?S=v+Math.max(h,g)+d:o==="right"?S=v+k-Math.max(m,y)-d:S=this.caretX,l==="top"?(T=b,E=T-d,j=S-d,_=S+d):(T=b+w,E=T+d,j=S+d,_=S-d),P=T),{x1:j,x2:S,x3:_,y1:T,y2:E,y3:P}}drawTitle(e,t,r){const o=this.title,l=o.length;let d,u,h;if(l){const m=Gs(r.rtl,this.x,this.width);for(e.x=Wo(this,r.titleAlign,r),t.textAlign=m.textAlign(r.titleAlign),t.textBaseline="middle",d=rt(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=d.string,h=0;h<l;++h)t.fillText(o[h],m.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+u,h+1===l&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,o,l){const d=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:h,boxWidth:m}=l,g=rt(l.bodyFont),y=Wo(this,"left",l),v=o.x(y),b=h<g.lineHeight?(g.lineHeight-h)/2:0,k=t.y+b;if(l.usePointStyle){const w={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=o.leftForLtr(v,m)+m/2,S=k+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Oc(e,w,j,S),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,Oc(e,w,j,S)}else{e.lineWidth=ye(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const w=o.leftForLtr(v,m),j=o.leftForLtr(o.xPlus(v,1),m-2),S=Us(d.borderRadius);Object.values(S).some(_=>_!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Jo(e,{x:w,y:k,w:m,h,radius:S}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),Jo(e,{x:j,y:k+1,w:m-2,h:h-2,radius:S}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(w,k,m,h),e.strokeRect(w,k,m,h),e.fillStyle=d.backgroundColor,e.fillRect(j,k+1,m-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:l,bodyAlign:d,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:g}=r,y=rt(r.bodyFont);let v=y.lineHeight,b=0;const k=Gs(r.rtl,this.x,this.width),w=function($){t.fillText($,k.x(e.x+b),e.y+v/2),e.y+=v+l},j=k.textAlign(d);let S,_,T,E,P,A,z;for(t.textAlign=d,t.textBaseline="middle",t.font=y.string,e.x=Wo(this,j,r),t.fillStyle=r.bodyColor,_e(this.beforeBody,w),b=u&&j!=="right"?d==="center"?m/2+g:m+2+g:0,E=0,A=o.length;E<A;++E){for(S=o[E],_=this.labelTextColors[E],t.fillStyle=_,_e(S.before,w),T=S.lines,u&&T.length&&(this._drawColorBox(t,e,E,k,r),v=Math.max(y.lineHeight,h)),P=0,z=T.length;P<z;++P)w(T[P]),v=y.lineHeight;_e(S.after,w)}b=0,v=y.lineHeight,_e(this.afterBody,w),e.y-=l}drawFooter(e,t,r){const o=this.footer,l=o.length;let d,u;if(l){const h=Gs(r.rtl,this.x,this.width);for(e.x=Wo(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",d=rt(r.footerFont),t.fillStyle=r.footerColor,t.font=d.string,u=0;u<l;++u)t.fillText(o[u],h.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:l,yAlign:d}=this,{x:u,y:h}=e,{width:m,height:g}=r,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:k}=Us(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(u+y,h),d==="top"&&this.drawCaret(e,t,r,o),t.lineTo(u+m-v,h),t.quadraticCurveTo(u+m,h,u+m,h+v),d==="center"&&l==="right"&&this.drawCaret(e,t,r,o),t.lineTo(u+m,h+g-k),t.quadraticCurveTo(u+m,h+g,u+m-k,h+g),d==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(u+b,h+g),t.quadraticCurveTo(u,h+g,u,h+g-b),d==="center"&&l==="left"&&this.drawCaret(e,t,r,o),t.lineTo(u,h+y),t.quadraticCurveTo(u,h,u+y,h),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){const d=Xr[e.position].call(this,this._active,this._eventPosition);if(!d)return;const u=this._size=Sm(this,e),h=Object.assign({},d,this._size),m=Cm(t,e,h),g=Mm(e,h,m,t);(o._to!==g.x||l._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const d=Dt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,o,t),Ng(e,t.textDirection),l.y+=d.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),_g(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),l=!Xo(r,o),d=this._positionChanged(o,t);(l||d)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],d=this._getActiveElements(e,l,t,r),u=this._positionChanged(d,e),h=t||!Xo(d,l)||u;return h&&(this._active=d,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,o){const l=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const d=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&d.reverse(),d}_positionChanged(e,t){const{caretX:r,caretY:o,options:l}=this,d=Xr[l.position].call(this,e,t);return d!==!1&&(r!==d.x||o!==d.y)}}var er={id:"tooltip",_element:Em,positioners:Xr,afterInit(n,e,t){t&&(n.tooltip=new Em({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const uw=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function hw(n,e,t,r){const o=n.indexOf(e);if(o===-1)return uw(n,e,t,r);const l=n.lastIndexOf(e);return o!==l?t:o}const fw=(n,e)=>n===null?null:st(Math.round(n),0,e);function Tm(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class gi extends Js{static id="category";static defaults={ticks:{callback:Tm}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:o,label:l}of t)r[o]===l&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(je(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:hw(r,e,ge(t,e),this._addedLabels),fw(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,o=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let d=e;d<=t;d++)o.push({value:d});return o}getLabelForValue(e){return Tm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function mw(n,e){const t=[],{bounds:o,step:l,min:d,max:u,precision:h,count:m,maxTicks:g,maxDigits:y,includeBounds:v}=n,b=l||1,k=g-1,{min:w,max:j}=e,S=!je(d),_=!je(u),T=!je(m),E=(j-w)/(y+1);let P=Mf((j-w)/k/b)*b,A,z,$,Y;if(P<1e-14&&!S&&!_)return[{value:w},{value:j}];Y=Math.ceil(j/P)-Math.floor(w/P),Y>k&&(P=Mf(Y*P/k/b)*b),je(h)||(A=Math.pow(10,h),P=Math.ceil(P*A)/A),o==="ticks"?(z=Math.floor(w/P)*P,$=Math.ceil(j/P)*P):(z=w,$=j),S&&_&&l&&yv((u-d)/l,P/1e3)?(Y=Math.round(Math.min((u-d)/P,g)),P=(u-d)/Y,z=d,$=u):T?(z=S?d:z,$=_?u:$,Y=m-1,P=($-z)/Y):(Y=($-z)/P,qr(Y,Math.round(Y),P/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const Z=Math.max(Pf(P),Pf(z));A=Math.pow(10,je(h)?Z:h),z=Math.round(z*A)/A,$=Math.round($*A)/A;let re=0;for(S&&(v&&z!==d?(t.push({value:d}),z<d&&re++,qr(Math.round((z+re*P)*A)/A,d,Dm(d,E,n))&&re++):z<d&&re++);re<Y;++re){const le=Math.round((z+re*P)*A)/A;if(_&&le>u)break;t.push({value:le})}return _&&v&&$!==u?t.length&&qr(t[t.length-1].value,u,Dm(u,E,n))?t[t.length-1].value=u:t.push({value:u}):(!_||$===u)&&t.push({value:$}),t}function Dm(n,e,{horizontal:t,minRotation:r}){const o=mn(r),l=(t?Math.sin(o):Math.cos(o))||.001,d=.75*e*(""+n).length;return Math.min(e/l,d)}class gw extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this;const d=h=>o=t?o:h,u=h=>l=r?l:h;if(e){const h=Jt(o),m=Jt(l);h<0&&m<0?u(0):h>0&&m>0&&d(0)}if(o===l){let h=l===0?1:Math.abs(l*.05);u(l+h),e||d(o-h)}this.min=o,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,d=mw(o,l);return e.bounds==="ticks"&&vv(d,this,"value"),e.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return sd(e,this.chart.options.locale,this.options.ticks.format)}}class pi extends gw{static id="linear";static defaults={ticks:{callback:pg.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=it(e)?e:0,this.max=it(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=mn(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const fa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gt=Object.keys(fa);function Rm(n,e){return n-e}function Am(n,e){if(je(e))return null;const t=n._adapter,{parser:r,round:o,isoWeekday:l}=n._parseOpts;let d=e;return typeof r=="function"&&(d=r(d)),it(d)||(d=typeof r=="string"?t.parse(d,r):t.parse(d)),d===null?null:(o&&(d=o==="week"&&(ii(l)||l===!0)?t.startOf(d,"isoWeek",l):t.startOf(d,o)),+d)}function Om(n,e,t,r){const o=gt.length;for(let l=gt.indexOf(n);l<o-1;++l){const d=fa[gt[l]],u=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((t-e)/(u*d.size))<=r)return gt[l]}return gt[o-1]}function pw(n,e,t,r,o){for(let l=gt.length-1;l>=gt.indexOf(t);l--){const d=gt[l];if(fa[d].common&&n._adapter.diff(o,r,d)>=e-1)return d}return gt[t?gt.indexOf(t):0]}function xw(n){for(let e=gt.indexOf(n)+1,t=gt.length;e<t;++e)if(fa[gt[e]].common)return gt[e]}function Fm(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:o}=ed(t,e),l=t[r]>=e?t[r]:t[o];n[l]=!0}}function yw(n,e,t,r){const o=n._adapter,l=+o.startOf(e[0].value,r),d=e[e.length-1].value;let u,h;for(u=l;u<=d;u=+o.add(u,1,r))h=t[u],h>=0&&(e[h].major=!0);return e}function Im(n,e,t){const r=[],o={},l=e.length;let d,u;for(d=0;d<l;++d)u=e[d],o[u]=d,r.push({value:u,major:!1});return l===0||!t?r:yw(n,r,o,t)}class zm extends Js{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),o=this._adapter=new rb._date(e.adapters.date);o.init(t),Qr(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Am(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:l,minDefined:d,maxDefined:u}=this.getUserBounds();function h(m){!d&&!isNaN(m.min)&&(o=Math.min(o,m.min)),!u&&!isNaN(m.max)&&(l=Math.max(l,m.max))}(!d||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=it(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),l=it(l)&&!isNaN(l)?l:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,d=this.max,u=Nv(o,l,d);return this._unit=t.unit||(r.autoSkip?Om(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):pw(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:xw(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),Im(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?r=l:r=(l-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;t=st(t,0,d),r=st(r,0,d),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,l=o.time,d=l.unit||Om(l.minUnit,t,r,this._getLabelCapacity(t)),u=ge(o.ticks.stepSize,1),h=d==="week"?l.isoWeekday:!1,m=ii(h)||h===!0,g={};let y=t,v,b;if(m&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,m?"day":d),e.diff(r,t,d)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+d);const k=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<r;v=+e.add(v,u,d),b++)Fm(g,v,k);return(v===r||o.bounds==="ticks"||b===1)&&Fm(g,v,k),Object.keys(g).sort(Rm).map(w=>+w)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,l=this._unit,d=t||o[l];return this._adapter.format(e,d)}_tickFormatFunction(e,t,r,o){const l=this.options,d=l.ticks.callback;if(d)return Ee(d,[e,t,r],this);const u=l.time.displayFormats,h=this._unit,m=this._majorUnit,g=h&&u[h],y=m&&u[m],v=r[t],b=m&&y&&v&&v.major;return this._adapter.format(e,o||(b?y:g))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=mn(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(o),d=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:r*l+u*d,h:r*d+u*l}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,l=this._tickFormatFunction(e,0,Im(this,[e],this._majorUnit),o),d=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(Am(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fg(e.sort(Rm))}}function Vo(n,e,t){let r=0,o=n.length-1,l,d,u,h;t?(e>=n[r].pos&&e<=n[o].pos&&({lo:r,hi:o}=hs(n,"pos",e)),{pos:l,time:u}=n[r],{pos:d,time:h}=n[o]):(e>=n[r].time&&e<=n[o].time&&({lo:r,hi:o}=hs(n,"time",e)),{time:l,pos:u}=n[r],{time:d,pos:h}=n[o]);const m=d-l;return m?u+(h-u)*(e-l)/m:u}class sj extends zm{static id="timeseries";static defaults=zm.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Vo(t,this.min),this._tableRange=Vo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,o=[],l=[];let d,u,h,m,g;for(d=0,u=e.length;d<u;++d)m=e[d],m>=t&&m<=r&&o.push(m);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(d=0,u=o.length;d<u;++d)g=o[d+1],h=o[d-1],m=o[d],Math.round((g+h)/2)!==m&&l.push({time:m,pos:d/(u-1)});return l}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,l)=>o-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Vo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Vo(this._table,r*this._tableRange+this._minPos,!0)}}const e0="label";function Bm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function vw(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function t0(n,e){n.labels=e}function n0(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e0;const r=[];n.datasets=e.map(o=>{const l=n.datasets.find(d=>d[t]===o[t]);return!l||!o.data||r.includes(l)?{...o}:(r.push(l),Object.assign(l,o),l)})}function bw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e0;const t={labels:[],datasets:[]};return t0(t,n.labels),n0(t,n.datasets,e),t}function ww(n,e){const{height:t=150,width:r=300,redraw:o=!1,datasetIdKey:l,type:d,data:u,options:h,plugins:m=[],fallbackContent:g,updateMode:y,...v}=n,b=C.useRef(null),k=C.useRef(null),w=()=>{b.current&&(k.current=new bn(b.current,{type:d,data:bw(u,l),options:h&&{...h},plugins:m}),Bm(e,k.current))},j=()=>{Bm(e,null),k.current&&(k.current.destroy(),k.current=null)};return C.useEffect(()=>{!o&&k.current&&h&&vw(k.current,h)},[o,h]),C.useEffect(()=>{!o&&k.current&&t0(k.current.config.data,u.labels)},[o,u.labels]),C.useEffect(()=>{!o&&k.current&&u.datasets&&n0(k.current.config.data,u.datasets,l)},[o,u.datasets]),C.useEffect(()=>{k.current&&(o?(j(),setTimeout(w)):k.current.update(y))},[o,h,u.labels,u.datasets,y]),C.useEffect(()=>{k.current&&(j(),setTimeout(w))},[d]),C.useEffect(()=>(w(),()=>j()),[]),sa.createElement("canvas",{ref:b,role:"img",height:t,width:r,...v},g)}const jw=C.forwardRef(ww);function ma(n,e){return bn.register(e),C.forwardRef((t,r)=>sa.createElement(jw,{...t,ref:r,type:n}))}const di=ma("line",nb),$c=ma("bar",eb),kw=ma("doughnut",Dg),Nw=ma("pie",sb);bn.register(gi,pi,Yg,mi,er,Zs);const _w=({transactions:n})=>{const e={};n.forEach(u=>{const h=new Date(u.transaction_date).toLocaleDateString("en-US",{month:"short",year:"numeric"});e[h]||(e[h]={income:0,expense:0}),u.transaction_type==="income"?e[h].income+=u.amount:e[h].expense+=Math.abs(u.amount)});const t=Object.keys(e).sort(),r=t.map(u=>e[u].income),o=t.map(u=>e[u].expense),l={labels:t,datasets:[{label:"Income",data:r,backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Expenses",data:o,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:14,weight:"500"}}},title:{display:!0,text:"Income vs Expenses",font:{size:18,weight:"bold"},color:"#374151"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(u){return`${u.dataset.label}: $${u.parsed.y.toFixed(2)}`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12,weight:"500"},color:"#6B7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12,weight:"500"},color:"#6B7280",callback:function(u){return"$"+u.toLocaleString()}}}},interaction:{intersect:!1,mode:"index"}};return a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsx("div",{className:"h-80",children:a.jsx($c,{data:l,options:d})})})};bn.register(Vg,er,Zs);const Sw=({transactions:n})=>{const e={};n.filter(u=>u.transaction_type==="expense").forEach(u=>{const h=d(u.description);e[h]||(e[h]=0),e[h]+=Math.abs(u.amount)});const t=Object.entries(e).map(([u,h])=>({category:u,amount:h})).sort((u,h)=>h.amount-u.amount),r=["rgba(239, 68, 68, 0.8)","rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(245, 158, 11, 0.8)","rgba(236, 72, 153, 0.8)","rgba(14, 165, 233, 0.8)","rgba(34, 197, 94, 0.8)"],o={labels:t.map(u=>u.category),datasets:[{data:t.map(u=>u.amount),backgroundColor:r.slice(0,t.length),borderColor:r.slice(0,t.length).map(u=>u.replace("0.8","1")),borderWidth:2,hoverOffset:8}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"500"}}},title:{display:!0,text:"Spending by Category",font:{size:18,weight:"bold"},color:"#374151"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(u){const h=u.dataset.data.reduce((g,y)=>g+y,0),m=(u.parsed/h*100).toFixed(1);return`${u.label}: $${u.parsed.toFixed(2)} (${m}%)`}}}},interaction:{intersect:!1}};function d(u){const h=u.toLowerCase();return h.includes("rent")||h.includes("mortgage")||h.includes("housing")?"Housing":h.includes("food")||h.includes("grocery")||h.includes("restaurant")||h.includes("dining")?"Food & Dining":h.includes("transport")||h.includes("gas")||h.includes("car")||h.includes("uber")||h.includes("taxi")?"Transportation":h.includes("utility")||h.includes("electric")||h.includes("water")||h.includes("internet")||h.includes("phone")?"Utilities":h.includes("health")||h.includes("medical")||h.includes("doctor")||h.includes("pharmacy")?"Healthcare":h.includes("entertainment")||h.includes("movie")||h.includes("game")||h.includes("subscription")?"Entertainment":h.includes("shopping")||h.includes("clothes")||h.includes("fashion")?"Shopping":"Other"}return t.length===0?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No expense data available"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Add some expenses to see spending categories"})]})}):a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsx("div",{className:"h-80",children:a.jsx(Nw,{data:o,options:l})})})};bn.register(gi,pi,ua,xs,mi,er,Zs,Qg);const Cw=({transactions:n})=>{const e={};n.forEach(m=>{const g=new Date(m.transaction_date).toLocaleDateString("en-US",{month:"short",year:"numeric"});e[g]||(e[g]={income:0,expense:0,balance:0}),m.transaction_type==="income"?e[g].income+=m.amount:e[g].expense+=Math.abs(m.amount)});const t=Object.keys(e).sort();let r=0;const o=t.map(m=>{const g=e[m];return r+=g.income-g.expense,r}),l=t.map(m=>e[m].income),d=t.map(m=>e[m].expense),u={labels:t,datasets:[{label:"Balance Trend",data:o,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgba(59, 130, 246, 1)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8},{label:"Income",data:l,borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"rgba(34, 197, 94, 1)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6},{label:"Expenses",data:d,borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!1,tension:.4,pointBackgroundColor:"rgba(239, 68, 68, 1)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:14,weight:"500"}}},title:{display:!0,text:"Monthly Financial Trends",font:{size:18,weight:"bold"},color:"#374151"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(m){return`${m.dataset.label}: $${m.parsed.y.toFixed(2)}`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12,weight:"500"},color:"#6B7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12,weight:"500"},color:"#6B7280",callback:function(m){return"$"+m.toLocaleString()}}}},interaction:{intersect:!1,mode:"index"},elements:{line:{borderJoinStyle:"round"}}};return t.length===0?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No trend data available"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Add transactions to see financial trends"})]})}):a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsx("div",{className:"h-80",children:a.jsx(di,{data:u,options:h})})})},Mw=({transactions:n})=>{const e=n.filter(g=>g.transaction_type==="income").reduce((g,y)=>g+y.amount,0),t=n.filter(g=>g.transaction_type==="expense").reduce((g,y)=>g+Math.abs(y.amount),0),r=e-t,o=e>0?(r/e*100).toFixed(1):0,l=n.filter(g=>g.transaction_type==="income").reduce((g,y)=>{const v=new Date(y.transaction_date).toLocaleDateString("en-US",{month:"short",year:"numeric"});return g[v]||(g[v]=0),g[v]+=y.amount,g},{}),d=Object.keys(l).length>0?Object.values(l).reduce((g,y)=>g+y,0)/Object.keys(l).length:0,u=n.filter(g=>g.type==="expense").reduce((g,y)=>{const v=new Date(y.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});return g[v]||(g[v]=0),g[v]+=Math.abs(y.amount),g},{}),h=Object.keys(u).length>0?Object.values(u).reduce((g,y)=>g+y,0)/Object.keys(u).length:0,m=[{title:"Savings Rate",value:`${o}%`,description:"Percentage of income saved",color:o>=20?"text-green-600":o>=10?"text-yellow-600":"text-red-600",bgColor:o>=20?"bg-green-50":o>=10?"bg-yellow-50":"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Avg Monthly Income",value:`$${d.toFixed(0)}`,description:"Average monthly earnings",color:"text-blue-600",bgColor:"bg-blue-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Avg Monthly Expenses",value:`$${h.toFixed(0)}`,description:"Average monthly spending",color:"text-red-600",bgColor:"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})},{title:"Transaction Count",value:n.length,description:"Total transactions",color:"text-purple-600",bgColor:"bg-purple-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V5M10 9l2 2 4-4"})})}];return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Financial Summary"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map((g,y)=>a.jsxs("div",{className:`p-4 rounded-xl ${g.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${g.bgColor.replace("50","100")}`,children:a.jsx("div",{className:g.color,children:g.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),a.jsx("p",{className:`text-2xl font-bold ${g.color} mb-1`,children:g.value}),a.jsx("p",{className:"text-xs text-gray-500",children:g.description})]},y))})]})},Pw=({transactions:n})=>{const e=n.filter(y=>y.transaction_type==="income"),t=e.reduce((y,v)=>y+v.amount,0),r=e.reduce((y,v)=>{const b=new Date(v.transaction_date).toLocaleDateString("en-US",{month:"short",year:"numeric"});return y[b]||(y[b]=0),y[b]+=v.amount,y},{}),o=Object.keys(r).length>0?Object.values(r).reduce((y,v)=>y+v,0)/Object.keys(r).length:0,l=e.reduce((y,v)=>{const b=m(v.description);return y[b]||(y[b]=0),y[b]+=v.amount,y},{}),d=Object.entries(l).sort(([,y],[,v])=>v-y)[0],u=Object.keys(r).sort(),h=u.length>=2?(r[u[u.length-1]]-r[u[0]])/r[u[0]]*100:0;function m(y){const v=y.toLowerCase();return v.includes("salary")||v.includes("wage")||v.includes("pay")?"Salary":v.includes("freelance")||v.includes("contract")||v.includes("consulting")?"Freelance":v.includes("bonus")||v.includes("incentive")?"Bonus":v.includes("investment")||v.includes("dividend")||v.includes("return")?"Investment":v.includes("business")||v.includes("profit")||v.includes("revenue")?"Business":"Other"}const g=[{title:"Total Income",value:`$${t.toLocaleString()}`,description:"All time earnings",color:"text-green-600",bgColor:"bg-green-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Avg Monthly Income",value:`$${o.toFixed(0)}`,description:"Average per month",color:"text-blue-600",bgColor:"bg-blue-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{title:"Top Income Source",value:d?d[0]:"N/A",description:d?`$${d[1].toLocaleString()}`:"No data",color:"text-purple-600",bgColor:"bg-purple-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Income Growth",value:`${h>=0?"+":""}${h.toFixed(1)}%`,description:"Month over month",color:h>=0?"text-green-600":"text-red-600",bgColor:h>=0?"bg-green-50":"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}];return e.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Income Insights"})]}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No income data available"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Add some income transactions to see insights"})]})]}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Income Insights"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map((y,v)=>a.jsxs("div",{className:`p-4 rounded-xl ${y.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${y.bgColor.replace("50","100")}`,children:a.jsx("div",{className:y.color,children:y.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:y.title}),a.jsx("p",{className:`text-2xl font-bold ${y.color} mb-1`,children:y.value}),a.jsx("p",{className:"text-xs text-gray-500",children:y.description})]},v))})]})},we="http://localhost:3001/api";class jt{static async testDatabase(){try{return await(await fetch(`${we}/test-db`)).json()}catch(e){return{success:!1,error:e.message}}}static async syncUserToDatabase(e){try{return await(await fetch(`${we}/sync-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userData:e})})).json()}catch(t){return{success:!1,error:t.message}}}static async authenticateUser(e,t){try{return await(await fetch(`${we}/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})})).json()}catch(r){return{success:!1,error:r.message}}}static async getAllUsers(){try{return await(await fetch(`${we}/users`)).json()}catch(e){return{success:!1,error:e.message}}}static async forgotPassword(e){try{return await(await fetch(`${we}/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).json()}catch(t){return{success:!1,error:t.message}}}static async resetPassword(e,t){try{return await(await fetch(`${we}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:t})})).json()}catch(r){return{success:!1,error:r.message}}}static async getUserAccounts(e){try{return await(await fetch(`${we}/accounts/${e}`)).json()}catch(t){return{success:!1,error:t.message}}}static async createAccount(e,t,r,o=0){try{return await(await fetch(`${we}/accounts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,accountType:t,accountName:r,initialBalance:o})})).json()}catch(l){return{success:!1,error:l.message}}}static async getAccountTransactions(e){try{return await(await fetch(`${we}/transactions/${e}`)).json()}catch(t){return{success:!1,error:t.message}}}static async createTransaction(e,t,r,o,l,d){try{return await(await fetch(`${we}/transactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e,amount:t,category:r,transactionType:o,description:l,transactionDate:d})})).json()}catch(u){return{success:!1,error:u.message}}}static async deleteTransaction(e){try{return await(await fetch(`${we}/transactions/${e}`,{method:"DELETE"})).json()}catch(t){return{success:!1,error:t.message}}}static async getDashboardData(e){try{return await(await fetch(`${we}/dashboard/${e}`)).json()}catch(t){return{success:!1,error:t.message}}}static async getMLCategorization(e){try{if(!Array.isArray(e))return{success:!1,error:"Descriptions must be an array"};const t=e.filter(l=>typeof l=="string"&&l.trim().length>0);if(t.length===0)return{success:!1,error:"No valid descriptions provided"};const r=await fetch(`${we}/ml/categorize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({descriptions:t})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(t){return console.error("ML categorization error:",t),{success:!1,error:t.message}}}static async getMLModelInfo(){try{return await(await fetch(`${we}/ml/info`)).json()}catch(e){return{success:!1,error:e.message}}}static async updateMLPrediction(e,t,r,o){try{return await(await fetch(`${we}/transactions/${e}/ml`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mlCategory:t,mlConfidence:r,isMLPredicted:o})})).json()}catch(l){return{success:!1,error:l.message}}}static async getMLReviewTransactions(){try{return await(await fetch(`${we}/ml/review`)).json()}catch(e){return{success:!1,error:e.message}}}static async testMLModel(){try{return await(await fetch(`${we}/ml/test`)).json()}catch(e){return{success:!1,error:e.message}}}static async getSpendingTrendPrediction(e,t=6){try{return await(await fetch(`${we}/regression/spending-trend`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactions:e,months:t})})).json()}catch(r){return{success:!1,error:r.message}}}static async getIncomeGrowthPrediction(e,t=12){try{return await(await fetch(`${we}/regression/income-growth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({incomeHistory:e,months:t})})).json()}catch(r){return{success:!1,error:r.message}}}static async getSavingsCapacityPrediction(e,t,r=12){try{return await(await fetch(`${we}/regression/savings-capacity`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({incomeHistory:e,expenseHistory:t,months:r})})).json()}catch(o){return{success:!1,error:o.message}}}static async getGoalTimelinePrediction(e,t,r){try{return await(await fetch(`${we}/regression/goal-timeline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({goal:e,userProfile:t,historicalData:r})})).json()}catch(o){return{success:!1,error:o.message}}}static async getFinancialRiskAssessment(e,t=[],r={}){try{return await(await fetch(`${we}/regression/risk-assessment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userProfile:e,goals:t,marketConditions:r})})).json()}catch(o){return{success:!1,error:o.message}}}static async getComprehensiveFinancialInsights(e,t,r,o=[],l,d={}){try{return await(await fetch(`${we}/regression/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactions:e,incomeHistory:t,expenseHistory:r,goals:o,userProfile:l,marketConditions:d})})).json()}catch(u){return{success:!1,error:u.message}}}static async trainWithSampleData(){try{return await(await fetch(`${we}/training/train-sample`,{method:"POST",headers:{"Content-Type":"application/json"}})).json()}catch(e){return{success:!1,error:e.message}}}static async trainWithDataset(e,t={}){try{return await(await fetch(`${we}/training/train-dataset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:e,options:t})})).json()}catch(r){return{success:!1,error:r.message}}}static async getTrainedModel(e){try{return await(await fetch(`${we}/training/model/${e}`)).json()}catch(t){return{success:!1,error:t.message}}}static async getTrainingHistory(){try{return await(await fetch(`${we}/training/history`)).json()}catch(e){return{success:!1,error:e.message}}}static async exportTrainedModels(){try{return await(await fetch(`${we}/training/export`)).json()}catch(e){return{success:!1,error:e.message}}}static async clearTrainedModels(){try{return await(await fetch(`${we}/training/clear`,{method:"DELETE"})).json()}catch(e){return{success:!1,error:e.message}}}static async uploadDataset(e,t={}){try{return await(await fetch(`${we}/training/upload-dataset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:e,options:t})})).json()}catch(r){return{success:!1,error:r.message}}}}const Zt=Object.freeze(Object.defineProperty({__proto__:null,ApiService:jt},Symbol.toStringTag,{value:"Module"})),ga=({size:n="md",color:e="blue"})=>{const t={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},r={blue:"text-blue-600",green:"text-green-600",red:"text-red-600",gray:"text-gray-600"};return a.jsx("div",{className:`animate-spin ${t[n]} ${r[e]}`,children:a.jsxs("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},$m=({progress:n,color:e="blue",showPercentage:t=!0})=>{const r={blue:"bg-blue-500",green:"bg-green-500",red:"bg-red-500",yellow:"bg-yellow-500"};return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),t&&a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Math.round(n),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r[e]}`,style:{width:`${Math.min(n,100)}%`}})})]})},Lw=()=>{const[n,e]=C.useState(null),[t,r]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{r(!0);const d=await jt.getMLModelInfo();if(d.success&&d.model){const u=d.model,h=Math.round((u.accuracy||.85)*100),m=u.totalPredictions||0,g=u.categories||["Housing","Food","Transportation","Utilities","Healthcare","Entertainment","Shopping","Other"],y=g.slice(0,6).join(", ")+(g.length>6?"...":""),v={accuracy:h,totalPredictions:m,categories:y,lastUpdated:new Date().toLocaleDateString(),status:h>=90?"Excellent":h>=80?"Good":"Learning"};e(v)}}catch(d){console.error("Error loading ML insights:",d);const h=["Housing","Food","Transportation","Utilities","Healthcare","Entertainment","Shopping","Other"].slice(0,6).join(", ")+"...";e({accuracy:85,totalPredictions:0,categories:h,lastUpdated:new Date().toLocaleDateString(),status:"Learning"})}finally{r(!1)}},l=d=>{switch(d){case"Excellent":return"";case"Good":return"";case"Learning":return"";default:return""}};return t?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(ga,{size:"lg",color:"blue"})})}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-purple-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"AI Expense Assistant"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-600",children:"AI Accuracy"}),a.jsx("span",{className:"text-2xl",children:""})]}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[n?.accuracy,"%"]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Categorization accuracy"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"text-sm font-medium text-green-600",children:"AI Status"}),a.jsx("span",{className:"text-2xl",children:l(n?.status)})]}),a.jsx("p",{className:"text-lg font-bold text-green-900",children:n?.status}),a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Learning from your data"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"text-sm font-medium text-purple-600",children:"Categories"}),a.jsx("span",{className:"text-2xl",children:""})]}),a.jsx("p",{className:"text-lg font-bold text-purple-900 break-words",children:n?.categories}),a.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Expense categories"})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"How AI Helps You"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("p",{children:" Automatically categorizes your expenses"}),a.jsx("p",{children:" Learns from your spending patterns"}),a.jsx("p",{children:" Suggests categories as you type"}),a.jsx("p",{children:" Gets smarter with each transaction"})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500 text-center",children:["Last updated: ",n?.lastUpdated]})]})},na=({confidence:n,size:e="sm",showPercentage:t=!0,showLabel:r=!1})=>{const o=m=>m>=.8?{bg:"bg-green-100",text:"text-green-800",border:"border-green-200",icon:""}:m>=.6?{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",icon:""}:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200",icon:""},l=m=>m>=.8?"High":m>=.6?"Medium":"Low",d=m=>{switch(m){case"xs":return"px-2 py-1 text-xs";case"sm":return"px-2 py-1 text-sm";case"md":return"px-3 py-1.5 text-sm";case"lg":return"px-4 py-2 text-base";default:return"px-2 py-1 text-sm"}},u=o(n),h=d(e);return a.jsxs("div",{className:`inline-flex items-center space-x-1 rounded-full border ${u.bg} ${u.text} ${u.border} ${h}`,children:[a.jsx("span",{className:"text-xs",children:u.icon}),t&&a.jsxs("span",{className:"font-medium",children:[Math.round(n*100),"%"]}),r&&a.jsx("span",{className:"text-xs font-medium",children:l(n)})]})},Ew=()=>{const[n,e]=C.useState(""),[t,r]=C.useState(null),[o,l]=C.useState(!1),[d,u]=C.useState(""),h=async()=>{if(!n.trim()){u("Please enter a description to test");return}l(!0),u(""),r(null);try{const g=await jt.getMLCategorization([n.trim()]);g.success&&g.predictions&&g.predictions.length>0?(r(g.predictions[0]),u("AI prediction generated!")):u("Unable to generate prediction. Please try again.")}catch(g){console.error("Error testing prediction:",g),u("Error testing prediction. Please try again.")}finally{l(!1)}},m=()=>{e(""),r(null),u("")};return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-blue-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Test AI Assistant"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter a transaction description to test AI categorization:"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),placeholder:"e.g., 'Starbucks coffee', 'Uber ride', 'Grocery store'",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:o}),a.jsx("button",{onClick:h,disabled:o||!n.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?a.jsx(ga,{size:"sm"}):"Test AI"}),a.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]})]}),d&&a.jsx("div",{className:`p-3 rounded-lg ${d.includes("Error")||d.includes("Unable")?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:d}),t&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"AI Prediction"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Suggested Category:"}),a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full font-medium",children:t.category})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Confidence:"}),a.jsx(na,{confidence:t.confidence})]}),t.confidence<.7&&a.jsx("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-yellow-700",children:" Low confidence - this prediction may need manual review"})})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Try these examples:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Starbucks coffee","Uber ride","Grocery store","Gas station","Netflix subscription"].map(g=>a.jsx("button",{onClick:()=>e(g),className:"px-3 py-1 bg-white border border-gray-300 rounded-md text-sm hover:bg-gray-50 transition-colors",children:g},g))})]})]})]})},ls="http://localhost:3001/api";class Lt{static async getUserGoals(e){try{const t=new Date().getTime();return await(await fetch(`${ls}/goals/${e}?t=${t}`)).json()}catch(t){return{success:!1,error:t.message}}}static async createGoal(e){try{console.log("Sending goal data:",e);const t=await fetch(`${ls}/goals`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Error creating goal:",t),{success:!1,error:t.message}}}static async updateGoal(e,t){try{return await(await fetch(`${ls}/goals/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(r){return{success:!1,error:r.message}}}static async deleteGoal(e){try{return await(await fetch(`${ls}/goals/${e}`,{method:"DELETE"})).json()}catch(t){return{success:!1,error:t.message}}}static async addGoalTransaction(e,t){try{if(console.log("GoalsService.addGoalTransaction called with:"),console.log("goalId:",e,"type:",typeof e),console.log("transactionData:",t,"type:",typeof t),!e||!t)throw new Error("Missing goalId or transactionData");if(typeof e!="number"&&typeof e!="string")throw new Error("goalId must be a number or string");if(typeof t!="object"||t===null)throw new Error("transactionData must be an object");console.log("Sending transaction data:",t);const r=await fetch(`${ls}/goals/${e}/transactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(r){return console.error("Error adding goal transaction:",r),{success:!1,error:r.message}}}static async getGoalTransactions(e){try{return await(await fetch(`${ls}/goals/${e}/transactions`)).json()}catch(t){return{success:!1,error:t.message}}}static async getGoalProgress(e){try{return await(await fetch(`${ls}/goals/${e}/progress`)).json()}catch(t){return{success:!1,error:t.message}}}static formatGoalData(e){const t=e.progress_percentage||0,r=e.deadline?Math.ceil((new Date(e.deadline)-new Date)/(1e3*60*60*24)):null;return{...e,progressPercentage:Math.min(t,100),daysRemaining:r,isOverdue:e.deadline_status==="overdue",isDueSoon:e.deadline_status==="due_soon",isOnTrack:e.deadline_status==="on_track",remainingAmount:Math.max(e.target_amount-e.current_amount,0)}}static getGoalStatusColor(e){return e.status==="completed"?"text-green-600":e.status==="paused"?"text-yellow-600":e.status==="cancelled"||e.deadline_status==="overdue"?"text-red-600":e.deadline_status==="due_soon"?"text-yellow-600":"text-blue-600"}static getGoalPriorityColor(e){switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}static getGoalTypeIconName(e){switch(e){case"savings":return"savings";case"investment":return"investment";case"debt_payoff":return"debt_payoff";case"purchase":return"purchase";case"income":return"income";default:return"default"}}static getGoalTypeColor(e){switch(e){case"savings":return"bg-green-500";case"investment":return"bg-blue-500";case"debt_payoff":return"bg-red-500";case"purchase":return"bg-purple-500";case"income":return"bg-yellow-500";default:return"bg-gray-500"}}}const s0=({goal:n,onClose:e,onSubmit:t})=>{const[r,o]=C.useState({amount:"",transactionType:"contribution",transactionDate:new Date().toISOString().split("T")[0],description:""}),[l,d]=C.useState({}),[u,h]=C.useState(!1),m=w=>{const{name:j,value:S}=w.target;o(_=>({..._,[j]:S})),l[j]&&d(_=>({..._,[j]:""}))},g=()=>{const w={};return(!r.amount||parseFloat(r.amount)<=0)&&(w.amount="Amount must be greater than 0"),r.transactionType==="contribution"&&parseFloat(r.amount)>n.target_amount-n.current_amount&&(w.amount="Amount exceeds remaining goal amount"),r.transactionType==="withdrawal"&&parseFloat(r.amount)>n.current_amount&&(w.amount="Withdrawal amount exceeds current goal amount"),d(w),Object.keys(w).length===0},y=async w=>{if(w.preventDefault(),!!g()){h(!0);try{await t(n.id,{amount:parseFloat(r.amount),transactionType:r.transactionType,transactionDate:r.transactionDate,description:r.description}),e()}finally{h(!1)}}},v=w=>{switch(w){case"contribution":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"withdrawal":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})});case"interest":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"dividend":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});default:return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}},b=w=>{switch(w){case"contribution":return"bg-green-500";case"withdrawal":return"bg-red-500";case"interest":return"bg-blue-500";case"dividend":return"bg-purple-500";default:return"bg-gray-500"}},k=n.target_amount-n.current_amount;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Transaction"}),a.jsx("p",{className:"text-sm text-gray-600",children:n.title})]})]}),a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Progress"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",parseFloat(n.current_amount).toFixed(2)," / $",parseFloat(n.target_amount).toFixed(2)]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(n.current_amount/n.target_amount*100,100)}%`}})}),a.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["Remaining: $",k.toFixed(2)]}),a.jsxs("span",{children:[(n.current_amount/n.target_amount*100).toFixed(1),"%"]})]})]}),a.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transaction Type"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"contribution",label:"Contribution",description:"Add money to goal"},{value:"withdrawal",label:"Withdrawal",description:"Remove money from goal"},{value:"interest",label:"Interest",description:"Interest earned"},{value:"dividend",label:"Dividend",description:"Dividend received"}].map(w=>a.jsxs("label",{className:`relative flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all duration-200 ${r.transactionType===w.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"transactionType",value:w.value,checked:r.transactionType===w.value,onChange:m,className:"sr-only"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${b(w.value)}`,children:a.jsx("div",{className:"text-white",children:v(w.value)})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:w.label}),a.jsx("div",{className:"text-xs text-gray-500",children:w.description})]})]})]},w.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:m,step:"0.01",min:"0",className:`w-full pl-8 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${l.amount?"border-red-500":""}`,placeholder:"0.00"})]}),l.amount&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.amount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Date"}),a.jsx("input",{type:"date",name:"transactionDate",value:r.transactionDate,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),a.jsx("input",{type:"text",name:"description",value:r.description,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Monthly contribution, Bonus, Tax refund"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 bg-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-400 transition-all duration-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-3 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50",children:u?"Adding...":"Add Transaction"})]})]})]})})};bn.register(gi,pi,ua,xs,mi,er,Zs,Qg);const Tw=({goal:n,progressData:e=[]})=>{const t={labels:e.map(o=>new Date(o.recorded_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Progress Amount",data:e.map(o=>parseFloat(o.progress_amount)),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8},{label:"Target Amount",data:e.map(()=>parseFloat(n.target_amount)),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1,pointRadius:0,pointHoverRadius:0}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:14,weight:"500"}}},title:{display:!0,text:`${n.title} - Progress Timeline`,font:{size:18,weight:"bold"},color:"#374151"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(o){return o.dataset.label==="Progress Amount"?`Current: $${o.parsed.y.toFixed(2)}`:`Target: $${o.parsed.y.toFixed(2)}`}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12,weight:"500"},color:"#6B7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:12,weight:"500"},color:"#6B7280",callback:function(o){return"$"+o.toLocaleString()}}}},interaction:{intersect:!1,mode:"index"}};return e.length===0?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-6 inline-block",children:a.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Progress Data Yet"}),a.jsx("p",{className:"text-gray-600",children:"Add transactions to see your progress over time"})]})}):a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsx("div",{className:"h-80",children:a.jsx(di,{data:t,options:r})})})},Dw=({goal:n,progressData:e=[],transactions:t=[]})=>{const r=parseFloat(n.current_amount),o=parseFloat(n.target_amount),l=o>0?r/o*100:0,d=Math.max(o-r,0),u=n.deadline?Math.ceil((new Date(n.deadline)-new Date)/(1e3*60*60*24)):null,h=u>0?d/u:0,m=t.filter(j=>j.transaction_type==="contribution").reduce((j,S)=>j+parseFloat(S.amount),0),g=t.filter(j=>j.transaction_type==="withdrawal").reduce((j,S)=>j+parseFloat(S.amount),0),y=t.filter(j=>j.transaction_type==="interest"||j.transaction_type==="dividend").reduce((j,S)=>j+parseFloat(S.amount),0),v=t.filter(j=>j.transaction_type==="contribution").length,b=v>0?m/v:0;e.length>1&&(r-parseFloat(e[0].progress_amount))/Math.max((new Date-new Date(e[0].recorded_date))/(1e3*60*60*24),1);const k=[{title:"Progress Percentage",value:`${l.toFixed(1)}%`,description:"Completion status",color:l>=100?"text-green-600":l>=75?"text-blue-600":l>=50?"text-yellow-600":"text-red-600",bgColor:l>=100?"bg-green-50":l>=75?"bg-blue-50":l>=50?"bg-yellow-50":"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{title:"Remaining Amount",value:`$${d.toFixed(2)}`,description:"Amount left to reach goal",color:"text-gray-600",bgColor:"bg-gray-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Days Remaining",value:u?`${u} days`:"No deadline",description:u?"Time left to reach goal":"Open timeline",color:u?u<30?"text-red-600":u<90?"text-yellow-600":"text-green-600":"text-gray-600",bgColor:u?u<30?"bg-red-50":u<90?"bg-yellow-50":"bg-green-50":"bg-gray-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{title:"Avg Daily Needed",value:h>0?`$${h.toFixed(2)}`:"N/A",description:"Daily contribution to reach goal",color:"text-blue-600",bgColor:"bg-blue-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}],w=[{title:"Total Contributions",value:`$${m.toFixed(2)}`,description:`${v} transactions`,color:"text-green-600",bgColor:"bg-green-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{title:"Total Withdrawals",value:`$${g.toFixed(2)}`,description:"Money taken out",color:"text-red-600",bgColor:"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})},{title:"Interest/Dividends",value:`$${y.toFixed(2)}`,description:"Passive earnings",color:"text-purple-600",bgColor:"bg-purple-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Avg Contribution",value:`$${b.toFixed(2)}`,description:"Per transaction",color:"text-blue-600",bgColor:"bg-blue-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Goal Analytics"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:k.map((j,S)=>a.jsxs("div",{className:`p-4 rounded-xl ${j.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${j.bgColor.replace("50","100")}`,children:a.jsx("div",{className:j.color,children:j.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:j.title}),a.jsx("p",{className:`text-2xl font-bold ${j.color} mb-1`,children:j.value}),a.jsx("p",{className:"text-xs text-gray-500",children:j.description})]},S))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V5M10 9l2 2 4-4"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transaction Statistics"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((j,S)=>a.jsxs("div",{className:`p-4 rounded-xl ${j.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${j.bgColor.replace("50","100")}`,children:a.jsx("div",{className:j.color,children:j.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:j.title}),a.jsx("p",{className:`text-2xl font-bold ${j.color} mb-1`,children:j.value}),a.jsx("p",{className:"text-xs text-gray-500",children:j.description})]},S))})]})]})};class Rw{constructor(){this.analysisCache=new Map,this.patternCache=new Map}analyzeSpendingPatterns(e,t=6){const r=this.getRecentTransactions(e,t);return{monthlyAverage:this.calculateMonthlyAverage(r),seasonalTrends:this.identifySeasonalTrends(r),categoryPatterns:this.analyzeCategoryPatterns(r),spendingVelocity:this.calculateSpendingVelocity(r),volatility:this.calculateSpendingVolatility(r)}}predictSavingsCapacity(e,t,r=12){const o=this.calculateAverage(e),l=this.calculateAverage(t),d=this.calculateTrend(t),u=this.calculateTrend(e),h=o*(1+u),m=l*(1+d),g=h-m;return{currentCapacity:o-l,projectedCapacity:g,incomeTrend:u,expenseTrend:d,confidence:this.calculateConfidence(e,t)}}calculateGoalProbability(e,t,r={}){const o=this.calculateTimeRemaining(e.deadline),l=e.current_amount/e.target_amount,d=this.calculateRequiredMonthlyContribution(e,o),u=t.monthlySavingsCapacity||0;let h=.5;l>.5&&(h+=.2),l>.75&&(h+=.2);const m=u/d;return m>=1.2?h+=.2:m>=1?h+=.1:m<.8?h-=.3:m<.6&&(h-=.5),o>12?h+=.1:o<3&&(h-=.3),e.goal_type==="investment"&&r.bullish&&(h+=.1),e.goal_type==="investment"&&r.bearish&&(h-=.1),Math.max(0,Math.min(1,h))}generateRecommendations(e,t,r){const o=[],l=this.calculateGoalProbability(e,t),d=this.calculateRequiredMonthlyContribution(e,this.calculateTimeRemaining(e.deadline)),u=t.monthlySavingsCapacity||0;if(u<d){const m=d-u;o.push({type:"budget_optimization",priority:"high",title:"Increase Monthly Savings",description:"You need to save $"+m.toFixed(2)+" more per month to reach your goal",action:"Reduce expenses or increase income",impact:"high",effort:"medium"})}if(l<.3&&e.deadline){const m=this.calculateOptimalDeadline(e,u);o.push({type:"timeline_adjustment",priority:"medium",title:"Consider Extending Deadline",description:"Extending your deadline to "+m+" would increase your success probability",action:"Adjust goal deadline",impact:"high",effort:"low"})}t.incomeTrend<.02&&o.push({type:"income_optimization",priority:"medium",title:"Explore Income Growth",description:"Consider ways to increase your income to accelerate goal achievement",action:"Look for salary increases, side hustles, or investments",impact:"high",effort:"high"});const h=this.getTopSpendingCategories(r);return h.length>0&&o.push({type:"spending_optimization",priority:"medium",title:"Optimize High-Spending Categories",description:"Consider reducing spending in: "+h.join(", "),action:"Review and reduce expenses in these categories",impact:"medium",effort:"medium"}),o}assessRisks(e,t,r={}){const o=[],l=this.calculateTimeRemaining(e.deadline);l<6&&o.push({type:"time_risk",severity:"high",description:"Limited time remaining to achieve goal",mitigation:"Consider extending deadline or increasing contributions"});const d=this.calculateRequiredMonthlyContribution(e,l);(t.monthlySavingsCapacity||0)<d*.8&&o.push({type:"capacity_risk",severity:"high",description:"Insufficient monthly savings capacity",mitigation:"Increase income or reduce expenses"}),e.goal_type==="investment"&&r.volatility>.2&&o.push({type:"market_risk",severity:"medium",description:"High market volatility may affect investment returns",mitigation:"Consider more conservative investment strategies"});const h=e.current_amount/e.target_amount,m=this.calculateExpectedProgress(e);return h<m*.8&&o.push({type:"progress_risk",severity:"medium",description:"Behind expected progress",mitigation:"Increase contributions or adjust timeline"}),o}getRecentTransactions(e,t){const r=new Date;return r.setMonth(r.getMonth()-t),e.filter(o=>new Date(o.transaction_date)>=r)}calculateMonthlyAverage(e){const t=this.groupByMonth(e),r=Object.values(t);return r.reduce((o,l)=>o+l,0)/r.length}identifySeasonalTrends(e){const t=this.groupByMonth(e),o=Object.keys(t).sort().map(d=>t[d]);let l=0;for(let d=1;d<o.length;d++)l+=(o[d]-o[d-1])/o[d-1];return{direction:l>0?"increasing":"decreasing",strength:Math.abs(l)/o.length,seasonal:this.detectSeasonality(o)}}analyzeCategoryPatterns(e){const t={};return e.forEach(r=>{r.transaction_type==="expense"&&(t[r.category]=(t[r.category]||0)+Math.abs(r.amount))}),t}calculateSpendingVelocity(e){return e.slice(0,30).reduce((o,l)=>o+Math.abs(l.amount),0)/30}calculateSpendingVolatility(e){const t=this.groupByMonth(e),r=Object.values(t);if(r.length<2)return 0;const o=r.reduce((d,u)=>d+u,0)/r.length,l=r.reduce((d,u)=>d+Math.pow(u-o,2),0)/r.length;return Math.sqrt(l)/o}calculateAverage(e){return e.length===0?0:e.reduce((t,r)=>t+r,0)/e.length}calculateTrend(e){if(e.length<2)return 0;const t=e[0];return(e[e.length-1]-t)/t}calculateConfidence(e,t){const r=this.calculateVolatility(e),o=this.calculateVolatility(t),l=Math.min(e.length,t.length),d=1-(r+o)/2,u=Math.min(l/12,1);return(d+u)/2}calculateVolatility(e){if(e.length<2)return 0;const t=this.calculateAverage(e),r=e.reduce((o,l)=>o+Math.pow(l-t,2),0)/e.length;return Math.sqrt(r)/t}calculateTimeRemaining(e){if(!e)return 1/0;const t=new Date,o=new Date(e)-t;return Math.ceil(o/(1e3*60*60*24*30))}calculateRequiredMonthlyContribution(e,t){return t<=0?0:(e.target_amount-e.current_amount)/t}calculateOptimalDeadline(e,t){const r=e.target_amount-e.current_amount,o=Math.ceil(r/t),l=new Date;return l.setMonth(l.getMonth()+o),l.toISOString().split("T")[0]}getTopSpendingCategories(e){return Object.entries(e).sort(([,t],[,r])=>r-t).slice(0,3).map(([t])=>t)}calculateExpectedProgress(e){if(!e.deadline)return 0;const t=this.calculateTimeRemaining(e.deadline)+this.calculateElapsedTime(e);return this.calculateElapsedTime(e)/t}calculateElapsedTime(e){const t=new Date(e.created_at),o=new Date-t;return Math.ceil(o/(1e3*60*60*24*30))}groupByMonth(e){const t={};return e.forEach(r=>{const o=new Date(r.transaction_date),l=o.getFullYear()+"-"+String(o.getMonth()+1).padStart(2,"0");t[l]=(t[l]||0)+Math.abs(r.amount)}),t}detectSeasonality(e){if(e.length<12)return!1;const t=e.slice(-12),r=t.slice(0,6),o=t.slice(6),l=this.calculateAverage(r),d=this.calculateAverage(o);return Math.abs(l-d)/l>.2}}const ei=new Rw,Aw=({goal:n,userId:e})=>{const[t,r]=C.useState([]),[o,l]=C.useState([]),[d,u]=C.useState(0),[h,m]=C.useState(!0),[g,y]=C.useState(null),[v,b]=C.useState(null);C.useEffect(()=>{k()},[n,e]);const k=async()=>{try{m(!0);const[P,A]=await Promise.all([w(),j()]);y(P),b(P.spendingPatterns);const z=ei.calculateGoalProbability(n,P);u(z);const $=ei.generateRecommendations(n,P,P.spendingPatterns);r($);const Y=ei.assessRisks(n,P);l(Y)}catch(P){console.error("Error loading recommendations:",P)}finally{m(!1)}},w=async()=>({monthlySavingsCapacity:n.target_amount/12,incomeTrend:.03,expenseTrend:.02,spendingPatterns:{Dining:500,Entertainment:300,Shopping:400,Transportation:200}}),j=async()=>{try{return[]}catch(P){return console.error("Error loading transactions:",P),[]}},S=P=>{switch(P){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},_=P=>{switch(P){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},T=P=>P>=.8?"text-green-600":P>=.6?"text-yellow-600":"text-red-600",E=P=>P>=.8?"High":P>=.6?"Medium":"Low";return h?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Goal Achievement Probability"}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Success Probability"}),a.jsxs("span",{className:`text-lg font-bold ${T(d)}`,children:[Math.round(d*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full ${d>=.8?"bg-green-500":d>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${d*100}%`}})}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[E(d)," probability of achieving this goal"]})]})})]}),t.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Smart Recommendations"}),a.jsx("div",{className:"space-y-4",children:t.map((P,A)=>a.jsx("div",{className:`p-4 rounded-xl border ${S(P.priority)}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:P.title}),a.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S(P.priority)}`,children:[P.priority," priority"]})]}),a.jsx("p",{className:"text-gray-700 mb-2",children:P.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Impact: ",P.impact]}),a.jsxs("span",{children:["Effort: ",P.effort]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Action: "}),a.jsx("span",{className:"text-sm text-gray-700",children:P.action})]})]})})},A))})]}),o.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Risk Assessment"}),a.jsx("div",{className:"space-y-4",children:o.map((P,A)=>a.jsx("div",{className:`p-4 rounded-xl border ${_(P.severity)}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 capitalize",children:[P.type.replace("_"," ")," Risk"]}),a.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(P.severity)}`,children:[P.severity," severity"]})]}),a.jsx("p",{className:"text-gray-700 mb-2",children:P.description}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mitigation: "}),a.jsx("span",{className:"text-sm text-gray-700",children:P.mitigation})]})]})})},A))})]}),t.length===0&&o.length===0&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Great Progress!"}),a.jsx("p",{className:"text-gray-600",children:"Your goal is on track with no immediate risks or recommendations needed."})]})})]})};bn.register(gi,pi,ua,xs,Yg,mi,er,Zs);const Ow=({goal:n,userId:e})=>{const[t,r]=C.useState(null),[o,l]=C.useState(!0),[d,u]=C.useState("12");C.useEffect(()=>{h()},[n,e,d]);const h=async()=>{try{l(!0);const k=await m(),w={savingsCapacity:ei.predictSavingsCapacity(k.incomeHistory,k.expenseHistory,parseInt(d)),spendingPatterns:ei.analyzeSpendingPatterns(k.transactions,6),goalProjection:g(n,k,parseInt(d))};r(w)}catch(k){console.error("Error loading predictive insights:",k)}finally{l(!1)}},m=async()=>({incomeHistory:[5e3,5200,5100,5300,5400,5500],expenseHistory:[3500,3600,3550,3650,3700,3750],transactions:[{amount:-500,category:"Dining",transaction_date:"2024-01-15"},{amount:-300,category:"Entertainment",transaction_date:"2024-01-20"},{amount:-200,category:"Transportation",transaction_date:"2024-01-25"}]}),g=(k,w,j)=>{const S=k.current_amount,_=k.target_amount,T=w.savingsCapacity?.currentCapacity||1e3,E=[];let P=S;for(let A=0;A<j;A++)P+=T,E.push({month:`Month ${A+1}`,amount:Math.min(P,_),target:_,achieved:P>=_});return E},y=()=>t?.savingsCapacity?{data:{labels:["Current","Projected"],datasets:[{label:"Monthly Savings Capacity",data:[t.savingsCapacity.currentCapacity,t.savingsCapacity.projectedCapacity],backgroundColor:["#3B82F6","#10B981"],borderColor:["#2563EB","#059669"],borderWidth:2}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Savings Capacity Analysis"},legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(j){return"$"+j.toLocaleString()}}}}}}:null,v=()=>{if(!t?.goalProjection)return null;const k=t.goalProjection;return{data:{labels:k.map(S=>S.month),datasets:[{label:"Projected Progress",data:k.map(S=>S.amount),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Target Amount",data:k.map(S=>S.target),borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderDash:[5,5],fill:!1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Goal Achievement Projection"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(S){return"$"+S.toLocaleString()}}}}}}},b=()=>{if(!t?.spendingPatterns?.categoryPatterns)return null;const k=t.spendingPatterns.categoryPatterns,w=Object.keys(k),j=Object.values(k);return{data:{labels:w,datasets:[{label:"Monthly Spending",data:j,backgroundColor:["#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#8B5CF6","#EC4899"],borderWidth:0}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Spending Patterns by Category"},legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(T){return"$"+T.toLocaleString()}}}}}}};return o?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Predictive Insights"}),a.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"6",children:"6 months"}),a.jsx("option",{value:"12",children:"12 months"}),a.jsx("option",{value:"24",children:"24 months"})]})]}),t?.savingsCapacity&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Current Capacity"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",t.savingsCapacity.currentCapacity.toLocaleString()]})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-600",children:"Projected Capacity"}),a.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",t.savingsCapacity.projectedCapacity.toLocaleString()]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Confidence"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(t.savingsCapacity.confidence*100),"%"]})]})]})]}),y()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Savings Capacity Analysis"}),a.jsx("div",{className:"h-64",children:a.jsx($c,{...y()})})]}),v()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Goal Achievement Projection"}),a.jsx("div",{className:"h-64",children:a.jsx(di,{...v()})})]}),b()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Spending Patterns"}),a.jsx("div",{className:"h-64",children:a.jsx($c,{...b()})})]}),t&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Insights"}),a.jsxs("div",{className:"space-y-3",children:[t.savingsCapacity&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsxs("span",{className:"text-gray-700",children:["Your savings capacity is projected to ",t.savingsCapacity.projectedCapacity>t.savingsCapacity.currentCapacity?"increase":"decrease"," by $",Math.abs(t.savingsCapacity.projectedCapacity-t.savingsCapacity.currentCapacity).toLocaleString()," per month"]})]}),t.spendingPatterns&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsxs("span",{className:"text-gray-700",children:["Spending trend is ",t.spendingPatterns.seasonalTrends.direction," with ",Math.round(t.spendingPatterns.seasonalTrends.strength*100),"% consistency"]})]}),t.goalProjection&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsxs("span",{className:"text-gray-700",children:["Based on current patterns, you're on track to reach your goal in ",t.goalProjection.find(k=>k.achieved)?.month||"more than "+d+" months"]})]})]})]})]})},Fw=({goal:n,onClose:e,onUpdate:t,onDelete:r,onAddTransaction:o})=>{const[l,d]=C.useState([]),[u,h]=C.useState([]),[m,g]=C.useState(!0),[y,v]=C.useState(!1);C.useEffect(()=>{b()},[n.id]);const b=async()=>{try{g(!0);const[E,P]=await Promise.all([Lt.getGoalProgress(n.id),Lt.getGoalTransactions(n.id)]);E.success&&d(E.progress),P.success&&h(P.transactions)}catch(E){console.error("Error loading goal data:",E)}finally{g(!1)}},k=async E=>{try{await o(n.id,E),await b(),v(!1)}catch(P){console.error("Error adding transaction:",P)}},w=E=>{switch(E){case"savings":return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"investment":return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"debt_payoff":return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})});case"purchase":return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})});case"income":return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});default:return a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}},j=E=>{switch(E){case"savings":return"bg-green-500";case"investment":return"bg-blue-500";case"debt_payoff":return"bg-red-500";case"purchase":return"bg-purple-500";case"income":return"bg-yellow-500";default:return"bg-gray-500"}},S=E=>{switch(E){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=E=>{switch(E){case"active":return"text-blue-600";case"completed":return"text-green-600";case"paused":return"text-yellow-600";case"cancelled":return"text-red-600";default:return"text-gray-600"}},T=Lt.formatGoalData(n);return m?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})})})}):a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-lg ${j(n.goal_type)} mr-4`,children:a.jsx("div",{className:"text-white",children:w(n.goal_type)})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.title}),a.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(n.priority)}`,children:[n.priority," priority"]}),a.jsx("span",{className:`text-sm font-medium ${_(n.status)}`,children:n.status}),n.deadline&&a.jsxs("span",{className:"text-sm text-gray-500",children:["Due: ",new Date(n.deadline).toLocaleDateString()]})]})]})]}),a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[n.description&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Progress Overview"}),a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Add Transaction"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-indigo-600 mb-1",children:["$",parseFloat(n.current_amount).toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Current Amount"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",parseFloat(n.target_amount).toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Target Amount"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-1",children:[T.progressPercentage.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Progress"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(T.progressPercentage,100)}%`}})})})]}),a.jsx(Tw,{goal:n,progressData:l}),a.jsx(Dw,{goal:n,progressData:l,transactions:u}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Aw,{goal:n,userId:n.user_id}),a.jsx(Ow,{goal:n,userId:n.user_id})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V5M10 9l2 2 4-4"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"})]})}),u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4 inline-block",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V5M10 9l2 2 4-4"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No transactions yet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Add your first transaction to start tracking progress"})]}):a.jsx("div",{className:"space-y-3",children:u.slice(0,10).map(E=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${E.transaction_type==="contribution"?"bg-green-500":E.transaction_type==="withdrawal"?"bg-red-500":E.transaction_type==="interest"?"bg-blue-500":"bg-purple-500"}`,children:a.jsx("div",{className:"text-white",children:E.transaction_type==="contribution"?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}):E.transaction_type==="withdrawal"?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:E.transaction_type.replace("_"," ")}),E.description&&a.jsx("p",{className:"text-sm text-gray-600",children:E.description}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(E.transaction_date).toLocaleDateString()})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:`text-lg font-bold ${E.transaction_type==="contribution"||E.transaction_type==="interest"||E.transaction_type==="dividend"?"text-green-600":"text-red-600"}`,children:[E.transaction_type==="contribution"||E.transaction_type==="interest"||E.transaction_type==="dividend"?"+":"-","$",Math.abs(parseFloat(E.amount)).toFixed(2)]})})]},E.id))})]})]})]}),y&&a.jsx(s0,{goal:n,onClose:()=>v(!1),onSubmit:k})]})},Iw=({goal:n,onUpdate:e,onDelete:t,onAddTransaction:r})=>{const[o,l]=C.useState(!1),[d,u]=C.useState(!1),[h,m]=C.useState(!1),[g,y]=C.useState(!1),v=Lt.formatGoalData(n),b=Lt.getGoalStatusColor(n),k=Lt.getGoalPriorityColor(n.priority),w=Lt.getGoalTypeColor(n.goal_type),S=($=>{switch($){case"savings":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"investment":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"debt_payoff":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})});case"purchase":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})});case"income":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});default:return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}})(n.goal_type),_=async $=>{y(!0);try{await e(n.id,{status:$})}finally{y(!1)}},T=()=>{l(!0)},E=()=>{u(!0)},P=()=>v.progressPercentage>=100?"bg-green-500":v.progressPercentage>=75?"bg-blue-500":v.progressPercentage>=50?"bg-yellow-500":"bg-red-500",A=()=>n.deadline?v.isOverdue?"Overdue":v.isDueSoon?"Due soon":v.daysRemaining>0?`${v.daysRemaining} days left`:"Completed":"No deadline",z=()=>v.isOverdue?"text-red-600":v.isDueSoon?"text-yellow-600":"text-gray-600";return a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${w}`,children:a.jsx("div",{className:"text-white",children:S})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:n.title}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k}`,children:n.priority}),a.jsx("span",{className:`text-xs font-medium ${b}`,children:n.status})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:T,className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all duration-200",title:"Edit goal",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>t(n.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete goal",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),n.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.description}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[v.progressPercentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${P()}`,style:{width:`${Math.min(v.progressPercentage,100)}%`}})}),a.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["$",parseFloat(n.current_amount).toFixed(2)]}),a.jsxs("span",{children:["$",parseFloat(n.target_amount).toFixed(2)]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Deadline"}),a.jsx("span",{className:`text-sm font-medium ${z()}`,children:A()})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>m(!0),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200 text-sm font-medium",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),a.jsx("span",{children:"View Details"})]}),a.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200 text-sm font-medium",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Add Money"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[n.status==="active"&&a.jsx("button",{onClick:()=>_("completed"),disabled:g,className:"flex-1 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:g?"...":"Complete"}),n.status==="completed"&&a.jsx("button",{onClick:()=>_("active"),disabled:g,className:"flex-1 px-3 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-all duration-200 text-sm font-medium disabled:opacity-50",children:g?"...":"Reopen"})]})]}),d&&a.jsx(s0,{goal:n,onClose:()=>u(!1),onSubmit:r}),h&&a.jsx(Fw,{goal:n,onClose:()=>m(!1),onUpdate:e,onDelete:t,onAddTransaction:r})]})},zw=({onClose:n,onSubmit:e})=>{const[t,r]=C.useState({goalType:"savings",title:"",description:"",targetAmount:"",deadline:"",priority:"medium"}),[o,l]=C.useState({}),[d,u]=C.useState(!1),h=b=>{const{name:k,value:w}=b.target;r(j=>({...j,[k]:w})),o[k]&&l(j=>({...j,[k]:""}))},m=()=>{const b={};return t.title.trim()||(b.title="Goal title is required"),(!t.targetAmount||parseFloat(t.targetAmount)<=0)&&(b.targetAmount="Target amount must be greater than 0"),t.deadline&&new Date(t.deadline)<=new Date&&(b.deadline="Deadline must be in the future"),l(b),Object.keys(b).length===0},g=async b=>{if(b.preventDefault(),!!m()){u(!0);try{await e({goalType:t.goalType,title:t.title,description:t.description,targetAmount:parseFloat(t.targetAmount),deadline:t.deadline||null,priority:t.priority})}finally{u(!1)}}},y=b=>{switch(b){case"savings":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"investment":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"debt_payoff":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})});case"purchase":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})});case"income":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});default:return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}},v=b=>{switch(b){case"savings":return"bg-green-500";case"investment":return"bg-blue-500";case"debt_payoff":return"bg-red-500";case"purchase":return"bg-purple-500";case"income":return"bg-yellow-500";default:return"bg-gray-500"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Goal"})]}),a.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Goal Type"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"savings",label:"Savings",description:"Build emergency fund, vacation, etc."},{value:"investment",label:"Investment",description:"Retirement, portfolio growth"},{value:"debt_payoff",label:"Debt Payoff",description:"Credit cards, loans"},{value:"purchase",label:"Purchase",description:"Car, house, electronics"},{value:"income",label:"Income",description:"Salary increase, side hustle"}].map(b=>a.jsxs("label",{className:`relative flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all duration-200 ${t.goalType===b.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"goalType",value:b.value,checked:t.goalType===b.value,onChange:h,className:"sr-only"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${v(b.value)}`,children:a.jsx("div",{className:"text-white",children:y(b.value)})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:b.label}),a.jsx("div",{className:"text-xs text-gray-500",children:b.description})]})]})]},b.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Goal Title *"}),a.jsx("input",{type:"text",name:"title",value:t.title,onChange:h,className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${o.title?"border-red-500":""}`,placeholder:"e.g., Emergency Fund, Vacation to Europe"}),o.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),a.jsx("textarea",{name:"description",value:t.description,onChange:h,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",placeholder:"Add more details about your goal..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Amount *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"number",name:"targetAmount",value:t.targetAmount,onChange:h,step:"0.01",min:"0",className:`w-full pl-8 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${o.targetAmount?"border-red-500":""}`,placeholder:"0.00"})]}),o.targetAmount&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.targetAmount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline (Optional)"}),a.jsx("input",{type:"date",name:"deadline",value:t.deadline,onChange:h,className:`w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${o.deadline?"border-red-500":""}`}),o.deadline&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.deadline})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Priority"}),a.jsx("div",{className:"flex space-x-3",children:[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-red-100 text-red-800"}].map(b=>a.jsxs("label",{className:`flex-1 p-3 border-2 rounded-xl cursor-pointer transition-all duration-200 ${t.priority===b.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"priority",value:b.value,checked:t.priority===b.value,onChange:h,className:"sr-only"}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${b.color}`,children:b.label})})]},b.value))})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-3 bg-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-400 transition-all duration-200",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-3 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50",children:d?"Creating...":"Create Goal"})]})]})]})})},Bw=({goals:n=[]})=>{const e=n.length,t=n.filter(w=>w.status==="active").length,r=n.filter(w=>w.status==="completed").length,o=n.reduce((w,j)=>w+parseFloat(j.target_amount),0),l=n.reduce((w,j)=>w+parseFloat(j.current_amount),0),d=o>0?l/o*100:0,u=n.reduce((w,j)=>(w[j.goal_type]=(w[j.goal_type]||0)+1,w),{}),h=n.reduce((w,j)=>(w[j.priority]=(w[j.priority]||0)+1,w),{}),m=n.filter(w=>w.deadline?new Date(w.deadline)<new Date&&w.status==="active":!1).length,g=n.filter(w=>{if(!w.deadline||w.status!=="active")return!1;const j=Math.ceil((new Date(w.deadline)-new Date)/(1e3*60*60*24));return j<=30&&j>0}).length,y=[{title:"Total Goals",value:e,description:"All financial goals",color:"text-blue-600",bgColor:"bg-blue-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Active Goals",value:t,description:"Currently in progress",color:"text-green-600",bgColor:"bg-green-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{title:"Completed Goals",value:r,description:"Successfully achieved",color:"text-purple-600",bgColor:"bg-purple-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Overall Progress",value:`${d.toFixed(1)}%`,description:"Total progress across all goals",color:d>=75?"text-green-600":d>=50?"text-yellow-600":"text-red-600",bgColor:d>=75?"bg-green-50":d>=50?"bg-yellow-50":"bg-red-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}],v=[{title:"Overdue Goals",value:m,description:"Goals past deadline",color:m>0?"text-red-600":"text-gray-600",bgColor:m>0?"bg-red-50":"bg-gray-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})},{title:"Due Soon",value:g,description:"Goals due within 30 days",color:g>0?"text-yellow-600":"text-gray-600",bgColor:g>0?"bg-yellow-50":"bg-gray-50",icon:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}],b=w=>{switch(w){case"savings":return"";case"investment":return"";case"debt_payoff":return"";case"purchase":return"";case"income":return"";default:return""}},k=w=>{switch(w){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Goals Overview"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map((w,j)=>a.jsxs("div",{className:`p-4 rounded-xl ${w.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${w.bgColor.replace("50","100")}`,children:a.jsx("div",{className:w.color,children:w.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:w.title}),a.jsx("p",{className:`text-2xl font-bold ${w.color} mb-1`,children:w.value}),a.jsx("p",{className:"text-xs text-gray-500",children:w.description})]},j))})]}),(m>0||g>0)&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alerts & Warnings"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map((w,j)=>a.jsxs("div",{className:`p-4 rounded-xl ${w.bgColor} hover:shadow-md transition-all duration-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:`p-2 rounded-lg ${w.bgColor.replace("50","100")}`,children:a.jsx("div",{className:w.color,children:w.icon})})}),a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:w.title}),a.jsx("p",{className:`text-2xl font-bold ${w.color} mb-1`,children:w.value}),a.jsx("p",{className:"text-xs text-gray-500",children:w.description})]},j))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-blue-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Goals by Type"})]}),a.jsx("div",{className:"space-y-3",children:Object.entries(u).map(([w,j])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:b(w)}),a.jsx("span",{className:"font-medium text-gray-900 capitalize",children:w.replace("_"," ")})]}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:j})]},w))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-purple-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Goals by Priority"})]}),a.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([w,j])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${w==="high"?"bg-red-500":w==="medium"?"bg-yellow-500":"bg-green-500"}`}),a.jsxs("span",{className:`font-medium capitalize ${k(w)}`,children:[w," Priority"]})]}),a.jsx("span",{className:"text-lg font-bold text-gray-900",children:j})]},w))})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Financial Summary"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-indigo-600 mb-1",children:["$",l.toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Saved"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",o.toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Target"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-1",children:[d.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Overall Progress"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(d,100)}%`}})})})]})]})};class $w{constructor(){this.supportedBanks=[{id:"chase",name:"Chase Bank",logo:"/logos/chase.png"},{id:"bankofamerica",name:"Bank of America",logo:"/logos/bofa.png"},{id:"wells_fargo",name:"Wells Fargo",logo:"/logos/wells.png"},{id:"citibank",name:"Citibank",logo:"/logos/citi.png"},{id:"capital_one",name:"Capital One",logo:"/logos/capitalone.png"},{id:"us_bank",name:"U.S. Bank",logo:"/logos/usbank.png"}],this.connectionStatus=new Map}getSupportedBanks(){return this.supportedBanks}async connectBankAccount(e,t,r){try{const o="conn_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),l={id:o,userId:e,bankId:t,accountId:r.accountId,status:"connected",connectedAt:new Date().toISOString(),lastSync:new Date().toISOString()};return this.connectionStatus.set(o,l),{success:!0,connectionId:o,message:"Bank account connected successfully"}}catch(o){return{success:!1,error:o.message}}}async importTransactions(e,t,r){try{const o=this.connectionStatus.get(e);if(!o)throw new Error("Bank connection not found");const l=this.generateMockTransactions(o.bankId,t,r);return o.lastSync=new Date().toISOString(),this.connectionStatus.set(e,o),{success:!0,transactions:l,importedCount:l.length,lastSync:o.lastSync}}catch(o){return{success:!1,error:o.message}}}getConnectionStatus(e){return this.connectionStatus.get(e)}async disconnectBankAccount(e){try{const t=this.connectionStatus.get(e);if(!t)throw new Error("Bank connection not found");return t.status="disconnected",t.disconnectedAt=new Date().toISOString(),this.connectionStatus.set(e,t),{success:!0,message:"Bank account disconnected successfully"}}catch(t){return{success:!1,error:t.message}}}getUserConnections(e){const t=[];for(const[r,o]of this.connectionStatus)if(o.userId===e&&o.status==="connected"){const l=this.supportedBanks.find(d=>d.id===o.bankId);t.push({...o,bankName:l?.name||"Unknown Bank",bankLogo:l?.logo})}return t}generateMockTransactions(e,t,r){const o=[],l=new Date(t),d=new Date(r),u=Math.ceil((d-l)/(1e3*60*60*24));for(let h=0;h<u;h++){const m=new Date(l);m.setDate(m.getDate()+h);const g=Math.floor(Math.random()*3)+1;for(let y=0;y<g;y++){const v=this.generateRandomTransaction(m,e);o.push(v)}}return o.sort((h,m)=>new Date(m.date)-new Date(h.date))}generateRandomTransaction(e,t){const r=["Groceries","Dining","Transportation","Entertainment","Shopping","Utilities","Healthcare","Education"],o={Groceries:["Whole Foods","Safeway","Trader Joe's","Kroger"],Dining:["McDonald's","Starbucks","Chipotle","Pizza Hut"],Transportation:["Uber","Lyft","Gas Station","Metro"],Entertainment:["Netflix","Spotify","Movie Theater","Amazon Prime"],Shopping:["Amazon","Target","Walmart","Best Buy"],Utilities:["Electric Company","Water Department","Internet Provider"],Healthcare:["CVS Pharmacy","Doctor's Office","Hospital"],Education:["University","Online Course","Textbook Store"]},l=r[Math.floor(Math.random()*r.length)],d=o[l][Math.floor(Math.random()*o[l].length)],u=-(Math.random()*200+10).toFixed(2);return{id:"txn_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),date:e.toISOString().split("T")[0],amount:parseFloat(u),description:d+" - "+l,category:l,merchant:d,accountId:"acc_"+t+"_"+Math.random().toString(36).substr(2,9),bankId:t,type:"expense",status:"posted"}}async categorizeTransactions(e){try{return{success:!0,transactions:e.map(r=>({...r,mlCategory:this.predictCategory(r.description),mlConfidence:Math.random()*.3+.7,isMLPredicted:!0}))}}catch(t){return{success:!1,error:t.message}}}predictCategory(e){const t=e.toLowerCase();return t.includes("grocery")||t.includes("food")||t.includes("market")?"Groceries":t.includes("restaurant")||t.includes("cafe")||t.includes("dining")?"Dining":t.includes("gas")||t.includes("fuel")||t.includes("uber")||t.includes("lyft")?"Transportation":t.includes("entertainment")||t.includes("movie")||t.includes("netflix")?"Entertainment":t.includes("shopping")||t.includes("store")||t.includes("amazon")?"Shopping":t.includes("utility")||t.includes("electric")||t.includes("water")?"Utilities":t.includes("medical")||t.includes("doctor")||t.includes("pharmacy")?"Healthcare":"Other"}async syncAllAccounts(e){try{const t=this.getUserConnections(e),r=[];for(const o of t){const l=await this.importTransactions(o.id,o.lastSync,new Date().toISOString().split("T")[0]);l.success?r.push({connectionId:o.id,bankName:o.bankName,importedCount:l.importedCount,status:"success"}):r.push({connectionId:o.id,bankName:o.bankName,error:l.error,status:"error"})}return{success:!0,results:r}}catch(t){return{success:!1,error:t.message}}}}const cs=new $w,Ww=({userId:n,onTransactionsImported:e})=>{const[t,r]=C.useState([]),[o,l]=C.useState([]),[d,u]=C.useState(!1),[h,m]=C.useState(null),[g,y]=C.useState(!1),[v,b]=C.useState(!1),[k,w]=C.useState([]);C.useEffect(()=>{j()},[n]);const j=async()=>{try{const A=cs.getSupportedBanks(),z=cs.getUserConnections(n);l(A),r(z)}catch(A){console.error("Error loading bank data:",A)}},S=async A=>{try{y(!0);const z={accountId:`acc_${A}_${Date.now()}`,accessToken:"mock_access_token",refreshToken:"mock_refresh_token"},$=await cs.connectBankAccount(n,A,z);$.success?(await j(),u(!1),m(null)):alert(`Failed to connect: ${$.error}`)}catch(z){console.error("Error connecting bank:",z),alert(`Connection failed: ${z.message}`)}finally{y(!1)}},_=async A=>{try{b(!0);const z=t.find(Y=>Y.id===A);if(!z)return;const $=await cs.importTransactions(A,z.lastSync,new Date().toISOString().split("T")[0]);if($.success){const Y=await cs.categorizeTransactions($.transactions);Y.success&&(e&&e(Y.transactions),w(Z=>[...Z,{connectionId:A,bankName:z.bankName,importedCount:$.importedCount,timestamp:new Date().toISOString()}])),await j()}else alert(`Sync failed: ${$.error}`)}catch(z){console.error("Error syncing account:",z),alert(`Sync failed: ${z.message}`)}finally{b(!1)}},T=async()=>{try{b(!0);const A=await cs.syncAllAccounts(n);A.success?(w(A.results),A.results.filter($=>$.status==="success").reduce(($,Y)=>$+Y.importedCount,0)>0&&e&&e([]),await j()):alert(`Sync failed: ${A.error}`)}catch(A){console.error("Error syncing all accounts:",A),alert(`Sync failed: ${A.message}`)}finally{b(!1)}},E=async A=>{if(confirm("Are you sure you want to disconnect this bank account?"))try{const z=await cs.disconnectBankAccount(A);z.success?await j():alert(`Failed to disconnect: ${z.error}`)}catch(z){console.error("Error disconnecting bank:",z),alert(`Disconnect failed: ${z.message}`)}},P=A=>{switch(A){case"connected":return"text-green-600 bg-green-50";case"disconnected":return"text-red-600 bg-red-50";case"error":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Bank Connections"}),a.jsx("p",{className:"text-gray-600",children:"Connect your bank accounts to automatically import transactions"})]}),a.jsxs("div",{className:"flex space-x-3",children:[t.length>0&&a.jsxs("button",{onClick:T,disabled:v,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:v?"Syncing...":"Sync All"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Connect Bank"})]})]})]}),k.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Recent Sync Results"}),a.jsx("div",{className:"space-y-2",children:k.map((A,z)=>a.jsxs("div",{className:"text-sm text-green-700",children:[A.bankName,": ",A.importedCount," transactions imported"]},z))})]})]}),t.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(A=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:A.bankName}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Account: ",A.accountId]})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${P(A.status)}`,children:A.status})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Connected:"})," ",new Date(A.connectedAt).toLocaleDateString()]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Last Sync:"})," ",new Date(A.lastSync).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>_(A.id),disabled:v,className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{children:"Sync"})]}),a.jsxs("button",{onClick:()=>E(A.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all duration-200 text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),a.jsx("span",{children:"Disconnect"})]})]})]},A.id))}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bank Accounts Connected"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Connect your bank accounts to automatically import transactions and track your financial goals."}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-6 py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200 mx-auto",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Connect Your First Bank"})]})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Connect Bank Account"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(A=>a.jsxs("button",{onClick:()=>S(A.id),disabled:g,className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:A.name}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to connect"})]})]},A.id))}),g&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),a.jsx("span",{className:"text-blue-700",children:"Connecting to bank..."})]})})]})]})})]})};bn.register(gi,pi,ua,xs,Vg,mi,er,Zs);const Vw=({userId:n})=>{const[e,t]=C.useState([]),[r,o]=C.useState(null),[l,d]=C.useState(null),[u,h]=C.useState(!0),[m,g]=C.useState(!1);C.useEffect(()=>{y()},[n]);const y=async()=>{try{h(!0);const j=[{id:1,name:"Retirement Portfolio",totalValue:125e3,totalGain:15e3,totalGainPercent:13.6,assets:[{symbol:"VTI",name:"Vanguard Total Stock Market",shares:100,price:250,value:25e3,allocation:20},{symbol:"VXUS",name:"Vanguard Total International",shares:80,price:60,value:4800,allocation:3.8},{symbol:"BND",name:"Vanguard Total Bond Market",shares:200,price:80,value:16e3,allocation:12.8},{symbol:"AAPL",name:"Apple Inc.",shares:50,price:180,value:9e3,allocation:7.2},{symbol:"MSFT",name:"Microsoft Corp.",shares:30,price:350,value:10500,allocation:8.4}],goalAmount:5e5,goalDate:"2035-12-31"},{id:2,name:"Emergency Fund",totalValue:15e3,totalGain:500,totalGainPercent:3.4,assets:[{symbol:"VMFXX",name:"Vanguard Federal Money Market",shares:15e3,price:1,value:15e3,allocation:100}],goalAmount:25e3,goalDate:"2025-06-30"}];t(j),j.length>0&&(o(j[0]),v(j[0].id))}catch(j){console.error("Error loading portfolios:",j)}finally{h(!1)}},v=async j=>{try{d({dailyReturns:[{date:"2024-01-01",value:1e5},{date:"2024-01-02",value:101e3},{date:"2024-01-03",value:100500},{date:"2024-01-04",value:102e3},{date:"2024-01-05",value:103500},{date:"2024-01-06",value:102800},{date:"2024-01-07",value:104200},{date:"2024-01-08",value:105e3},{date:"2024-01-09",value:104500},{date:"2024-01-10",value:106e3}],monthlyReturns:[{month:"Jan",return:2.5},{month:"Feb",return:-1.2},{month:"Mar",return:3.8},{month:"Apr",return:1.5},{month:"May",return:-.8},{month:"Jun",return:4.2}],yearlyReturn:12.5,volatility:8.2,sharpeRatio:1.52})}catch(S){console.error("Error loading performance:",S)}},b=()=>l?.dailyReturns?{data:{labels:l.dailyReturns.map(_=>new Date(_.date).toLocaleDateString()),datasets:[{label:"Portfolio Value",data:l.dailyReturns.map(_=>_.value),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Portfolio Performance"}},scales:{y:{beginAtZero:!1,ticks:{callback:function(_){return"$"+_.toLocaleString()}}}}}}:null,k=()=>r?.assets?{data:{labels:r.assets.map(_=>_.symbol),datasets:[{data:r.assets.map(_=>_.allocation),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"],borderWidth:0}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Asset Allocation"},legend:{position:"bottom"}}}}:null,w=()=>l?.monthlyReturns?{data:{labels:l.monthlyReturns.map(_=>_.month),datasets:[{label:"Monthly Return (%)",data:l.monthlyReturns.map(_=>_.return),backgroundColor:l.monthlyReturns.map(_=>_.return>=0?"#10B981":"#EF4444"),borderColor:l.monthlyReturns.map(_=>_.return>=0?"#059669":"#DC2626"),borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Monthly Returns"}},scales:{y:{ticks:{callback:function(_){return _+"%"}}}}}}:null;return u?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Investment Portfolios"}),a.jsx("p",{className:"text-gray-600",children:"Track your investment performance and portfolio allocation"})]}),a.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Add Portfolio"})]})]}),e.length>0&&a.jsx("div",{className:"flex space-x-2 mb-4",children:e.map(j=>a.jsx("button",{onClick:()=>{o(j),v(j.id)},className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${r?.id===j.id?"bg-indigo-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.name},j.id))})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Portfolio Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Total Value"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["$",r.totalValue.toLocaleString()]})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-600",children:"Total Gain"}),a.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["$",r.totalGain.toLocaleString()]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Gain %"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[r.totalGainPercent.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-orange-600",children:"Goal Progress"}),a.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[(r.totalValue/r.goalAmount*100).toFixed(1),"%"]})]})]})]}),b()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Chart"}),a.jsx("div",{className:"h-64",children:a.jsx(di,{...b()})})]}),k()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asset Allocation"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{className:"h-64",children:a.jsx(kw,{...k()})}),a.jsx("div",{className:"space-y-3",children:r.assets.map((j,S)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"][S%5]}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:j.symbol}),a.jsx("div",{className:"text-sm text-gray-600",children:j.name})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:[j.allocation.toFixed(1),"%"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["$",j.value.toLocaleString()]})]})]},S))})]})]}),w()&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Returns"}),a.jsx("div",{className:"h-64",children:a.jsx(di,{...w()})})]}),l&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-600",children:"Yearly Return"}),a.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[l.yearlyReturn.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Volatility"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[l.volatility.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Sharpe Ratio"}),a.jsx("div",{className:"text-2xl font-bold text-purple-900",children:l.sharpeRatio.toFixed(2)})]})]})]})]}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Investment Portfolios"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first investment portfolio to start tracking your investments."}),a.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-6 py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200 mx-auto",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Create Portfolio"})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Investment Portfolio"}),a.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-gray-600",children:"Portfolio creation feature will be available in the next update."}),a.jsx("button",{onClick:()=>g(!1),className:"mt-4 px-6 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:"Close"})]})})]})})]})},Hw=({userId:n})=>{const[e,t]=C.useState([]),[r,o]=C.useState([]),[l,d]=C.useState(!0),[u,h]=C.useState(!1),[m,g]=C.useState({name:"",amount:"",dueDate:"",category:"",isRecurring:!1,frequency:"monthly",autoPay:!1});C.useEffect(()=>{y()},[n]);const y=async()=>{try{d(!0);const _=[{id:1,name:"Electric Bill",amount:120.5,dueDate:"2024-01-15",category:"Utilities",isRecurring:!0,frequency:"monthly",autoPay:!0,status:"paid",paidDate:"2024-01-10"},{id:2,name:"Internet Bill",amount:79.99,dueDate:"2024-01-20",category:"Utilities",isRecurring:!0,frequency:"monthly",autoPay:!0,status:"upcoming",paidDate:null},{id:3,name:"Credit Card Payment",amount:450,dueDate:"2024-01-25",category:"Debt",isRecurring:!0,frequency:"monthly",autoPay:!1,status:"upcoming",paidDate:null},{id:4,name:"Car Insurance",amount:180,dueDate:"2024-02-01",category:"Insurance",isRecurring:!0,frequency:"monthly",autoPay:!0,status:"upcoming",paidDate:null}];t(_);const T=new Date,E=new Date(T.getTime()+720*60*60*1e3),P=_.filter(A=>{const z=new Date(A.dueDate);return z>=T&&z<=E&&A.status==="upcoming"});o(P)}catch(_){console.error("Error loading bills:",_)}finally{d(!1)}},v=async()=>{try{const _={...m,id:Date.now(),amount:parseFloat(m.amount),status:"upcoming",paidDate:null};t(T=>[...T,_]),g({name:"",amount:"",dueDate:"",category:"",isRecurring:!1,frequency:"monthly",autoPay:!1}),h(!1),await y()}catch(_){console.error("Error adding bill:",_)}},b=async _=>{try{t(T=>T.map(E=>E.id===_?{...E,status:"paid",paidDate:new Date().toISOString().split("T")[0]}:E)),await y()}catch(T){console.error("Error paying bill:",T)}},k=async _=>{try{t(T=>T.map(E=>E.id===_?{...E,autoPay:!E.autoPay}:E))}catch(T){console.error("Error toggling auto pay:",T)}},w=_=>{switch(_){case"paid":return"text-green-600 bg-green-50";case"upcoming":return"text-yellow-600 bg-yellow-50";case"overdue":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},j=_=>{switch(_){case"Utilities":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"Insurance":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});case"Debt":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});default:return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V5M10 9l2 2 4-4"})})}},S=_=>{const T=new Date,P=new Date(_)-T;return Math.ceil(P/(1e3*60*60*24))};return l?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Bill Payment Automation"}),a.jsx("p",{className:"text-gray-600",children:"Manage your recurring bills and automate payments"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Add Bill"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Total Bills"}),a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-yellow-600",children:"Upcoming"}),a.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:r.length})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm font-medium text-green-600",children:"Auto Pay"}),a.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(_=>_.autoPay).length})]})]})]}),r.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Bills (Next 30 Days)"}),a.jsx("div",{className:"space-y-3",children:r.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:j(_.category)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold text-gray-900",children:_.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Due: ",new Date(_.dueDate).toLocaleDateString()]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[S(_.dueDate)," days"]}),_.isRecurring&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"capitalize",children:_.frequency})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",_.amount.toFixed(2)]}),a.jsx("div",{className:"text-sm text-gray-600",children:_.autoPay?"Auto Pay":"Manual"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!_.autoPay&&a.jsx("button",{onClick:()=>b(_.id),className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200 text-sm",children:"Pay Now"}),a.jsx("button",{onClick:()=>k(_.id),className:`px-3 py-1 rounded-lg transition-all duration-200 text-sm ${_.autoPay?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_.autoPay?"Auto On":"Auto Off"})]})]})]},_.id))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Bills"}),a.jsx("div",{className:"space-y-3",children:e.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:j(_.category)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h5",{className:"font-semibold text-gray-900",children:_.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(_.status)}`,children:_.status})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Due: ",new Date(_.dueDate).toLocaleDateString()]}),_.isRecurring&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"capitalize",children:_.frequency})]}),_.autoPay&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"text-green-600",children:"Auto Pay"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",_.amount.toFixed(2)]}),_.paidDate&&a.jsxs("div",{className:"text-sm text-green-600",children:["Paid: ",new Date(_.paidDate).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[_.status==="upcoming"&&!_.autoPay&&a.jsx("button",{onClick:()=>b(_.id),className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-200 text-sm",children:"Pay Now"}),a.jsx("button",{onClick:()=>k(_.id),className:`px-3 py-1 rounded-lg transition-all duration-200 text-sm ${_.autoPay?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_.autoPay?"Auto On":"Auto Off"})]})]})]},_.id))})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Bill"}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Name"}),a.jsx("input",{type:"text",value:m.name,onChange:_=>g({...m,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g., Electric Bill"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:m.amount,onChange:_=>g({...m,amount:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),a.jsx("input",{type:"date",value:m.dueDate,onChange:_=>g({...m,dueDate:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{value:m.category,onChange:_=>g({...m,category:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"",children:"Select Category"}),a.jsx("option",{value:"Utilities",children:"Utilities"}),a.jsx("option",{value:"Insurance",children:"Insurance"}),a.jsx("option",{value:"Debt",children:"Debt"}),a.jsx("option",{value:"Subscription",children:"Subscription"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:m.isRecurring,onChange:_=>g({...m,isRecurring:_.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Recurring Bill"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:m.autoPay,onChange:_=>g({...m,autoPay:_.target.checked}),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Auto Pay"})]})]}),m.isRecurring&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),a.jsxs("select",{value:m.frequency,onChange:_=>g({...m,frequency:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),a.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:"Add Bill"})]})]})]})})]})},r0=({userId:n})=>{const[e,t]=C.useState([]),[r,o]=C.useState(!0),[l,d]=C.useState(!1),[u,h]=C.useState("goals"),[m,g]=C.useState(""),[y,v]=C.useState(0);C.useEffect(()=>{b()},[n,y]);const b=async()=>{try{o(!0),console.log("Loading goals for user:",n);const _=await Lt.getUserGoals(n);console.log("Goals API response:",_),_.success?(console.log("Setting goals:",_.goals),t(_.goals)):console.error("Failed to load goals:",_.error)}catch(_){console.error("Error loading goals:",_)}finally{o(!1)}},k=async _=>{try{const T=await Lt.createGoal({..._,userId:n});T.success?(g("Goal created successfully!"),setTimeout(()=>g(""),3e3),d(!1),v(E=>E+1)):(g("Error creating goal: "+T.error),setTimeout(()=>g(""),5e3))}catch(T){console.error("Error creating goal:",T),g("Error creating goal"),setTimeout(()=>g(""),5e3)}},w=async(_,T)=>{try{const E=await Lt.updateGoal(_,T);E.success?(g("Goal updated successfully!"),setTimeout(()=>g(""),3e3),v(P=>P+1)):(g("Error updating goal: "+E.error),setTimeout(()=>g(""),5e3))}catch(E){console.error("Error updating goal:",E),g("Error updating goal"),setTimeout(()=>g(""),5e3)}},j=async _=>{if(window.confirm("Are you sure you want to delete this goal?"))try{const T=await Lt.deleteGoal(_);T.success?(g("Goal deleted successfully!"),setTimeout(()=>g(""),3e3),v(E=>E+1)):(g("Error deleting goal: "+T.error),setTimeout(()=>g(""),5e3))}catch(T){console.error("Error deleting goal:",T),g("Error deleting goal"),setTimeout(()=>g(""),5e3)}},S=async(_,T)=>{try{if(!_||!T){g("Error: Missing required data"),setTimeout(()=>g(""),5e3);return}if(typeof _!="number"&&typeof _!="string"){g("Error: Invalid goal ID"),setTimeout(()=>g(""),5e3);return}if(typeof T!="object"||T===null){g("Error: Invalid transaction data"),setTimeout(()=>g(""),5e3);return}console.log("Calling GoalsService.addGoalTransaction with:",{goalId:_,transactionData:T});const E=await Lt.addGoalTransaction(_,T);console.log("Transaction API response:",E),E.success?(g("Transaction added successfully!"),setTimeout(()=>g(""),3e3),console.log("Reloading goals after successful transaction..."),v(P=>P+1)):(g("Error adding transaction: "+E.error),setTimeout(()=>g(""),5e3))}catch(E){console.error("Error adding transaction:",E),g("Error adding transaction"),setTimeout(()=>g(""),5e3)}};return r?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-32 bg-gray-200 rounded"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]})}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Financial Goals"}),a.jsx("p",{className:"text-gray-600",children:"Track your financial objectives"})]})]}),u==="goals"&&a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"New Goal"})]})]}),a.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 rounded-xl p-1",children:[a.jsx("button",{onClick:()=>h("goals"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all duration-200 ${u==="goals"?"bg-white text-indigo-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Goals"}),a.jsx("button",{onClick:()=>h("banking"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all duration-200 ${u==="banking"?"bg-white text-indigo-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Banking"}),a.jsx("button",{onClick:()=>h("investments"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all duration-200 ${u==="investments"?"bg-white text-indigo-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Investments"}),a.jsx("button",{onClick:()=>h("bills"),className:`flex-1 py-3 px-6 rounded-lg font-medium transition-all duration-200 ${u==="bills"?"bg-white text-indigo-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:"Bills"})]}),m&&a.jsx("div",{className:`mb-6 px-4 py-3 rounded-lg ${m.includes("successfully")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:m}),u==="goals"&&a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"mb-8",children:a.jsx(Bw,{goals:e})}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-6 inline-block",children:a.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Goals Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first financial goal to start tracking your progress"}),a.jsx("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Create Your First Goal"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(_=>a.jsx(Iw,{goal:_,onUpdate:w,onDelete:j,onAddTransaction:S},_.id))})]}),u==="banking"&&a.jsx(Ww,{userId:n,onTransactionsImported:_=>{}}),u==="investments"&&a.jsx(Vw,{userId:n}),u==="bills"&&a.jsx(Hw,{userId:n}),l&&a.jsx(zw,{onClose:()=>d(!1),onSubmit:k})]})},Uw=()=>{const[n,e]=C.useState({totalTransactions:0,aiCategorized:0,accuracy:0,timeSaved:0,categories:8}),[t,r]=C.useState(!0),[o,l]=C.useState(null);C.useEffect(()=>{d();const h=setInterval(d,3e4);return()=>clearInterval(h)},[]);const d=async()=>{try{r(!0);const h={totalTransactions:Math.floor(Math.random()*500)+200,aiCategorized:Math.floor(Math.random()*400)+150,accuracy:Math.random()*.15+.85,timeSaved:Math.floor(Math.random()*20)+5,categories:8};e(h),l(new Date)}catch(h){console.error("Error loading performance metrics:",h)}finally{r(!1)}},u=h=>h>=.95?"green":h>=.85?"yellow":"red";return t?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(ga,{size:"lg",color:"blue"})})}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your AI Assistant"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",o?.toLocaleTimeString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Transactions"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.totalTransactions.toLocaleString()})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"AI Categorized"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.aiCategorized.toLocaleString()})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("div",{className:"mt-2",children:a.jsx($m,{progress:n.aiCategorized/n.totalTransactions*100,color:"green"})})]}),a.jsx("div",{className:"bg-yellow-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Time Saved"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:[n.timeSaved," min"]})]}),a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-600",children:"AI Accuracy"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[Math.round(n.accuracy*100),"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),a.jsx("div",{className:"mt-2",children:a.jsx($m,{progress:n.accuracy*100,color:u(n.accuracy)})})]}),a.jsx("div",{className:"bg-indigo-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-indigo-600",children:"Categories"}),a.jsx("p",{className:"text-2xl font-bold text-indigo-900",children:n.categories})]}),a.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})]})}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:"Operational"})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})})]})})]})]})},Gw=({userId:n})=>{const[e,t]=C.useState(null),[r,o]=C.useState(!0),[l,d]=C.useState(null);C.useEffect(()=>{u()},[n]);const u=async()=>{try{o(!0),d(null);const b=await h();if(!b)throw new Error("Unable to load user data");const k=await jt.getComprehensiveFinancialInsights(b.transactions,b.incomeHistory,b.expenseHistory,b.goals,b.userProfile,b.marketConditions);if(k.success)t(k.insights);else throw new Error(k.error||"Failed to load regression insights")}catch(b){console.error("Error loading regression insights:",b),d(b.message)}finally{o(!1)}},h=async()=>{try{const b=await jt.getTransactions(n),k=b.success?b.transactions:[],w=await jt.getGoals(n),j=w.success?w.goals:[],S=m(k),_=g(k),T={monthlySavingsCapacity:y(S,_),incomeGrowthRate:v(S),expenseReductionRate:0,riskTolerance:"medium"};return{transactions:k,incomeHistory:S,expenseHistory:_,goals:j,userProfile:T,marketConditions:{volatility:.15,bullish:!0,interestRate:.05}}}catch(b){return console.error("Error loading user data:",b),null}},m=b=>{const k={};return b.filter(w=>w.transaction_type==="income").forEach(w=>{const j=new Date(w.transaction_date),S=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}`;k[S]=(k[S]||0)+w.amount}),Object.values(k).sort((w,j)=>w-j)},g=b=>{const k={};return b.filter(w=>w.transaction_type==="expense").forEach(w=>{const j=new Date(w.transaction_date),S=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}`;k[S]=(k[S]||0)+Math.abs(w.amount)}),Object.values(k).sort((w,j)=>w-j)},y=(b,k)=>{if(b.length===0||k.length===0)return 0;const w=b.reduce((S,_)=>S+_,0)/b.length,j=k.reduce((S,_)=>S+_,0)/k.length;return Math.max(0,w-j)},v=b=>{if(b.length<2)return 0;const k=b[0];return(b[b.length-1]-k)/k};return r?a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ga,{})})}):l?a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:"Error Loading Insights"}),a.jsx("p",{className:"text-gray-600 mb-4",children:l}),a.jsx("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Try Again"})]})}):e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Spending Trend Analysis"}),e.spendingTrend&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Current Average"}),a.jsxs("div",{className:"text-xl font-semibold text-blue-600",children:["$",e.spendingTrend.currentAverage?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Trend Type"}),a.jsx("div",{className:"text-lg font-semibold text-green-600 capitalize",children:e.spendingTrend.trend||"Unknown"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),a.jsxs("div",{className:"text-lg font-semibold text-purple-600",children:[Math.round((e.spendingTrend.confidence||0)*100),"%"]})]})]}),e.spendingTrend.predictions&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Next 3 Months Predictions"}),a.jsx("div",{className:"space-y-2",children:e.spendingTrend.predictions.map((b,k)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded",children:[a.jsxs("span",{className:"text-gray-600",children:["Month ",b.month]}),a.jsxs("span",{className:"font-semibold",children:["$",b.predictedAmount?.toFixed(2)||"0.00"]})]},k))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Income Growth Projection"}),e.incomeGrowth&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Growth Rate"}),a.jsxs("div",{className:"text-xl font-semibold text-green-600",children:[e.incomeGrowth.growthRate?.toFixed(2)||"0.00","%"]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Current Income"}),a.jsxs("div",{className:"text-xl font-semibold text-blue-600",children:["$",e.incomeGrowth.currentIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Trend"}),a.jsx("div",{className:"text-lg font-semibold text-purple-600 capitalize",children:e.incomeGrowth.trend||"Unknown"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Savings Capacity Analysis"}),e.savingsCapacity&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Current Capacity"}),a.jsxs("div",{className:"text-xl font-semibold text-green-600",children:["$",e.savingsCapacity.currentCapacity?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Projected Capacity"}),a.jsxs("div",{className:"text-xl font-semibold text-blue-600",children:["$",e.savingsCapacity.projectedCapacity?.toFixed(2)||"0.00"]})]})]}),e.savingsCapacity.projections&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Monthly Projections"}),a.jsx("div",{className:"space-y-2",children:e.savingsCapacity.projections.slice(0,6).map((b,k)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded",children:[a.jsxs("span",{className:"text-gray-600",children:["Month ",b.month]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Income: $",b.projectedIncome?.toFixed(2)||"0.00"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Expenses: $",b.projectedExpenses?.toFixed(2)||"0.00"]}),a.jsxs("div",{className:"font-semibold text-green-600",children:["Savings: $",b.projectedSavings?.toFixed(2)||"0.00"]})]})]},k))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Financial Risk Assessment"}),e.riskAssessment&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Overall Risk Score"}),a.jsxs("div",{className:"text-2xl font-semibold text-red-600",children:[Math.round((e.riskAssessment.overallRisk||0)*100),"%"]})]}),e.riskAssessment.risks&&e.riskAssessment.risks.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Identified Risks"}),a.jsx("div",{className:"space-y-2",children:e.riskAssessment.risks.map((b,k)=>a.jsxs("div",{className:`p-3 rounded ${b.severity==="high"?"bg-red-50 border-l-4 border-red-400":b.severity==="medium"?"bg-yellow-50 border-l-4 border-yellow-400":"bg-blue-50 border-l-4 border-blue-400"}`,children:[a.jsxs("div",{className:"font-medium text-gray-800 capitalize",children:[b.type.replace("_"," ")," (",b.severity,")"]}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:b.description}),a.jsx("div",{className:"text-sm text-blue-600 mt-1",children:b.mitigation})]},k))})]})]})]}),e.goalPredictions&&e.goalPredictions.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Goal Achievement Predictions"}),a.jsx("div",{className:"space-y-4",children:e.goalPredictions.map((b,k)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"font-medium text-gray-800 mb-2",children:b.goalName}),b.prediction&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Timeline"}),a.jsxs("div",{className:"font-semibold text-blue-600",children:[b.prediction.timeline," months"]})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Required"}),a.jsxs("div",{className:"font-semibold text-green-600",children:["$",b.prediction.monthlyRequired?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Probability"}),a.jsxs("div",{className:"font-semibold text-purple-600",children:[Math.round((b.prediction.probability||0)*100),"%"]})]})]})]},k))})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:u,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Refresh Insights"})})]}):a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"No regression insights available"})})},Yw=()=>{const n=Un(),[e,t]=C.useState(null),[r,o]=C.useState([]),[l,d]=C.useState([]),[u,h]=C.useState(null),[m,g]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const w=localStorage.getItem("currentUser");if(!w){n("/login");return}const j=JSON.parse(w);t(j);const{ApiService:S}=await qt(async()=>{const{ApiService:T}=await Promise.resolve().then(()=>Zt);return{ApiService:T}},void 0),_=await S.getDashboardData(j.id);_.success&&(o(_.accounts),d(_.transactions),_.accounts.length>0&&h(_.accounts[0].id))}catch(w){console.error("Error loading user data:",w)}finally{g(!1)}})()},[n]);const y=l.filter(k=>k.transaction_type==="income").reduce((k,w)=>k+parseFloat(w.amount),0),v=l.filter(k=>k.transaction_type==="expense").reduce((k,w)=>k+parseFloat(w.amount),0),b=y-v;return m?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Personal Finance"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Track your income and expenses"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs($t,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 text-gray-700 hover:text-gray-900",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.jsx("span",{children:"Profile"})]}),a.jsxs("button",{onClick:()=>n("/login"),className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{children:"Logout"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-green-400 to-green-500 rounded-xl",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Balance"})]}),a.jsxs("p",{className:`text-3xl font-bold ${b>=0?"text-green-600":"text-red-600"}`,children:["$",b.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b>=0?"Positive balance":"Negative balance"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Income"})]}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",y.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-400 to-red-500 rounded-xl",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Expenses"})]}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",v.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Transactions"}),a.jsx("p",{className:"text-gray-600",children:"Add income and expenses, view transaction history"})]})]}),a.jsxs($t,{to:"/profile?tab=transactions",className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("span",{children:"Add Income & Expenses"})]})]})})}),a.jsx("div",{className:"mb-8",children:a.jsx(r0,{userId:e.id})}),a.jsx("div",{className:"mb-8",children:a.jsx(Lw,{})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-green-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Predictive Analytics"})]}),a.jsx(Gw,{userId:e.id})]}),a.jsx("div",{className:"mb-8",children:a.jsx(Ew,{})}),a.jsx("div",{className:"mb-8",children:a.jsx(Uw,{})}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-purple-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Financial Analytics"})]}),a.jsx("div",{className:"mb-8",children:a.jsx(Mw,{transactions:l})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsx(_w,{transactions:l}),a.jsx(Sw,{transactions:l})]}),a.jsx("div",{className:"mb-8",children:a.jsx(Pw,{transactions:l})}),a.jsx("div",{className:"grid grid-cols-1 gap-8",children:a.jsx(Cw,{transactions:l})})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please log in"}),a.jsx("button",{onClick:()=>n("/login"),className:"px-6 py-3 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:"Go to Login"})]})})},Kw=({userId:n,onAccountSelect:e,selectedAccountId:t})=>{const[r,o]=C.useState([]),[l,d]=C.useState(!0),[u,h]=C.useState(!1),[m,g]=C.useState({accountType:"checking",accountName:"",initialBalance:0}),[y,v]=C.useState(!1);C.useEffect(()=>{b()},[n]);const b=async()=>{try{const{ApiService:S}=await qt(async()=>{const{ApiService:T}=await Promise.resolve().then(()=>Zt);return{ApiService:T}},void 0),_=await S.getUserAccounts(n);_.success&&(o(_.accounts),_.accounts.length>0&&!t&&e(_.accounts[0].id))}catch(S){console.error("Error loading accounts:",S)}finally{d(!1)}},k=async S=>{if(S.preventDefault(),!!m.accountName.trim()){v(!0);try{const{ApiService:_}=await qt(async()=>{const{ApiService:E}=await Promise.resolve().then(()=>Zt);return{ApiService:E}},void 0),T=await _.createAccount(n,m.accountType,m.accountName,parseFloat(m.initialBalance)||0);T.success&&(g({accountType:"checking",accountName:"",initialBalance:0}),h(!1),await b(),e(T.accountId))}catch(_){console.error("Error creating account:",_)}finally{v(!1)}}},w=S=>{switch(S){case"checking":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-6 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"savings":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});case"credit":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-6 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});case"investment":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})});case"cash":return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})});default:return a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-6 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}},j=S=>{switch(S){case"checking":return"bg-blue-500";case"savings":return"bg-green-500";case"credit":return"bg-red-500";case"investment":return"bg-purple-500";case"cash":return"bg-yellow-500";default:return"bg-gray-500"}};return l?a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-12 bg-gray-200 rounded"}),a.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg mr-3",children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-6 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Accounts"})]}),a.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-2 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Add Account"})]})]}),u&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Account"}),a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),a.jsxs("select",{value:m.accountType,onChange:S=>g({...m,accountType:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"checking",children:"Checking"}),a.jsx("option",{value:"savings",children:"Savings"}),a.jsx("option",{value:"credit",children:"Credit Card"}),a.jsx("option",{value:"investment",children:"Investment"}),a.jsx("option",{value:"cash",children:"Cash"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name"}),a.jsx("input",{type:"text",value:m.accountName,onChange:S=>g({...m,accountName:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Main Checking",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Balance"}),a.jsx("input",{type:"number",step:"0.01",value:m.initialBalance,onChange:S=>g({...m,initialBalance:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:opacity-50 transition-all duration-200",children:y?"Creating...":"Create Account"}),a.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-3",children:r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-6 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No accounts yet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Create your first account to get started"})]}):r.map(S=>a.jsx("div",{onClick:()=>e(S.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${t===S.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${j(S.account_type)}`,children:a.jsx("div",{className:"text-white",children:w(S.account_type)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:S.account_name}),a.jsx("p",{className:"text-sm text-gray-500 capitalize",children:S.account_type})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",parseFloat(S.balance).toFixed(2)]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Balance"})]})]})},S.id))})]})},Wm=({selectedAccountId:n,onTransactionAdded:e,transactionType:t="expense"})=>{const[r,o]=C.useState({description:"",amount:"",category:"",transactionDate:new Date().toISOString().split("T")[0]}),[l,d]=C.useState(null),[u,h]=C.useState(!1),[m,g]=C.useState(!1),[y,v]=C.useState(!1),b=C.useCallback(async P=>{if(!P||typeof P!="string"||P.trim().length<3){d(null),g(!1);return}console.log("Getting ML prediction for:",P,"Type:",typeof P),h(!0);try{const A=await jt.getMLCategorization([P.trim()]);if(console.log("ML prediction result:",A),A.success&&A.predictions&&A.predictions.length>0){const z=A.predictions[0];d(z),g(!0)}else d(null),g(!1)}catch(A){console.error("Error getting ML prediction:",A),d(null),g(!1)}finally{h(!1)}},[]);C.useEffect(()=>{const P=setTimeout(()=>{r.description&&typeof r.description=="string"&&r.description.trim().length>=3?(console.log("Triggering ML prediction for:",r.description),b(r.description)):(d(null),g(!1))},500);return()=>clearTimeout(P)},[r.description,b]);const k=P=>{const{name:A,value:z}=P.target;console.log("Input change:",A,z,"Type:",typeof z);const $=A==="description"?String(z):z;o(Y=>({...Y,[A]:$}))},w=()=>{l&&(o(P=>({...P,category:l.category})),g(!1))},j=()=>{g(!1),d(null)},S=async P=>{if(P.preventDefault(),!n){alert("Please select an account first");return}v(!0);try{const A=await jt.createTransaction(n,parseFloat(r.amount),r.category,t,r.description,r.transactionDate);A.success?(l&&m&&await jt.updateMLPrediction(A.transactionId,l.category,l.confidence,!0),o({description:"",amount:"",category:"",transactionDate:new Date().toISOString().split("T")[0]}),d(null),g(!1),e&&e(),alert("Transaction added successfully!")):alert("Error adding transaction: "+A.error)}catch(A){console.error("Error submitting transaction:",A),alert("Error adding transaction")}finally{v(!1)}},_=P=>P>=.8?"text-green-600 bg-green-100":P>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",T=P=>P>=.8?"":P>=.6?"":"",E=t==="income"?["salary","freelance","bonus","investment","business","other"]:["housing","food","transportation","utilities","healthcare","entertainment","shopping","other"];return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Add ",t==="income"?"Income":"Expense"]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"description",value:r.description,onChange:k,placeholder:"Enter transaction description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),u&&a.jsx("div",{className:"absolute right-3 top-3",children:a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),m&&l&&a.jsxs("div",{className:"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["ML Suggestion: ",l.category]}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(l.confidence)}`,children:[T(l.confidence)," ",Math.round(l.confidence*100),"% confidence"]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:w,className:"px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-colors",children:"Accept"}),a.jsx("button",{type:"button",onClick:j,className:"px-3 py-1 bg-gray-500 text-white text-sm rounded hover:bg-gray-600 transition-colors",children:"Reject"})]})]}),l.confidence<.7&&a.jsx("div",{className:"text-sm text-orange-600 font-medium",children:" Low confidence - please review manually"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount"}),a.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:k,placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{name:"category",value:r.category,onChange:k,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),E.map(P=>a.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("input",{type:"date",name:"transactionDate",value:r.transactionDate,onChange:k,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?"Adding...":`Add ${t==="income"?"Income":"Expense"}`})]})]})},Xw=({transactions:n,onTransactionUpdate:e,showMLPredictions:t=!0})=>{const[r,o]=C.useState("all"),[l,d]=C.useState("date"),[u,h]=C.useState(n);C.useEffect(()=>{let v=[...n];switch(r){case"ml-predicted":v=v.filter(b=>b.is_ml_predicted);break;case"needs-review":v=v.filter(b=>b.ml_confidence<.7&&b.is_ml_predicted);break;case"high-confidence":v=v.filter(b=>b.ml_confidence>=.8&&b.is_ml_predicted);break;case"manual-override":v=v.filter(b=>b.manual_override);break}switch(l){case"date":v.sort((b,k)=>new Date(k.transaction_date)-new Date(b.transaction_date));break;case"amount":v.sort((b,k)=>parseFloat(k.amount)-parseFloat(b.amount));break;case"confidence":v.sort((b,k)=>(k.ml_confidence||0)-(b.ml_confidence||0));break;case"category":v.sort((b,k)=>(b.category||"").localeCompare(k.category||""));break}h(v)},[n,r,l]);const m=async(v,b)=>{try{(await jt.updateMLPrediction(v,b,1,!1)).success&&e&&e()}catch(k){console.error("Error updating ML prediction:",k)}},g=v=>v==="income"?"text-green-600 bg-green-100":"text-red-600 bg-red-100",y=v=>t?v.manual_override?a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Manual Override"}):v.is_ml_predicted?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"ML Predicted"}),a.jsx(na,{confidence:v.ml_confidence||0,size:"xs"})]}):a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Manual Entry"}):null;return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("select",{value:r,onChange:v=>o(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Transactions"}),a.jsx("option",{value:"ml-predicted",children:"ML Predicted"}),a.jsx("option",{value:"needs-review",children:"Needs Review"}),a.jsx("option",{value:"high-confidence",children:"High Confidence"}),a.jsx("option",{value:"manual-override",children:"Manual Override"})]}),a.jsxs("select",{value:l,onChange:v=>d(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"date",children:"Sort by Date"}),a.jsx("option",{value:"amount",children:"Sort by Amount"}),a.jsx("option",{value:"confidence",children:"Sort by Confidence"}),a.jsx("option",{value:"category",children:"Sort by Category"})]})]})]}),t&&a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.filter(v=>v.is_ml_predicted).length}),a.jsx("div",{className:"text-gray-600",children:"ML Predicted"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.filter(v=>v.ml_confidence<.7&&v.is_ml_predicted).length}),a.jsx("div",{className:"text-gray-600",children:"Need Review"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(v=>v.ml_confidence>=.8&&v.is_ml_predicted).length}),a.jsx("div",{className:"text-gray-600",children:"High Confidence"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.filter(v=>v.manual_override).length}),a.jsx("div",{className:"text-gray-600",children:"Manual Override"})]})]})]}),a.jsx("div",{className:"divide-y divide-gray-200",children:u.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No transactions found"}):u.map(v=>a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:v.description}),y(v)]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(v.transaction_type)}`,children:v.transaction_type}),a.jsxs("span",{children:["Category: ",v.category]}),a.jsxs("span",{children:["Date: ",new Date(v.transaction_date).toLocaleDateString()]}),v.account_name&&a.jsxs("span",{children:["Account: ",v.account_name]})]}),t&&v.is_ml_predicted&&a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["ML Category: ",a.jsx("span",{className:"font-medium",children:v.ml_category})]}),a.jsx(na,{confidence:v.ml_confidence||0,size:"xs",showLabel:!0})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-lg font-semibold ${v.transaction_type==="income"?"text-green-600":"text-red-600"}`,children:[v.transaction_type==="income"?"+":"-","$",parseFloat(v.amount).toFixed(2)]}),t&&v.ml_confidence<.7&&v.is_ml_predicted&&a.jsxs("div",{className:"mt-2 flex space-x-2",children:[a.jsx("button",{onClick:()=>m(v.id,v.ml_category),className:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600 transition-colors",children:"Accept ML"}),a.jsx("button",{onClick:()=>m(v.id,v.category),className:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 transition-colors",children:"Use Manual"})]})]})]})},v.id))})]})},Qw=({onReviewComplete:n})=>{const[e,t]=C.useState([]),[r,o]=C.useState(!0),[l,d]=C.useState(new Set),[u,h]=C.useState(""),[m,g]=C.useState(!1);C.useEffect(()=>{y()},[]);const y=async()=>{o(!0);try{const S=await jt.getMLReviewTransactions();S.success&&t(S.transactions)}catch(S){console.error("Error loading review transactions:",S)}finally{o(!1)}},v=async(S,_,T=!1)=>{try{(await jt.updateMLPrediction(S,_,T?1:.9,T)).success&&(t(P=>P.filter(A=>A.id!==S)),n&&n())}catch(E){console.error("Error updating transaction:",E)}},b=async()=>{if(!(l.size===0||!u)){g(!0);try{const S=Array.from(l).map(_=>jt.updateMLPrediction(_,u,.9,!1));await Promise.all(S),t(_=>_.filter(T=>!l.has(T.id))),d(new Set),h(""),n&&n()}catch(S){console.error("Error in bulk update:",S)}finally{g(!1)}}},k=S=>{const _=new Set(l);_.has(S)?_.delete(S):_.add(S),d(_)},w=()=>{l.size===e.length?d(new Set):d(new Set(e.map(S=>S.id)))},j=["housing","food","transportation","utilities","healthcare","entertainment","shopping","other"];return r?a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading review transactions..."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ML Review Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," transactions need manual review"]})]}),e.length>0&&a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:l.size===e.length?"Deselect All":"Select All"})})]})}),l.size>0&&a.jsx("div",{className:"p-4 bg-blue-50 border-b border-blue-200",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[l.size," transactions selected"]}),a.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select category for bulk update"}),j.map(S=>a.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))]}),a.jsx("button",{onClick:b,disabled:!u||m,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Processing...":"Apply to Selected"})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All caught up!"}),a.jsx("p",{className:"text-gray-600",children:"No transactions currently need manual review."})]}):e.map(S=>a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("input",{type:"checkbox",checked:l.has(S.id),onChange:()=>k(S.id),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S.description}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(na,{confidence:S.ml_confidence||0,size:"sm",showLabel:!0}),a.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["-$",parseFloat(S.amount).toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[a.jsxs("span",{children:["Date: ",new Date(S.transaction_date).toLocaleDateString()]}),a.jsxs("span",{children:["Account: ",S.account_name]}),a.jsxs("span",{children:["Current Category: ",S.category]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["ML Predicted: ",S.ml_category]}),a.jsxs("span",{className:"ml-2 text-sm text-yellow-600",children:["(Confidence: ",Math.round((S.ml_confidence||0)*100),"%)"]})]}),a.jsx("div",{children:a.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["Manual Category: ",S.category]})})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>v(S.id,S.ml_category,!0),className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors",children:"Accept ML Prediction"}),a.jsx("button",{onClick:()=>v(S.id,S.category,!1),className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",children:"Keep Manual Category"}),a.jsxs("select",{onChange:_=>v(S.id,_.target.value,!1),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Choose different category"}),j.map(_=>a.jsx("option",{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))]})]})]})]})},S.id))})]})};class qw extends sa.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Refresh Page"}),a.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 transition-colors",children:"Try Again"})]})]}),!1]})}):this.props.children}}const Jw=()=>{const n=Un(),[e]=rg(),[t,r]=C.useState(null),[o,l]=C.useState(!1),[d,u]=C.useState({firstName:"",lastName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[h,m]=C.useState({}),[g,y]=C.useState(!1),[v,b]=C.useState(""),[k,w]=C.useState([]),[j,S]=C.useState([]),[_,T]=C.useState(null),[E,P]=C.useState("profile");C.useEffect(()=>{const se=localStorage.getItem("currentUser");if(se){const ee=JSON.parse(se);r(ee),u({firstName:ee.firstName||"",lastName:ee.lastName||"",email:ee.email||"",currentPassword:"",newPassword:"",confirmPassword:""}),ee.id?A(ee.id):z(ee.email)}else n("/login");const fe=e.get("tab");fe==="transactions"?P("transactions"):fe==="goals"&&P("goals")},[n,e]);const A=async se=>{try{const{ApiService:fe}=await qt(async()=>{const{ApiService:ie}=await Promise.resolve().then(()=>Zt);return{ApiService:ie}},void 0),ee=await fe.getDashboardData(se);ee.success&&(w(ee.accounts),S(ee.transactions),ee.accounts.length>0&&!_&&T(ee.accounts[0].id))}catch(fe){console.error("Error loading user data:",fe)}},z=async se=>{try{const{ApiService:fe}=await qt(async()=>{const{ApiService:ie}=await Promise.resolve().then(()=>Zt);return{ApiService:ie}},void 0),ee=await fe.getUserByEmail(se);ee.success&&ee.user&&await A(ee.user.id)}catch(fe){console.error("Error loading user data by email:",fe)}},$=se=>{T(se)},Y=()=>{localStorage.removeItem("currentUser"),n("/login")},Z=se=>{const{name:fe,value:ee}=se.target;u(ie=>({...ie,[fe]:ee})),h[fe]&&m(ie=>({...ie,[fe]:""}))},re=()=>{const se={};return d.firstName.trim()||(se.firstName="First name is required"),d.lastName.trim()||(se.lastName="Last name is required"),d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(se.email="Email is invalid"):se.email="Email is required",d.newPassword&&d.newPassword.length<6&&(se.newPassword="Password must be at least 6 characters"),d.newPassword!==d.confirmPassword&&(se.confirmPassword="Passwords do not match"),m(se),Object.keys(se).length===0},le=async se=>{if(se.preventDefault(),!!re()){y(!0),b("");try{const{ApiService:fe}=await qt(async()=>{const{ApiService:ie}=await Promise.resolve().then(()=>Zt);return{ApiService:ie}},void 0),ee=await fe.updateUser(t.id,{firstName:d.firstName,lastName:d.lastName,email:d.email,password:d.newPassword||void 0});if(ee.success){const ie={...t,firstName:d.firstName,lastName:d.lastName,email:d.email};localStorage.setItem("currentUser",JSON.stringify(ie)),r(ie),b("Profile updated successfully!"),l(!1),u(de=>({...de,currentPassword:"",newPassword:"",confirmPassword:""}))}else b("Error updating profile: "+ee.error)}catch(fe){console.error("Error updating profile:",fe),b("Error updating profile")}finally{y(!1)}}};return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Personal Finance"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Manage your profile and transactions"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs($t,{to:"/dashboard",className:"flex items-center space-x-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 text-gray-700 hover:text-gray-900",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})}),a.jsx("span",{children:"Dashboard"})]}),a.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a.jsx("span",{children:"Logout"})]})]})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>P("profile"),className:`flex-1 py-2 px-4 rounded-md font-medium transition-all duration-200 ${E==="profile"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Profile"}),a.jsx("button",{onClick:()=>P("transactions"),className:`flex-1 py-2 px-4 rounded-md font-medium transition-all duration-200 ${E==="transactions"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Transactions"}),a.jsx("button",{onClick:()=>P("goals"),className:`flex-1 py-2 px-4 rounded-md font-medium transition-all duration-200 ${E==="goals"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Goals"})]})}),E==="profile"&&a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-xl mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account information"})]})]}),!o&&a.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Edit Profile"})]}),v&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${v.includes("success")?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:v}),a.jsxs("form",{onSubmit:le,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:Z,disabled:!o,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${h.firstName?"border-red-300":"border-gray-300"} ${o?"":"bg-gray-50"}`}),h.firstName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:Z,disabled:!o,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${h.lastName?"border-red-300":"border-gray-300"} ${o?"":"bg-gray-50"}`}),h.lastName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.lastName})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:d.email,onChange:Z,disabled:!o,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${h.email?"border-red-300":"border-gray-300"} ${o?"":"bg-gray-50"}`}),h.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]}),o&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",name:"currentPassword",value:d.currentPassword,onChange:Z,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",placeholder:"Enter current password to make changes"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:Z,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${h.newPassword?"border-red-300":"border-gray-300"}`,placeholder:"Leave blank to keep current"}),h.newPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.newPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:Z,className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 ${h.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm new password"}),h.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword})]})]})]}),o&&a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",disabled:g,className:"flex-1 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white py-3 px-4 rounded-xl font-medium hover:from-indigo-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50",children:g?"Updating...":"Update Profile"}),a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 bg-gray-500 text-white rounded-xl font-medium hover:bg-gray-600 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Cancel"})]})]})]})}),E==="transactions"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:a.jsx(Kw,{userId:t.id,onAccountSelect:$,selectedAccountId:_})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(Wm,{selectedAccountId:_,onTransactionAdded:A,transactionType:"expense"}),a.jsx(Wm,{selectedAccountId:_,onTransactionAdded:A,transactionType:"income"})]}),a.jsx(Xw,{transactions:j,onTransactionUpdate:A,showMLPredictions:!0}),a.jsx(Qw,{onReviewComplete:A})]}),E==="goals"&&a.jsx(r0,{userId:t.id})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})})},Zw=()=>{const[n,e]=C.useState(""),[t,r]=C.useState(!1),[o,l]=C.useState(""),[d,u]=C.useState(""),h=async m=>{if(m.preventDefault(),!n){u("Email is required");return}if(!/\S+@\S+\.\S+/.test(n)){u("Please enter a valid email address");return}r(!0),u(""),l("");try{const{ApiService:g}=await qt(async()=>{const{ApiService:v}=await Promise.resolve().then(()=>Zt);return{ApiService:v}},void 0),y=await g.forgotPassword(n);y.success?l("Password reset instructions have been sent to your email address."):u(y.message||"Failed to send reset email. Please try again.")}catch(g){console.error("Forgot password error:",g),u("An error occurred. Please try again.")}finally{r(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Forgot your password?"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"card",children:a.jsxs("form",{className:"space-y-6",onSubmit:h,children:[d&&a.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-600 px-4 py-3 rounded-lg",children:d}),o&&a.jsx("div",{className:"bg-success-50 border border-success-200 text-success-600 px-4 py-3 rounded-lg",children:o}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n,onChange:m=>e(m.target.value),className:"input",placeholder:"Enter your email address",disabled:t})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:t||!n,className:`btn w-full flex justify-center items-center ${n&&!t?"btn-primary":"btn-primary opacity-50"}`,children:t?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Instructions"})}),a.jsx("div",{className:"text-center",children:a.jsx($t,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Sign In"})})]})})})]})},ej=()=>{const n=Un(),[e]=rg(),[t,r]=C.useState({password:"",confirmPassword:""}),[o,l]=C.useState({}),[d,u]=C.useState(!1),[h,m]=C.useState(""),[g,y]=C.useState(""),[v,b]=C.useState("");C.useEffect(()=>{const S=e.get("token");S?b(S):y("Invalid or missing reset token")},[e]);const k=S=>{const{name:_,value:T}=S.target;r(E=>({...E,[_]:T})),o[_]&&l(E=>({...E,[_]:""}))},w=()=>{const S={};return t.password?t.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",l(S),Object.keys(S).length===0},j=async S=>{if(S.preventDefault(),!!w()){u(!0),y(""),m("");try{const{ApiService:_}=await qt(async()=>{const{ApiService:E}=await Promise.resolve().then(()=>Zt);return{ApiService:E}},void 0),T=await _.resetPassword(v,t.password);T.success?(m("Your password has been reset successfully. You can now sign in with your new password."),setTimeout(()=>{n("/login")},3e3)):y(T.message||"Failed to reset password. Please try again.")}catch(_){console.error("Reset password error:",_),y("An error occurred. Please try again.")}finally{u(!1)}}};return v?a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below."})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"card",children:a.jsxs("form",{className:"space-y-6",onSubmit:j,children:[g&&a.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-600 px-4 py-3 rounded-lg",children:g}),h&&a.jsx("div",{className:"bg-success-50 border border-success-200 text-success-600 px-4 py-3 rounded-lg",children:h}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:t.password,onChange:k,className:`input ${o.password?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Enter your new password",disabled:d}),o.password&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:o.password})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:t.confirmPassword,onChange:k,className:`input ${o.confirmPassword?"border-danger-500 focus:ring-danger-500":""}`,placeholder:"Confirm your new password",disabled:d}),o.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-danger-600",children:o.confirmPassword})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:d||!t.password||!t.confirmPassword,className:`btn w-full flex justify-center items-center ${t.password&&t.confirmPassword&&!d?"btn-primary":"btn-primary opacity-50"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"})}),a.jsx("div",{className:"text-center",children:a.jsx($t,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Back to Sign In"})})]})})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"card",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-600 px-4 py-3 rounded-lg mb-4",children:"Invalid or missing reset token"}),a.jsx($t,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Request a new password reset"})]})})})})};function tj(){return a.jsx(qw,{children:a.jsx(_y,{basename:"/Personal-Finance",children:a.jsxs(ty,{children:[a.jsx(Bn,{path:"/",element:a.jsx(Zx,{to:"/login",replace:!0})}),a.jsx(Bn,{path:"/login",element:a.jsx(Fy,{})}),a.jsx(Bn,{path:"/register",element:a.jsx(Iy,{})}),a.jsx(Bn,{path:"/dashboard",element:a.jsx(Yw,{})}),a.jsx(Bn,{path:"/profile",element:a.jsx(Jw,{})}),a.jsx(Bn,{path:"/forgot-password",element:a.jsx(Zw,{})}),a.jsx(Bn,{path:"/reset-password",element:a.jsx(ej,{})})]})})})}dx.createRoot(document.getElementById("root")).render(a.jsx(sa.StrictMode,{children:a.jsx(tj,{})}));
